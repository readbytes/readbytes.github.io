<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>JavaScript Algorithms Sorting and Order: Elementary Sorting Algorithms</title>
<link rel='shortcut icon' href='https://java2s.com/style/favicon.ico'>
<link href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" rel="stylesheet" />
<link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/material.css"> <!-- Dark theme -->
<script src="https://cdn.jsdelivr.net/npm/typescript@5/lib/typescript.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/htmlmixed/htmlmixed.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/xml/xml.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/css/css.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/typescript.min.js"></script>
<style>
    #floatingLog {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(20, 20, 20, 0.95);
      color: white;
      font-family: monospace;
      font-size: 14px;
      padding: 16px 20px;
      border-radius: 8px;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);
      max-width: 80%;
      max-height: 200px;
      overflow-y: auto;
      display: none;
      z-index: 9999;
      pointer-events: none;
      white-space: pre-wrap;
      text-align: center;
    }
</style>
<script>
  const codeMirrorMap = new Map();
  const iframeMap = new Map();
  
 

  let dismissTimer;
  function showFloatingLog(message) {
	const floatingLog = document.getElementById('floatingLog');

    if (floatingLog.style.display !== 'block') {
      floatingLog.textContent = '';
      floatingLog.style.display = 'block'; 
    }

    floatingLog.textContent += message + '\n';
    floatingLog.scrollTop = floatingLog.scrollHeight; 
    clearTimeout(dismissTimer);
    dismissTimer = setTimeout(() => {
      floatingLog.style.display = 'none';
      floatingLog.textContent = '';
    }, 2000);
  }
  window.addEventListener('message', (event) => {
	    if (!iframeMap.has(event.source)) return;

	    if (event.data?.type === 'console-log') {
	      showFloatingLog(event.data.message);
	    }
  });  
  function renderIframe(button,textarea_id, iframe_id) {
      const html = codeMirrorMap.get(textarea_id).getValue();
      const iframe = document.getElementById(iframe_id);
  
      const oldIframe = iframe;
      const newIframe = document.createElement('iframe');
      newIframe.className ="result_iframe";
      
      newIframe.id = iframe_id;
      oldIframe.replaceWith(newIframe);
 

      // Track the iframe in the map
      iframeMap.set(newIframe.contentWindow, button);

      const overrideScript = `
        <script>
          (function() {
            const originalLog = console.log;
            console.log = function(...args) {
              originalLog.apply(console, args);
              window.parent.postMessage({
                type: 'console-log',
                message: args.map(a => {
                  try { return JSON.stringify(a); }
                  catch { return String(a); }
                }).join(' ')
              }, '*');
            };
          })();
        <\/script>
      `;

      const iframeHTML = `
        <!DOCTYPE html>
        <html>
        <body>
          ${overrideScript}
          ${html}
        </body>
        </html>
      `;
 
      const doc = newIframe.contentDocument || newIframe.contentWindow.document;
      doc.open();
      doc.write(iframeHTML);
      doc.close();

      
  }
  function renderIframeForClientTypescript(textarea_id, iframe_id) {
      let code = codeMirrorMap.get(textarea_id).getValue();
      code = ts.transpile(code);
      const iframe = document.getElementById(iframe_id);
      const doc = iframe.contentDocument || iframe.contentWindow.document;

const html = `
  <!DOCTYPE html>
  <html>
    <head>
      <title>Output</title>
      <style>
        body { font-family: monospace; padding: 1em; background: #f4f4f4; color: #222; }
        pre { white-space: pre-wrap; word-break: break-word; }
        .error { color: red; }
      </style>
    </head>
    <body>
      <pre id="log"></pre>
      <script>
        (function(){
          const logEl = document.getElementById('log');
          const origLog = console.log;
          const origError = console.error;

          console.log = (...args) => {
            logEl.textContent += args.join(' ') + '\\n';
            origLog.apply(console, args);
          };
          console.table = (...args) => {
            logEl.textContent += args.join(' ') + '\\n';
            origLog.apply(console, args);
          };

          console.error = (...args) => {
            logEl.innerHTML +='<span class="error">' + args.join(' ') + '</span>';
            origError.apply(console, args);
          };
          window.addEventListener("error", function (event) {
              console.error("Caught by event listener:", event.message);
          });    
          try {             
              ${code};
          } catch (err) {
            console.error(err.stack || err.message);
          }
        })();
      <\/script>
    </body>
  </html>
`;

      iframe.style.display = "block";
      iframe.srcdoc = html;  
  }

    function renderIframeForClientJavascript(textarea_id, iframe_id) {
        const code = codeMirrorMap.get(textarea_id).getValue();
        const iframe = document.getElementById(iframe_id);
        const doc = iframe.contentDocument || iframe.contentWindow.document;

  const html = `
    <!DOCTYPE html>
    <html>
      <head>
        <title>Output</title>
        <style>
          body { font-family: monospace; padding: 1em; background: #1e1e1e; color: #eee; }
          pre { white-space: pre-wrap; word-break: break-word; }
          .error { color: red; }
        </style>
      </head>
      <body>
        <pre id="log"></pre>
        <script>
          (function(){
            const logEl = document.getElementById('log');
            const origLog = console.log;
            const origError = console.error;

            console.log = (...args) => {
              logEl.textContent += args.join(' ') + '\\n';
              origLog.apply(console, args);
            };
            console.table = (...args) => {
              logEl.textContent += args.join(' ') + '\\n';
              origLog.apply(console, args);
            };

            console.error = (...args) => {
              logEl.innerHTML +='<span class="error">' + args.join(' ') + '</span>';
              origError.apply(console, args);
            };
            window.addEventListener("error", function (event) {
                console.error("Caught by event listener:", event.message);
            });    
            try {
             ${code}; 
            } catch (err) {
              console.error(err.stack || err.message);
            }
          })();
        <\/script>
      </body>
    </html>
  `;
        iframe.style.display = "block";
        iframe.srcdoc = html;  
    }
    function toggleSnippetAndRefresh(id, textarea_id) {
      const box = document.getElementById(id);
      box.classList.toggle("open");
      codeMirrorMap.get(textarea_id).refresh();
    }

  </script>
  <script>
  const mode = localStorage.getItem('mode') || 'light';
  document.documentElement.classList.add(`${mode}-mode`);
  </script>   
<style> 
html {
  scroll-behavior: smooth;
}

body {
  font-family: 'Merriweather', serif;
  margin: 0;
  padding: 2rem 1rem;
  font-size: 15px;
  line-height: 1.5;
  transition: background-color 0.3s, color 0.3s;
}

.container {
  max-width: 700px;
  margin: 0 auto;
  padding: 1rem 2rem;
  box-shadow: 0 0 15px rgba(0,0,0,0.1);
}

h1, h2, h3 {
  font-weight: 600;
  margin-top: 2.5rem;
  margin-bottom: 1rem;
  line-height: 1.2;
}

h1 { font-size: 1.8rem; }
h2 { font-size: 1.4rem; }
h3 { font-size: 1.2rem; }

table {
  width: 100%;
  border-collapse: collapse;
  font-family: sans-serif;
  font-size: 1em;
  margin: 1em 0;
}

th, td {
  padding: 0.6em 1em;
  text-align: left;
  border: 1px solid;
}

tr:nth-child(even) {
  background-color: inherit;
}

tr:hover {
  background-color: inherit;
}

a {
  text-decoration: none;
  transition: color 0.2s;
}

a:hover {
  text-decoration: underline;
}

code {
  color: #d35400;
}

.book-title-chapter {
  font-family: 'Merriweather', serif;
  font-size: 2rem;
  font-weight: bold;
  text-align: center;
  margin-bottom: 2rem;
  border-bottom: 2px solid;
  padding-bottom: 0.5rem;
}

.book-subtitle-chapter {
  text-align: center;
  font-size: 1rem;
  margin-top: -1rem;
  margin-bottom: 2rem;
}

.related-books {
  margin-top: 40px;
}

.related-book-list {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
}

    .book-cover {
      width: 130px;
      height: 180px;
      font-family: Arial, sans-serif;
      position: relative;
      overflow: hidden;      
      line-height: normal;
      box-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }
    .book-cover-bottom-stripe {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 5px;
      width: 100%;
    }
    .book-cover-title {
      position: absolute;
      width: 100%;
      text-align: center;
      font-weight: bold;
    }
     
    .book-cover-icon {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      align-items: center;
      justify-content: center; 
    }

    .book-cover-author {
      position: absolute;
      bottom: 10px;
      width: 100%;
      text-align: center;
      font-size: 8px;
      color: #333;
    }

.page-footer {
  margin-top: 4rem;
  padding: 1rem 0;
  text-align: center;
  font-size: 0.85rem;
  border-top: 1px solid;
}

.chapter-navi-section {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-bottom: 10px;
}

.nav-link {
  color: inherit;
  text-decoration: none;
  opacity: 0.5;
  transition: opacity 0.3s ease, text-decoration 0.3s ease;
}

.nav-link:hover {
  opacity: 0.9;
  text-decoration: underline;
}

.prev { text-align: left; }
.toc-link { text-align: center; }
.next { text-align: right; }

.download-section {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 2rem;
  padding: 2rem 1rem;
  max-width: 600px;
  margin: 3rem auto;
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

.download-info h2 {
  margin: 0 0 0.5rem;
  font-size: 1.2rem;
}

.format-label {
  margin: 0 0 0.5rem;
  font-size: 0.95rem;
}

.download-buttons {
  display: flex;
  gap: 1rem;
}

.download-button {
  background-color: #4A90E2;
  color: white;
  padding: 0.5em 1.2em;
  border-radius: 25px;
  font-size: 0.95rem;
  text-decoration: none;
  transition: background-color 0.3s ease;
}

.download-button:hover {
  background-color: #357ABD;
}

.code-block {
  position: relative;
  margin-bottom: 1em;
}

.copy-button {
  background: transparent;
  color: white;
  position: absolute;
  top: 8px;
  right: 8px;
  border: none;
  padding: 4px 8px;
  font-size: 12px;
  border-radius: 4px;
  cursor: pointer;
  z-index: 1;
}

.copy-button:hover {
  background-color: #0056b3;
}

.snippet-container {
  overflow: hidden;
}

.snippet-header {
  padding: 0.75rem 1rem;
  cursor: pointer;
  font-size: 1rem;
    background-color: #eeeeee;
    color:  #111111; 
    border-radius: 8px;
    cursor: pointer;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);  
}

.snippet-body {
  display: none;
  font-family: monospace;
}

.snippet-container.open .snippet-body {
  display: block;
}

.CodeMirror {
  border: 2px solid #ccc;
  border-radius: 4px;
  resize: vertical;
}

/* === Light Mode === */
html.light-mode {
  background-color: #f8f7f5;
  color: #333;
}

html.light-mode .container {
  background: white;
}

html.light-mode .book-title-chapter {
  color: #2c3e50;
  border-color: #ccc;
}
html.light-mode .book-subtitle-chapter{
  color: #888;
}

html.light-mode .page-footer,
html.light-mode .series-name,
html.light-mode .book-subtitle,
html.light-mode .format-label {
  color: #888;
}

html.light-mode .related-books h2 {
  color: #333;
  border-bottom: 2px solid #eee;
}

html.light-mode .book-title {
  color: #fff;
}

html.light-mode .book-cover {
  border: 1px solid #ccc;
}

html.light-mode th {
  background-color: #f2f2f2;
}

html.light-mode tr:nth-child(even) {
  background-color: #fafafa;
}

html.light-mode tr:hover {
  background-color: #e6f7ff;
}

html.light-mode a,
html.light-mode .page-footer a {
  color: #000;
}

/* === Dark Mode === */
html.dark-mode {
  background-color: #181818;
  color: #e0e0e0;
}

html.dark-mode .container {
  background: #222;
}

html.dark-mode .book-title-chapter {
  color: #ddd;
  border-color: #444;
}

html.dark-mode .snippet-header {
    background-color: #333;
    color:  #ddd; 
}


html.dark-mode .book-subtitle-chapter,
html.dark-mode .page-footer,
html.dark-mode .series-name,
html.dark-mode .book-subtitle,
html.dark-mode .book-footer,
html.dark-mode .format-label {
  color: #aaa;
}

html.dark-mode .related-books h2 {
  color: #ddd;
  border-bottom: 2px solid #333;
}

html.dark-mode .book-title {
  color: #fff;
}

html.dark-mode .book-cover {
  border: 1px solid #555;
}

html.dark-mode th {
  background-color: #333;
  color: #fff;
}

html.dark-mode td {
  border-color: #444;
}

html.dark-mode tr:nth-child(even) {
  background-color: #2a2a2a;
}

html.dark-mode tr:hover {
  background-color: #2c3e50;
}

html.dark-mode a,
html.dark-mode .page-footer a {
  color: #eee;
}

    .dialog-backdrop {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 10;
    }

    .dialog {
      background: white;
      padding: 20px;
      width: 90vw;
      height: 80vh;
      border-radius: 8px;
      box-shadow: 0 0 20px rgba(0,0,0,0.3);
      display: flex;
      flex-direction: column;
    }
    .dialog-content {
      display: flex;
      flex: 1;
      gap: 20px;
      margin-top: 10px;
    }
    .dialog h2 {
      margin-top: 0;
    }

    .textarea_dialog {
      width: 50%;
      height: 100%;
      resize: none;
      font-family: monospace;
      font-size: 14px;
      padding: 10px;
      box-sizing: border-box;
      border: 1px solid #ccc;
    }

    .iframe_dialog {
      width: 50%;
      height: 100%;
      border: 1px solid #ccc;
    }
    .controls_dialog {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
    }    
    button { padding: 0.5em 1em; background: green; color: white; border: none; cursor: pointer; }
    button:hover { background: #1e7e34; }
    .result_iframe { width:99%; height:200px; margin-top: 1em;  resize: both;border:1px solid #ccc;}        
</style>
</head>
<body> 
  <div class="container">
    <div class = "chapter-navi-section">
<a href="javascript-algorithms-mathematical-tools-lightweight.htm" class="nav-button prev">←</a>
<a href='javascript-algorithms.htm#sorting-and-order-elementary-sorting-algorithms' class="nav-button toc-link">Index</a>
<a href="javascript-algorithms-sorting-and-order-divide-and-conquer.htm" class="nav-button next">→</a>
</div>

    <h1 class="book-title-chapter" id = 'top'>Sorting and Order: Elementary Sorting Algorithms</h1>
    <h3 class="book-subtitle-chapter">JavaScript Algorithms</h3>   
    <!-- <h1 class ="chapter-title"></h1> -->
    <h2 id='bubble-sort'>4.1 Bubble Sort</h2><p>Bubble sort is one of the simplest sorting algorithms—both to understand and to implement. It works by <strong>repeatedly stepping through a list</strong>, comparing adjacent elements, and <strong>swapping them if they are in the wrong order</strong>. This "bubbling" process pushes the largest unsorted element to the end of the array with each full pass, much like how bubbles rise to the surface of water.</p><p>Despite its simplicity, bubble sort is <strong>inefficient for large datasets</strong> and is rarely used in production code. However, it's a great educational tool for introducing algorithmic thinking, comparisons, and swaps.</p><h3 id="how-bubble-sort-works">How Bubble Sort Works</h3><p>Let’s break it down step-by-step with an example. Consider this array:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-bash">[5, 3, 8, 4, 2]</code></pre>
</div><p><strong>Pass 1</strong>:</p><ul>
 <li>Compare 5 and 3 → Swap → <code>[3, 5, 8, 4, 2]</code></li>
 <li>Compare 5 and 8 → No Swap</li>
 <li>Compare 8 and 4 → Swap → <code>[3, 5, 4, 8, 2]</code></li>
 <li>Compare 8 and 2 → Swap → <code>[3, 5, 4, 2, 8]</code></li>
</ul><p>Largest number (8) is now at the end.</p><p><strong>Pass 2</strong>:</p><ul>
 <li>Compare 3 and 5 → No Swap</li>
 <li>Compare 5 and 4 → Swap → <code>[3, 4, 5, 2, 8]</code></li>
 <li>Compare 5 and 2 → Swap → <code>[3, 4, 2, 5, 8]</code></li>
</ul><p>And so on, until the array is fully sorted.</p><div class="snippet-container" id="<!DOCTYPE html>
<html lang=&quot;en&quot;>
<head>
  <meta charset=&quot;UTF-8&quot;>
  <title>Bubble Sort Step Visualizer</title>
  <style>
    canvas {
      border: 1px solid #ccc;
      display: block;
      margin: 20px auto;
    }
    button {
      display: block;
      margin: 0 auto;
      padding: 10px 20px;
      font-size: 16px;
    }
  </style>
</head>
<body>

<canvas id=&quot;canvas&quot; width=&quot;500&quot; height=&quot;300&quot;></canvas>
<button id=&quot;next&quot;>Show Next Step in bubble sort</button>

<script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
const nextBtn = document.getElementById('next');

// Settings
const array = [100, 200, 80, 160, 120];
const barWidth = 60;
const spacing = 20;
const baseY = 280;

// Bubble Sort indices
let i = 0;
let j = 0;
let phase = 'compare'; // 'compare' or 'swap'
let animProgress = 0;
let animationId = null;
let isSwapping = false;

function drawArray(highlightA = -1, highlightB = -1, swapProgress = 0) {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  array.forEach((height, idx) => {
    const x = spacing + idx * (barWidth + spacing);
    const y = baseY - height;

    ctx.fillStyle = (idx === highlightA || idx === highlightB) ? 'red' : 'steelblue';

    let offsetX = 0;
    if (idx === highlightA &amp;&amp; swapProgress) offsetX = (barWidth + spacing) * swapProgress;
    if (idx === highlightB &amp;&amp; swapProgress) offsetX = -(barWidth + spacing) * swapProgress;

    ctx.fillRect(x + offsetX, y, barWidth, height);
    ctx.fillStyle = 'black';
    ctx.fillText(array[idx], x + offsetX + 20, baseY + 15);
  });
}

function animateSwap(a, b, callback) {
  isSwapping = true;
  animProgress = 0;

  function step() {
    animProgress += 0.05;
    if (animProgress >= 1) {
      // Swap values in the array
      [array[a], array[b]] = [array[b], array[a]];
      isSwapping = false;
      drawArray();
      cancelAnimationFrame(animationId);
      callback();
      return;
    }
    drawArray(a, b, animProgress);
    animationId = requestAnimationFrame(step);
  }

  step();
}

function stepSort() {
  if (isSwapping) return;

  if (i < array.length - 1) {
    if (j < array.length - i - 1) {
      const a = j;
      const b = j + 1;

      if (phase === 'compare') {
        drawArray(a, b); // Highlight comparison
        phase = 'swap';
      } else if (phase === 'swap') {
        if (array[a] > array[b]) {
          animateSwap(a, b, () => {
            j++;
            phase = 'compare';
          });
        } else {
          drawArray(); // No swap needed
          j++;
          phase = 'compare';
        }
      }
    } else {
      j = 0;
      i++;
    }
  } else {
    drawArray(); // Final state
    nextBtn.disabled = true;
  }
}

// Initial draw
drawArray();

// Button handler
nextBtn.addEventListener('click', stepSort);
</script>

</body>
</html>ID"><textarea id="AXF6M" style="display: none;">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Bubble Sort Step Visualizer&lt;/title&gt;
  &lt;style&gt;
    canvas {
      border: 1px solid #ccc;
      display: block;
      margin: 20px auto;
    }
    button {
      display: block;
      margin: 0 auto;
      padding: 10px 20px;
      font-size: 16px;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;canvas id="canvas" width="500" height="300"&gt;&lt;/canvas&gt;
&lt;button id="next"&gt;Show Next Step in bubble sort&lt;/button&gt;

&lt;script&gt;
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
const nextBtn = document.getElementById('next');

// Settings
const array = [100, 200, 80, 160, 120];
const barWidth = 60;
const spacing = 20;
const baseY = 280;

// Bubble Sort indices
let i = 0;
let j = 0;
let phase = 'compare'; // 'compare' or 'swap'
let animProgress = 0;
let animationId = null;
let isSwapping = false;

function drawArray(highlightA = -1, highlightB = -1, swapProgress = 0) {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  array.forEach((height, idx) =&gt; {
    const x = spacing + idx * (barWidth + spacing);
    const y = baseY - height;

    ctx.fillStyle = (idx === highlightA || idx === highlightB) ? 'red' : 'steelblue';

    let offsetX = 0;
    if (idx === highlightA &amp;&amp; swapProgress) offsetX = (barWidth + spacing) * swapProgress;
    if (idx === highlightB &amp;&amp; swapProgress) offsetX = -(barWidth + spacing) * swapProgress;

    ctx.fillRect(x + offsetX, y, barWidth, height);
    ctx.fillStyle = 'black';
    ctx.fillText(array[idx], x + offsetX + 20, baseY + 15);
  });
}

function animateSwap(a, b, callback) {
  isSwapping = true;
  animProgress = 0;

  function step() {
    animProgress += 0.05;
    if (animProgress &gt;= 1) {
      // Swap values in the array
      [array[a], array[b]] = [array[b], array[a]];
      isSwapping = false;
      drawArray();
      cancelAnimationFrame(animationId);
      callback();
      return;
    }
    drawArray(a, b, animProgress);
    animationId = requestAnimationFrame(step);
  }

  step();
}

function stepSort() {
  if (isSwapping) return;

  if (i &lt; array.length - 1) {
    if (j &lt; array.length - i - 1) {
      const a = j;
      const b = j + 1;

      if (phase === 'compare') {
        drawArray(a, b); // Highlight comparison
        phase = 'swap';
      } else if (phase === 'swap') {
        if (array[a] &gt; array[b]) {
          animateSwap(a, b, () =&gt; {
            j++;
            phase = 'compare';
          });
        } else {
          drawArray(); // No swap needed
          j++;
          phase = 'compare';
        }
      }
    } else {
      j = 0;
      i++;
    }
  } else {
    drawArray(); // Final state
    nextBtn.disabled = true;
  }
}

// Initial draw
drawArray();

// Button handler
nextBtn.addEventListener('click', stepSort);
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</textarea> <iframe id="ZTVZ6" class="result_iframe" style="border:none;"></iframe>
 <script>{
const textarea = document.getElementById("AXF6M");
const iframe = document.getElementById("ZTVZ6");
const html = textarea.value;
const iframeHTML = `${html}`;
const doc = iframe.contentDocument || iframe.contentWindow.document;
doc.open();
doc.write(iframeHTML);
doc.close();
setTimeout(() => {
iframe.style.height = '0px';
const contentHeight = Math.max(
  doc.body.scrollHeight,
  doc.documentElement.scrollHeight
);
iframe.style.height = contentHeight + 'px';
}, 50);
}
		</script>
</div><h3 id="javascript-implementation">JavaScript Implementation</h3><p>Here’s a clean implementation of bubble sort in JavaScript, with comments to explain each part:</p><div>
 <div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
  <pre><code class="language-js">function bubbleSort(arr) {
  let swapped;
  const n = arr.length;

  do {
    swapped = false;

    for (let i = 0; i &lt; n - 1; i++) {
      // Compare adjacent elements
      if (arr[i] &gt; arr[i + 1]) {
        // Swap if elements are in the wrong order
        [arr[i], arr[i + 1]] = [arr[i + 1], arr[i]];
        swapped = true;
      }
    }
    // Repeat the loop if any swaps occurred
  } while (swapped);

  return arr;
}

// Example
console.log(bubbleSort([5, 3, 8, 4, 2])); // Output: [2, 3, 4, 5, 8]</code></pre>
 </div>
 <div class="snippet-container" id="bu3u4">
  <div class="snippet-header" onclick="toggleSnippetAndRefresh('bu3u4','R5gdC')">
   Try it in editor
  </div>
  <div class="snippet-body"><textarea id="R5gdC">function bubbleSort(arr) {
  let swapped;
  const n = arr.length;

  do {
    swapped = false;

    for (let i = 0; i &lt; n - 1; i++) {
      // Compare adjacent elements
      if (arr[i] &gt; arr[i + 1]) {
        // Swap if elements are in the wrong order
        [arr[i], arr[i + 1]] = [arr[i + 1], arr[i]];
        swapped = true;
      }
    }
    // Repeat the loop if any swaps occurred
  } while (swapped);

  return arr;
}

// Example
console.log(bubbleSort([5, 3, 8, 4, 2])); // Output: [2, 3, 4, 5, 8]</textarea> <br> <button onclick="renderIframeForClientJavascript('R5gdC','mjFnP')">Run</button> <iframe id="mjFnP" class="result_iframe" style="display: none;"></iframe>
   <script>
  {let editor1 = CodeMirror.fromTextArea(document.getElementById("R5gdC"), {
    mode: "javascript",
    lineNumbers:false,
    tabSize: 2
    });
    const mode = localStorage.getItem("mode") || "light";  
    const newTheme = mode === "dark" ? "material" : "default";
    editor1.setOption("theme", newTheme);

   codeMirrorMap.set("R5gdC", editor1);}
  </script>
  </div>
 </div>
</div><p>This version uses a <code>do...while</code> loop to continue looping until a full pass completes with no swaps—indicating the array is sorted.</p><h3 id="visualization-of-the-sorting-process">Visualization of the Sorting Process</h3><p>Here’s a text-based step-by-step visualization of the array <code>[5, 3, 8, 4, 2]</code>:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-bash">Start:     [5, 3, 8, 4, 2]
Pass 1:    [3, 5, 4, 2, 8]
Pass 2:    [3, 4, 2, 5, 8]
Pass 3:    [3, 2, 4, 5, 8]
Pass 4:    [2, 3, 4, 5, 8]
Sorted:    [2, 3, 4, 5, 8]</code></pre>
</div><p>Each pass pushes the next-largest number to its final position.</p><h3 id="time-complexity">Time Complexity</h3><ul>
 <li><strong>Worst-case</strong>: <code>O(n²)</code> — when the array is in reverse order.</li>
 <li><strong>Best-case</strong>: <code>O(n)</code> — if the array is already sorted (with an optimization that checks if any swaps occurred).</li>
 <li><strong>Space complexity</strong>: <code>O(1)</code> — in-place sorting.</li>
</ul><h3 id="when-should-you-use-bubble-sort">When Should You Use Bubble Sort?</h3><p>In practice: <strong>almost never</strong>.</p><p>Bubble sort is vastly outperformed by more advanced algorithms like quicksort or merge sort, especially as input sizes grow. Its <strong>only real use case</strong> is educational—teaching beginners how sorting algorithms work by walking through a simple, intuitive process.</p><h3 id="summary">Summary</h3><p>Bubble sort is a stepping stone for understanding how comparisons and swaps can lead to a sorted array. It is easy to code, easy to visualize, and sets the stage for deeper algorithmic thinking. While inefficient in real-world applications, its simplicity makes it a classic example for learning sorting fundamentals.</p><div class = "chapter-navi-section">
<a href="#top" class="nav-button prev">↑</a>
<a href='javascript-algorithms.htm#sorting-and-order-elementary-sorting-algorithms' class="nav-button toc-link">Index</a>
<a href="#bottom" class="nav-button next">↓</a>
</div>
<h2 id='insertion-sort'>4.2 Insertion Sort</h2><p>Insertion sort is a simple and intuitive sorting algorithm that builds the final sorted array one element at a time. It works similarly to how people often sort playing cards in their hands—by inserting each new card into its correct position among the previously sorted cards.</p><p>While not efficient on large unsorted datasets, insertion sort shines when the array is <strong>nearly sorted</strong> or <strong>very small</strong>, making it a practical choice in specific scenarios like hybrid sorting algorithms or early exit conditions.</p><h3 id="how-insertion-sort-works">How Insertion Sort Works</h3><p>The algorithm starts with the assumption that the <strong>first element is already sorted</strong>, and then it:</p><ol>
 <li>Picks the next element.</li>
 <li>Compares it with elements before it.</li>
 <li>Shifts larger elements one position to the right.</li>
 <li>Inserts the picked element into its correct spot.</li>
</ol><p>Let’s walk through an example with this array:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-bash">[4, 3, 1, 5, 2]</code></pre>
</div><ul>
 <li>First element <code>4</code> is already "sorted".</li>
 <li>Compare <code>3</code> with <code>4</code> → Insert <code>3</code> before <code>4</code>: <code>[3, 4, 1, 5, 2]</code></li>
 <li>Compare <code>1</code> with <code>4</code>, <code>3</code> → Insert at the start: <code>[1, 3, 4, 5, 2]</code></li>
 <li>Compare <code>5</code> → Already in correct place.</li>
 <li>Compare <code>2</code> with <code>5</code>, <code>4</code>, <code>3</code> → Insert before <code>3</code>: <code>[1, 2, 3, 4, 5]</code></li>
</ul><div class="snippet-container" id="<!DOCTYPE html>
<html lang=&quot;en&quot;>
<head>
  <meta charset=&quot;UTF-8&quot;>
  <title>Insertion Sort with Detailed Step Explanation</title>
  <style>
    #list {
      font-family: monospace;
      text-align: center;
      margin-top: 40px;
      font-size: 24px;
      letter-spacing: 12px;
    }
    #explanation {
      text-align: center;
      margin-top: 20px;
      font-size: 18px;
      font-family: sans-serif;
    }
    .sorted {
      color: black;
    }
    .unsorted {
      color: gray;
    }
    .key {
      color: red;
    }
    .empty {
      visibility: hidden;
    }
    button {
      display: block;
      margin: 30px auto;
      padding: 10px 20px;
      font-size: 18px;
    }
  </style>
</head>
<body>

<div id=&quot;list&quot;></div>
<div id=&quot;explanation&quot;></div>
<button id=&quot;next&quot;>Next Step</button>

<script>
const values = [3, 2, 1, 6, 5, 7, 9, 0, 4, 8];
let i = 1;
let j;
let key = null;
let originalIndex = null;
let phase = 'start'; // 'start', 'shift', 'insert'
let explanationDiv = document.getElementById('explanation');

function renderArray({ keyIndex = -1, compareIndex = -1, sortedEnd = 0, hideIndex = -1 } = {}) {
  const listDiv = document.getElementById('list');
  listDiv.innerHTML = '';

  values.forEach((val, idx) => {
    const span = document.createElement('span');

    if (idx === hideIndex) {
      span.textContent = val;
      span.className = 'empty';
    } else if (idx === keyIndex) {
      span.textContent = val;
      span.className = 'key';
    } else if (idx < sortedEnd) {
      span.textContent = val;
      span.className = 'sorted';
    } else {
      span.textContent = val;
      span.className = 'unsorted';
    }

    listDiv.appendChild(span);
  });
}

function explain(msg) {
  explanationDiv.textContent = msg;
}

function step() {
  if (i >= values.length) {
    renderArray({ sortedEnd: values.length });
    explain(&quot;Sorting complete.&quot;);
    document.getElementById('next').disabled = true;
    return;
  }

  if (phase === 'start') {
    key = values[i];
    originalIndex = i;
    j = i - 1;
    renderArray({ keyIndex: i, compareIndex: j, sortedEnd: i });
    explain(`Compare ${values[j]} and ${key} (key at index ${i})`);
    phase = 'shift';
  } else if (phase === 'shift') {
    if (j >= 0 &amp;&amp; values[j] > key) {
      values[j + 1] = values[j]; // shift right
      renderArray({ keyIndex: originalIndex, hideIndex: j + 1, sortedEnd: i });
      explain(`Shift ${values[j]} from index ${j} → index ${j + 1}`);
      j--;
    } else {
      phase = 'insert';
    }
  } else if (phase === 'insert') {
    values[j + 1] = key;
    renderArray({ keyIndex: j + 1, sortedEnd: i + 1 });
    explain(`Insert ${key} (from index ${originalIndex}) at index ${j + 1}`);
    i++;
    phase = 'start';
  }
}

// Initial render
renderArray({ sortedEnd: 1 });
explain(&quot;Start with first element sorted&quot;);

// Button
document.getElementById('next').addEventListener('click', step);
</script>

</body>
</html>ID"><textarea id="4iv0I" style="display: none;">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Insertion Sort with Detailed Step Explanation&lt;/title&gt;
  &lt;style&gt;
    #list {
      font-family: monospace;
      text-align: center;
      margin-top: 40px;
      font-size: 24px;
      letter-spacing: 12px;
    }
    #explanation {
      text-align: center;
      margin-top: 20px;
      font-size: 18px;
      font-family: sans-serif;
    }
    .sorted {
      color: black;
    }
    .unsorted {
      color: gray;
    }
    .key {
      color: red;
    }
    .empty {
      visibility: hidden;
    }
    button {
      display: block;
      margin: 30px auto;
      padding: 10px 20px;
      font-size: 18px;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div id="list"&gt;&lt;/div&gt;
&lt;div id="explanation"&gt;&lt;/div&gt;
&lt;button id="next"&gt;Next Step&lt;/button&gt;

&lt;script&gt;
const values = [3, 2, 1, 6, 5, 7, 9, 0, 4, 8];
let i = 1;
let j;
let key = null;
let originalIndex = null;
let phase = 'start'; // 'start', 'shift', 'insert'
let explanationDiv = document.getElementById('explanation');

function renderArray({ keyIndex = -1, compareIndex = -1, sortedEnd = 0, hideIndex = -1 } = {}) {
  const listDiv = document.getElementById('list');
  listDiv.innerHTML = '';

  values.forEach((val, idx) =&gt; {
    const span = document.createElement('span');

    if (idx === hideIndex) {
      span.textContent = val;
      span.className = 'empty';
    } else if (idx === keyIndex) {
      span.textContent = val;
      span.className = 'key';
    } else if (idx &lt; sortedEnd) {
      span.textContent = val;
      span.className = 'sorted';
    } else {
      span.textContent = val;
      span.className = 'unsorted';
    }

    listDiv.appendChild(span);
  });
}

function explain(msg) {
  explanationDiv.textContent = msg;
}

function step() {
  if (i &gt;= values.length) {
    renderArray({ sortedEnd: values.length });
    explain("Sorting complete.");
    document.getElementById('next').disabled = true;
    return;
  }

  if (phase === 'start') {
    key = values[i];
    originalIndex = i;
    j = i - 1;
    renderArray({ keyIndex: i, compareIndex: j, sortedEnd: i });
    explain(`Compare ${values[j]} and ${key} (key at index ${i})`);
    phase = 'shift';
  } else if (phase === 'shift') {
    if (j &gt;= 0 &amp;&amp; values[j] &gt; key) {
      values[j + 1] = values[j]; // shift right
      renderArray({ keyIndex: originalIndex, hideIndex: j + 1, sortedEnd: i });
      explain(`Shift ${values[j]} from index ${j} → index ${j + 1}`);
      j--;
    } else {
      phase = 'insert';
    }
  } else if (phase === 'insert') {
    values[j + 1] = key;
    renderArray({ keyIndex: j + 1, sortedEnd: i + 1 });
    explain(`Insert ${key} (from index ${originalIndex}) at index ${j + 1}`);
    i++;
    phase = 'start';
  }
}

// Initial render
renderArray({ sortedEnd: 1 });
explain("Start with first element sorted");

// Button
document.getElementById('next').addEventListener('click', step);
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</textarea> <iframe id="5IUlI" class="result_iframe" style="border:none;"></iframe>
 <script>{
const textarea = document.getElementById("4iv0I");
const iframe = document.getElementById("5IUlI");
const html = textarea.value;
const iframeHTML = `${html}`;
const doc = iframe.contentDocument || iframe.contentWindow.document;
doc.open();
doc.write(iframeHTML);
doc.close();
setTimeout(() => {
iframe.style.height = '0px';
const contentHeight = Math.max(
  doc.body.scrollHeight,
  doc.documentElement.scrollHeight
);
iframe.style.height = contentHeight + 'px';
}, 50);
}
		</script>
</div><h3 id="javascript-implementation">JavaScript Implementation</h3><p>Here’s a clean implementation of insertion sort with explanatory comments:</p><div>
 <div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
  <pre><code class="language-js">function insertionSort(arr) {
  for (let i = 1; i &lt; arr.length; i++) {
    let current = arr[i];       // Element to insert
    let j = i - 1;

    // Shift elements to the right to make space for insertion
    while (j &gt;= 0 &amp;&amp; arr[j] &gt; current) {
      arr[j + 1] = arr[j];
      j--;
    }

    // Insert the element at its correct position
    arr[j + 1] = current;
  }

  return arr;
}

// Example
console.log(insertionSort([4, 3, 1, 5, 2])); // Output: [1, 2, 3, 4, 5]</code></pre>
 </div>
 <div class="snippet-container" id="FEeuX">
  <div class="snippet-header" onclick="toggleSnippetAndRefresh('FEeuX','AniMt')">
   Try it in editor
  </div>
  <div class="snippet-body"><textarea id="AniMt">function insertionSort(arr) {
  for (let i = 1; i &lt; arr.length; i++) {
    let current = arr[i];       // Element to insert
    let j = i - 1;

    // Shift elements to the right to make space for insertion
    while (j &gt;= 0 &amp;&amp; arr[j] &gt; current) {
      arr[j + 1] = arr[j];
      j--;
    }

    // Insert the element at its correct position
    arr[j + 1] = current;
  }

  return arr;
}

// Example
console.log(insertionSort([4, 3, 1, 5, 2])); // Output: [1, 2, 3, 4, 5]</textarea> <br> <button onclick="renderIframeForClientJavascript('AniMt','TXdkb')">Run</button> <iframe id="TXdkb" class="result_iframe" style="display: none;"></iframe>
   <script>
  {let editor1 = CodeMirror.fromTextArea(document.getElementById("AniMt"), {
    mode: "javascript",
    lineNumbers:false,
    tabSize: 2
    });
    const mode = localStorage.getItem("mode") || "light";  
    const newTheme = mode === "dark" ? "material" : "default";
    editor1.setOption("theme", newTheme);

   codeMirrorMap.set("AniMt", editor1);}
  </script>
  </div>
 </div>
</div><h3 id="visualizing-insertion-sort">Visualizing Insertion Sort</h3><p>Let’s visualize the sorting process on <code>[4, 3, 1, 5, 2]</code>:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-bash">Initial:      [4, 3, 1, 5, 2]
Step 1:       [3, 4, 1, 5, 2]   // Insert 3 before 4
Step 2:       [1, 3, 4, 5, 2]   // Insert 1 before 3
Step 3:       [1, 3, 4, 5, 2]   // 5 already in place
Step 4:       [1, 2, 3, 4, 5]   // Insert 2 before 3</code></pre>
</div><p>The key insight is that each step maintains a growing "sorted" section of the array.</p><h3 id="performance-comparison-with-bubble-sort">Performance Comparison with Bubble Sort</h3><p>Let’s benchmark insertion sort and bubble sort on a small dataset using <code>performance.now()</code>:</p><div>
 <div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
  <pre><code class="language-js">function bubbleSort(arr) {
  let swapped;
  do {
    swapped = false;
    for (let i = 0; i &lt; arr.length - 1; i++) {
      if (arr[i] &gt; arr[i + 1]) {
        [arr[i], arr[i + 1]] = [arr[i + 1], arr[i]];
        swapped = true;
      }
    }
  } while (swapped);
  return arr;
}
function insertionSort(arr) {
  for (let i = 1; i &lt; arr.length; i++) {
    let current = arr[i];       // Element to insert
    let j = i - 1;

    // Shift elements to the right to make space for insertion
    while (j &gt;= 0 &amp;&amp; arr[j] &gt; current) {
      arr[j + 1] = arr[j];
      j--;
    }

    // Insert the element at its correct position
    arr[j + 1] = current;
  }

  return arr;
}
function benchmarkSort(name, sortFn, data) {
  const arr = [...data]; // Clone input
  const start = performance.now();
  sortFn(arr);
  const end = performance.now();
  console.log(`${name} took ${(end - start).toFixed(3)} ms`);
}

const smallSorted = Array.from({ length: 1000 }, (_, i) =&gt; i);
const smallReversed = [...smallSorted].reverse();

console.log("Nearly sorted data:");
benchmarkSort("Insertion Sort", insertionSort, smallSorted);
benchmarkSort("Bubble Sort", bubbleSort, smallSorted);

console.log("Reversed data:");
benchmarkSort("Insertion Sort", insertionSort, smallReversed);
benchmarkSort("Bubble Sort", bubbleSort, smallReversed);</code></pre>
 </div>
 <div class="snippet-container" id="lR0xY">
  <div class="snippet-header" onclick="toggleSnippetAndRefresh('lR0xY','AQbAQ')">
   Try it in editor
  </div>
  <div class="snippet-body"><textarea id="AQbAQ">function bubbleSort(arr) {
  let swapped;
  do {
    swapped = false;
    for (let i = 0; i &lt; arr.length - 1; i++) {
      if (arr[i] &gt; arr[i + 1]) {
        [arr[i], arr[i + 1]] = [arr[i + 1], arr[i]];
        swapped = true;
      }
    }
  } while (swapped);
  return arr;
}
function insertionSort(arr) {
  for (let i = 1; i &lt; arr.length; i++) {
    let current = arr[i];       // Element to insert
    let j = i - 1;

    // Shift elements to the right to make space for insertion
    while (j &gt;= 0 &amp;&amp; arr[j] &gt; current) {
      arr[j + 1] = arr[j];
      j--;
    }

    // Insert the element at its correct position
    arr[j + 1] = current;
  }

  return arr;
}
function benchmarkSort(name, sortFn, data) {
  const arr = [...data]; // Clone input
  const start = performance.now();
  sortFn(arr);
  const end = performance.now();
  console.log(`${name} took ${(end - start).toFixed(3)} ms`);
}

const smallSorted = Array.from({ length: 1000 }, (_, i) =&gt; i);
const smallReversed = [...smallSorted].reverse();

console.log("Nearly sorted data:");
benchmarkSort("Insertion Sort", insertionSort, smallSorted);
benchmarkSort("Bubble Sort", bubbleSort, smallSorted);

console.log("Reversed data:");
benchmarkSort("Insertion Sort", insertionSort, smallReversed);
benchmarkSort("Bubble Sort", bubbleSort, smallReversed);</textarea> <br> <button onclick="renderIframeForClientJavascript('AQbAQ','L4BcI')">Run</button> <iframe id="L4BcI" class="result_iframe" style="display: none;"></iframe>
   <script>
  {let editor1 = CodeMirror.fromTextArea(document.getElementById("AQbAQ"), {
    mode: "javascript",
    lineNumbers:false,
    tabSize: 2
    });
    const mode = localStorage.getItem("mode") || "light";  
    const newTheme = mode === "dark" ? "material" : "default";
    editor1.setOption("theme", newTheme);

   codeMirrorMap.set("AQbAQ", editor1);}
  </script>
  </div>
 </div>
</div><p><strong>Expected Results (Varies by System):</strong></p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-bash">Nearly sorted data:
Insertion Sort took 0.12 ms
Bubble Sort took 5.87 ms

Reversed data:
Insertion Sort took 6.43 ms
Bubble Sort took 10.92 ms</code></pre>
</div><p>Insertion sort clearly <strong>outperforms bubble sort</strong> on nearly sorted data and even holds its own on reversed input.</p><h3 id="use-cases-and-limitations">Use Cases and Limitations</h3><p><strong>When Insertion Sort Is Useful:</strong></p><ul>
 <li>Small arrays (e.g., &lt; 20 elements)</li>
 <li>Nearly sorted data</li>
 <li>As a helper in hybrid sorts like Timsort</li>
</ul><p><strong>When to Avoid It:</strong></p><ul>
 <li>Large, randomly ordered datasets</li>
 <li>Time-critical code requiring <code>O(n log n)</code> efficiency</li>
</ul><h3 id="conclusion">Conclusion</h3><p>Insertion sort is more practical than bubble sort and provides better performance in real-world scenarios involving small or mostly sorted datasets. Its simple mechanics make it ideal for understanding how sorting works and serve as a foundation for learning more advanced algorithms. While it’s not suitable for large-scale data processing, insertion sort is a valuable tool in the algorithmic toolkit.</p><div class = "chapter-navi-section">
<a href="#top" class="nav-button prev">↑</a>
<a href='javascript-algorithms.htm#sorting-and-order-elementary-sorting-algorithms' class="nav-button toc-link">Index</a>
<a href="#bottom" class="nav-button next">↓</a>
</div>
<h2 id='selection-sort'>4.3 Selection Sort</h2><p><strong>3. Selection Sort</strong></p><p>Selection sort is a straightforward comparison-based sorting algorithm that works by <strong>repeatedly selecting the smallest (or largest) element</strong> from the unsorted portion of the array and placing it in its correct position. Like bubble sort and insertion sort, it is not efficient on large datasets but is helpful for understanding basic sorting logic.</p><h3 id="how-selection-sort-works">How Selection Sort Works</h3><p>The algorithm maintains two parts in the array:</p><ul>
 <li>A <strong>sorted portion</strong> (grows from left to right),</li>
 <li>An <strong>unsorted portion</strong> (shrinks as elements are placed correctly).</li>
</ul><p>In each pass:</p><ol>
 <li>Find the minimum element in the unsorted portion.</li>
 <li>Swap it with the first element of the unsorted portion.</li>
</ol><p>Let’s walk through an example using <code>[5, 3, 8, 4, 2]</code>.</p><ul>
 <li>Pass 1: Minimum is <code>2</code> → swap with <code>5</code> → <code>[2, 3, 8, 4, 5]</code></li>
 <li>Pass 2: Minimum is <code>3</code> → already in place</li>
 <li>Pass 3: Minimum is <code>4</code> → swap with <code>8</code> → <code>[2, 3, 4, 8, 5]</code></li>
 <li>Pass 4: Minimum is <code>5</code> → swap with <code>8</code> → <code>[2, 3, 4, 5, 8]</code></li>
</ul><p>Each pass places one element in its final position.</p><div class="snippet-container" id="<!DOCTYPE html>
<html lang=&quot;en&quot;>
<head>
  <meta charset=&quot;UTF-8&quot;>
  <title>Selection Sort Visualized</title>
  <style>
    #list {
      font-family: monospace;
      text-align: center;
      margin-top: 40px;
      font-size: 24px;
      letter-spacing: 12px;
    }
    #explanation {
      text-align: center;
      margin-top: 20px;
      font-size: 18px;
      font-family: sans-serif;
    }
    .sorted {
      color: black;
    }
    .unsorted {
      color: gray;
    }
    .selected {
      color: red;
    }
    .min {
      color: goldenrod;
    }
    button {
      display: block;
      margin: 30px auto;
      padding: 10px 20px;
      font-size: 18px;
    }
  </style>
</head>
<body>

<div id=&quot;list&quot;></div>
<div id=&quot;explanation&quot;></div>
<button id=&quot;next&quot;>Next Step</button>

<script>
const values = [100, 200, 80, 160, 120];
let i = 0;                 // current index to place min value
let j = 1;                 // current scan index
let minIndex = 0;          // index of the current minimum
let phase = 'scan';        // 'scan' | 'swap' | 'next'
const explanation = document.getElementById('explanation');

function render({ selected = -1, min = -1, sortedEnd = 0 } = {}) {
  const list = document.getElementById('list');
  list.innerHTML = '';

  values.forEach((val, idx) => {
    const span = document.createElement('span');
    span.textContent = val + ' ';
    if (idx < sortedEnd) {
      span.className = 'sorted';
    } else if (idx === selected) {
      span.className = 'selected';
    } else if (idx === min) {
      span.className = 'min';
    } else {
      span.className = 'unsorted';
    }
    list.appendChild(span);
  });
}

function explain(msg) {
  explanation.textContent = msg;
}

function step() {
  if (i >= values.length) {
    render({ sortedEnd: values.length });
    explain(&quot;Sorting complete.&quot;);
    document.getElementById('next').disabled = true;
    return;
  }

  if (phase === 'scan') {
    render({ selected: i, min: minIndex, sortedEnd: i });
    if (j < values.length) {
      explain(`Compare ${values[j]} and current min ${values[minIndex]}`);
      if (values[j] < values[minIndex]) {
        minIndex = j;
      }
      j++;
    } else {
      phase = 'swap';
    }
  } else if (phase === 'swap') {
    if (minIndex !== i) {
      explain(`Swap ${values[i]} (index ${i}) with ${values[minIndex]} (index ${minIndex})`);
      [values[i], values[minIndex]] = [values[minIndex], values[i]];
    } else {
      explain(`No swap needed, ${values[i]} is already minimum`);
    }
    render({ sortedEnd: i + 1 });
    phase = 'next';
  } else if (phase === 'next') {
    i++;
    j = i + 1;
    minIndex = i;
    if (i < values.length) {
      phase = 'scan';
      render({ selected: i, min: minIndex, sortedEnd: i });
      explain(`Start scanning for minimum from index ${i}`);
    } else {
      step(); // end
    }
  }
}

// Initial draw
render({ sortedEnd: 0 });
explain(&quot;Start Selection Sort&quot;);

// Button
document.getElementById('next').addEventListener('click', step);
</script>

</body>
</html>ID"><textarea id="es105" style="display: none;">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Selection Sort Visualized&lt;/title&gt;
  &lt;style&gt;
    #list {
      font-family: monospace;
      text-align: center;
      margin-top: 40px;
      font-size: 24px;
      letter-spacing: 12px;
    }
    #explanation {
      text-align: center;
      margin-top: 20px;
      font-size: 18px;
      font-family: sans-serif;
    }
    .sorted {
      color: black;
    }
    .unsorted {
      color: gray;
    }
    .selected {
      color: red;
    }
    .min {
      color: goldenrod;
    }
    button {
      display: block;
      margin: 30px auto;
      padding: 10px 20px;
      font-size: 18px;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div id="list"&gt;&lt;/div&gt;
&lt;div id="explanation"&gt;&lt;/div&gt;
&lt;button id="next"&gt;Next Step&lt;/button&gt;

&lt;script&gt;
const values = [100, 200, 80, 160, 120];
let i = 0;                 // current index to place min value
let j = 1;                 // current scan index
let minIndex = 0;          // index of the current minimum
let phase = 'scan';        // 'scan' | 'swap' | 'next'
const explanation = document.getElementById('explanation');

function render({ selected = -1, min = -1, sortedEnd = 0 } = {}) {
  const list = document.getElementById('list');
  list.innerHTML = '';

  values.forEach((val, idx) =&gt; {
    const span = document.createElement('span');
    span.textContent = val + ' ';
    if (idx &lt; sortedEnd) {
      span.className = 'sorted';
    } else if (idx === selected) {
      span.className = 'selected';
    } else if (idx === min) {
      span.className = 'min';
    } else {
      span.className = 'unsorted';
    }
    list.appendChild(span);
  });
}

function explain(msg) {
  explanation.textContent = msg;
}

function step() {
  if (i &gt;= values.length) {
    render({ sortedEnd: values.length });
    explain("Sorting complete.");
    document.getElementById('next').disabled = true;
    return;
  }

  if (phase === 'scan') {
    render({ selected: i, min: minIndex, sortedEnd: i });
    if (j &lt; values.length) {
      explain(`Compare ${values[j]} and current min ${values[minIndex]}`);
      if (values[j] &lt; values[minIndex]) {
        minIndex = j;
      }
      j++;
    } else {
      phase = 'swap';
    }
  } else if (phase === 'swap') {
    if (minIndex !== i) {
      explain(`Swap ${values[i]} (index ${i}) with ${values[minIndex]} (index ${minIndex})`);
      [values[i], values[minIndex]] = [values[minIndex], values[i]];
    } else {
      explain(`No swap needed, ${values[i]} is already minimum`);
    }
    render({ sortedEnd: i + 1 });
    phase = 'next';
  } else if (phase === 'next') {
    i++;
    j = i + 1;
    minIndex = i;
    if (i &lt; values.length) {
      phase = 'scan';
      render({ selected: i, min: minIndex, sortedEnd: i });
      explain(`Start scanning for minimum from index ${i}`);
    } else {
      step(); // end
    }
  }
}

// Initial draw
render({ sortedEnd: 0 });
explain("Start Selection Sort");

// Button
document.getElementById('next').addEventListener('click', step);
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</textarea> <iframe id="bWCUh" class="result_iframe" style="border:none;"></iframe>
 <script>{
const textarea = document.getElementById("es105");
const iframe = document.getElementById("bWCUh");
const html = textarea.value;
const iframeHTML = `${html}`;
const doc = iframe.contentDocument || iframe.contentWindow.document;
doc.open();
doc.write(iframeHTML);
doc.close();
setTimeout(() => {
iframe.style.height = '0px';
const contentHeight = Math.max(
  doc.body.scrollHeight,
  doc.documentElement.scrollHeight
);
iframe.style.height = contentHeight + 'px';
}, 50);
}
		</script>
</div><h3 id="javascript-implementation">JavaScript Implementation</h3><p>Here’s a clean and annotated version of selection sort in JavaScript:</p><div>
 <div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
  <pre><code class="language-js">function selectionSort(arr) {
  const n = arr.length;

  for (let i = 0; i &lt; n - 1; i++) {
    let minIndex = i;

    // Find the index of the minimum element
    for (let j = i + 1; j &lt; n; j++) {
      if (arr[j] &lt; arr[minIndex]) {
        minIndex = j;
      }
    }

    // Swap the found minimum element with the first unsorted element
    if (minIndex !== i) {
      [arr[i], arr[minIndex]] = [arr[minIndex], arr[i]];
    }
  }

  return arr;
}

// Example usage
console.log(selectionSort([5, 3, 8, 4, 2])); // Output: [2, 3, 4, 5, 8]</code></pre>
 </div>
 <div class="snippet-container" id="cSAly">
  <div class="snippet-header" onclick="toggleSnippetAndRefresh('cSAly','KSLuK')">
   Try it in editor
  </div>
  <div class="snippet-body"><textarea id="KSLuK">function selectionSort(arr) {
  const n = arr.length;

  for (let i = 0; i &lt; n - 1; i++) {
    let minIndex = i;

    // Find the index of the minimum element
    for (let j = i + 1; j &lt; n; j++) {
      if (arr[j] &lt; arr[minIndex]) {
        minIndex = j;
      }
    }

    // Swap the found minimum element with the first unsorted element
    if (minIndex !== i) {
      [arr[i], arr[minIndex]] = [arr[minIndex], arr[i]];
    }
  }

  return arr;
}

// Example usage
console.log(selectionSort([5, 3, 8, 4, 2])); // Output: [2, 3, 4, 5, 8]</textarea> <br> <button onclick="renderIframeForClientJavascript('KSLuK','eiad6')">Run</button> <iframe id="eiad6" class="result_iframe" style="display: none;"></iframe>
   <script>
  {let editor1 = CodeMirror.fromTextArea(document.getElementById("KSLuK"), {
    mode: "javascript",
    lineNumbers:false,
    tabSize: 2
    });
    const mode = localStorage.getItem("mode") || "light";  
    const newTheme = mode === "dark" ? "material" : "default";
    editor1.setOption("theme", newTheme);

   codeMirrorMap.set("KSLuK", editor1);}
  </script>
  </div>
 </div>
</div><h3 id="performance-characteristics">Performance Characteristics</h3><table>
 <thead>
  <tr>
   <th>Metric</th>
   <th>Value</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>Time (Worst)</td>
   <td>O(n²)</td>
  </tr>
  <tr>
   <td>Time (Best)</td>
   <td>O(n²)</td>
  </tr>
  <tr>
   <td>Time (Average)</td>
   <td>O(n²)</td>
  </tr>
  <tr>
   <td>Space Complexity</td>
   <td>O(1) (in-place)</td>
  </tr>
  <tr>
   <td>Stable Sort</td>
   <td>❌ (not stable)</td>
  </tr>
 </tbody>
</table><p>Unlike bubble or insertion sort, <strong>selection sort always performs O(n²) comparisons</strong>, regardless of input order. This is because it scans the remaining unsorted elements to find the minimum, even if the array is already sorted.</p><p>However, it performs <strong>fewer swaps</strong> than bubble sort—only one per pass—making it slightly better in environments where writing to memory is expensive (e.g., flash memory).</p><h3 id="visualizing-the-sorting-steps">Visualizing the Sorting Steps</h3><p>Initial: <code>[5, 3, 8, 4, 2]</code></p><p>Pass 1 (min = 2): <code>[2, 3, 8, 4, 5]</code></p><p>Pass 2 (min = 3): <code>[2, 3, 8, 4, 5]</code></p><p>Pass 3 (min = 4): <code>[2, 3, 4, 8, 5]</code></p><p>Pass 4 (min = 5): <code>[2, 3, 4, 5, 8]</code></p><h3 id="comparison-to-other-elementary-sorts">Comparison to Other Elementary Sorts</h3><table>
 <thead>
  <tr>
   <th>Feature</th>
   <th>Bubble Sort</th>
   <th>Insertion Sort</th>
   <th>Selection Sort</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>Best-Case Time</td>
   <td>O(n)</td>
   <td>O(n)</td>
   <td>O(n²)</td>
  </tr>
  <tr>
   <td>Worst-Case Time</td>
   <td>O(n²)</td>
   <td>O(n²)</td>
   <td>O(n²)</td>
  </tr>
  <tr>
   <td>Stable</td>
   <td>✔️</td>
   <td>✔️</td>
   <td>❌</td>
  </tr>
  <tr>
   <td>Swaps per Pass</td>
   <td>Many</td>
   <td>Few</td>
   <td>One</td>
  </tr>
  <tr>
   <td>Best for</td>
   <td>Teaching</td>
   <td>Nearly sorted</td>
   <td>Small datasets</td>
  </tr>
 </tbody>
</table><p>Insertion sort tends to outperform both bubble and selection sort on real data. However, selection sort’s minimal swapping can be an advantage in specialized systems where write operations are costly.</p><h3 id="conclusion">Conclusion</h3><p>Selection sort is simple to understand and implement, and it introduces the concept of <strong>finding an extremum (minimum/maximum)</strong> repeatedly. While not efficient on large or complex datasets, it’s useful for small arrays or when minimizing memory writes is important. Understanding how it works builds a strong foundation for grasping more advanced comparison-based sorting techniques later in the book.</p><div class = "chapter-navi-section">
<a href="javascript-algorithms-mathematical-tools-lightweight.htm" class="nav-button prev">←</a>
<a href='javascript-algorithms.htm#sorting-and-order-elementary-sorting-algorithms' class="nav-button toc-link">Index</a>
<a href="javascript-algorithms-sorting-and-order-divide-and-conquer.htm" class="nav-button next">→</a>
</div>
<section class="download-section">
  <div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 18px;color: #333;top: 20px;">JavaScript Algorithms</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 80px;height: 80px;top: 70px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAErElEQVR4Xu2dPWgUQRiGo6BB8I+AlV3w9gzptLBWsLQ89O7ARrDXSivTCTaCnWhn7pQTxOoInpjCeEQQLC2CjVqoVSwMFpp1Jtzo7Luzs/Nd7uZ29r4HPpDsu7vPvIl7+SGTmRmGYRiGYZjCEzVacdnn9NX7+3DdXkGhMg+u3Su6SNztzsZvevH/efED8zrJbM+6EGJ2K5Hv9w9gRpHnXMyik2VsYVaHWJx7tt/bTOQ3urOYUch3QJ5z0YtOCeuQiqNlvybyto/ktbVDcG2jc5GLNgoriMW5Z/svPyfy693DmFHE71ePwrUznQta9ISeyViyKBIziri/Mpe8tt25kEXjMR1ScbQsPC5W5jCjMJT8DTM6MuO6vrHjIkIszj2LL3y2ktOPiy+Y0VE5l/V5IU+EVBwtm/wUzva4SL/wOZUsJ2993rCJEIujZJMl2174Up/C5T8u9LGtzyu6SNkH1+6VhUargkJlHVy7f5aW9qJUqeZy5zguufToBeAxZoRw0Z7goj3BRXuCi/YEF+0BvWQue0xgwfrMiy+aMM8QEUW+w2IHb8fC/+C5jCOGMhOPiqi+vG47zjiABVbr7XOYUWC2Um+fxwwDiKJeYXGYMYHniNnGDDPAUJZTyYph30nTg+G7f5VLj89gzBW8lu2xMzWIIt5iMZgZBrzmqK4bJFhENOLnatRsfcR7YKb0YAELF5+cwsyowHudrLcvYKZ0iIV+wIVjZhzgPaMR/+8pFIbFeilZUWm2Vyd5/5GxWOvsx4VkTbXROovn+wJdMqfevoHnFoKUaMbgeZMAnbIGzysEKGmZiX4DKKo/um5wMg6eWwhsgtVm62cRFoEOJg/xtltZxwqBTV4inuEHcZHztc4RzI0LvLeY15iRBF+0wrDgsX6qZXpUYEanNEVLROY3ZfHDgvdwuU+pipYs1h7OpUqI4z2YGxa8dqXefooZE6UrWoGFiMn8nRIXoubyTbymeLPzO7C0RUuiRvuXoRwyeI1hrlPqoiUnap1jWNLilU7mr0sgeK746rOFGRdKX7QCC4tyHiXi+DU8BzMUpqZoiSzXpTzMZOUoTFXROxh+xKV/gYPHqvVlp88q8pi+ogdgoabBc3bD1BYtEdfcxnLHeK/pLVoiHxvJktsPMDMKpr5oX3DRnuCiPcFFe4KL9gQX7Qku2hNctCe4aE94K1puD6mXNsmpOv74KUTnxEdmEQb9TOA5kx70M6KfcO/u8/j2nWffxb+XskZm9MHjw2YjgrTKygnFeUaF5cSEjZ4c9kJyz/Z7mxTpEJ0T0nhMhyRBy+5sTuXioAjR2UmaKEHJ/tsBLM9BJ0TnXGmiBCWb2GbN5oCE6GyVJkq4Z3FXxo3ubJaDiRCdM6VJErSscTtik0MWITobpYkS7lncKVfblREdbITonJImSVCyKAz7i1KkQ3ROSJMkaNnc7Ygp0iE6Z0pjTockjC8iBmEJRTpEZ6M0ZnRIwrhTrmU7Yop0iM4paTyusyvhnO2IKdIhOqdeWLLYlbDtL0oM/jaKi4MiRGcnaZIwPt8c/zZKnoNOiM4J6SIM+pnAcyY96GekYJtvf0I/EyE6MwzDMAzDjI+/5MPGam/zucIAAAAASUVORK5CYII="/>
  </div>
  <div class="download-info">
    <h2 id='bottom'>Download This Ebook</h2>
    <p class="format-label">Available formats:</p>
    <div class="download-buttons">
      <a href="javascript-algorithms.pdf" class="download-button">📄 PDF</a>
      <a href="javascript-algorithms.epub" class="download-button">📘 EPUB</a>
    </div>
  </div>
</section><div class='related-books'>
<h2>Java Introduction Books</h2>
<div class='related-book-list'>
<a href="javascript-algorithms.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 18px;color: #333;top: 20px;">JavaScript Algorithms</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 80px;height: 80px;top: 70px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAErElEQVR4Xu2dPWgUQRiGo6BB8I+AlV3w9gzptLBWsLQ89O7ARrDXSivTCTaCnWhn7pQTxOoInpjCeEQQLC2CjVqoVSwMFpp1Jtzo7Luzs/Nd7uZ29r4HPpDsu7vPvIl7+SGTmRmGYRiGYZjCEzVacdnn9NX7+3DdXkGhMg+u3Su6SNztzsZvevH/efED8zrJbM+6EGJ2K5Hv9w9gRpHnXMyik2VsYVaHWJx7tt/bTOQ3urOYUch3QJ5z0YtOCeuQiqNlvybyto/ktbVDcG2jc5GLNgoriMW5Z/svPyfy693DmFHE71ePwrUznQta9ISeyViyKBIziri/Mpe8tt25kEXjMR1ScbQsPC5W5jCjMJT8DTM6MuO6vrHjIkIszj2LL3y2ktOPiy+Y0VE5l/V5IU+EVBwtm/wUzva4SL/wOZUsJ2993rCJEIujZJMl2174Up/C5T8u9LGtzyu6SNkH1+6VhUargkJlHVy7f5aW9qJUqeZy5zguufToBeAxZoRw0Z7goj3BRXuCi/YEF+0BvWQue0xgwfrMiy+aMM8QEUW+w2IHb8fC/+C5jCOGMhOPiqi+vG47zjiABVbr7XOYUWC2Um+fxwwDiKJeYXGYMYHniNnGDDPAUJZTyYph30nTg+G7f5VLj89gzBW8lu2xMzWIIt5iMZgZBrzmqK4bJFhENOLnatRsfcR7YKb0YAELF5+cwsyowHudrLcvYKZ0iIV+wIVjZhzgPaMR/+8pFIbFeilZUWm2Vyd5/5GxWOvsx4VkTbXROovn+wJdMqfevoHnFoKUaMbgeZMAnbIGzysEKGmZiX4DKKo/um5wMg6eWwhsgtVm62cRFoEOJg/xtltZxwqBTV4inuEHcZHztc4RzI0LvLeY15iRBF+0wrDgsX6qZXpUYEanNEVLROY3ZfHDgvdwuU+pipYs1h7OpUqI4z2YGxa8dqXefooZE6UrWoGFiMn8nRIXoubyTbymeLPzO7C0RUuiRvuXoRwyeI1hrlPqoiUnap1jWNLilU7mr0sgeK746rOFGRdKX7QCC4tyHiXi+DU8BzMUpqZoiSzXpTzMZOUoTFXROxh+xKV/gYPHqvVlp88q8pi+ogdgoabBc3bD1BYtEdfcxnLHeK/pLVoiHxvJktsPMDMKpr5oX3DRnuCiPcFFe4KL9gQX7Qku2hNctCe4aE94K1puD6mXNsmpOv74KUTnxEdmEQb9TOA5kx70M6KfcO/u8/j2nWffxb+XskZm9MHjw2YjgrTKygnFeUaF5cSEjZ4c9kJyz/Z7mxTpEJ0T0nhMhyRBy+5sTuXioAjR2UmaKEHJ/tsBLM9BJ0TnXGmiBCWb2GbN5oCE6GyVJkq4Z3FXxo3ubJaDiRCdM6VJErSscTtik0MWITobpYkS7lncKVfblREdbITonJImSVCyKAz7i1KkQ3ROSJMkaNnc7Ygp0iE6Z0pjTockjC8iBmEJRTpEZ6M0ZnRIwrhTrmU7Yop0iM4paTyusyvhnO2IKdIhOqdeWLLYlbDtL0oM/jaKi4MiRGcnaZIwPt8c/zZKnoNOiM4J6SIM+pnAcyY96GekYJtvf0I/EyE6MwzDMAzDjI+/5MPGam/zucIAAAAASUVORK5CYII="/>
  </div>
</a>



<a href='java.htm'><div class='book-cover' style='background-color: #f9f6f1;color: #111111;border: 1px solid #ccc;display: flex;justify-content: center;align-items: center;text-align: center;'>More Java Books</div></a>
</div>
</div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
  
  <script>
    function copyCode(button) {
      const code = button.nextElementSibling.innerText;
      navigator.clipboard.writeText(code).then(() => {
        button.textContent = 'Copied!';
        setTimeout(() => { button.textContent = 'Copy'; }, 1500);
      });
    }
  </script>  
<div id="floatingLog" aria-live="polite" role="alert"></div>
<footer class="page-footer">
    <nav>
      <a href="https://readbytes.github.io">Home</a> | 
      Email:<script language="JavaScript" type="text/javascript">
var part1 = 'yinpeng';var part6 = '263';var part2 = Math.pow(2,6);var part3 = String.fromCharCode(part2);var part4 = 'hotmail dot com';var part5 = part1 + String.fromCharCode(part2) + part4;document.write(part1 + part6 + part3 + part4);
</script>
    </nav>
  <p>© 2025 — All rights reserved.</p>    
  </footer>

</body>
</html>