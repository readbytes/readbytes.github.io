<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>JavaScript Data Visualization D3.js Adding Interactivity</title>
<link rel='shortcut icon' href='https://java2s.com/style/favicon.ico'>
<link href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" rel="stylesheet" />
<link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/material.css"> <!-- Dark theme -->
<script src="https://cdn.jsdelivr.net/npm/typescript@5/lib/typescript.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/htmlmixed/htmlmixed.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/xml/xml.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/css/css.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/typescript.min.js"></script>
<style>
    #floatingLog {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(20, 20, 20, 0.95);
      color: white;
      font-family: monospace;
      font-size: 14px;
      padding: 16px 20px;
      border-radius: 8px;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);
      max-width: 80%;
      max-height: 200px;
      overflow-y: auto;
      display: none;
      z-index: 9999;
      pointer-events: none;
      white-space: pre-wrap;
      text-align: center;
    }
</style>
<script>
  const codeMirrorMap = new Map();
  const iframeMap = new Map();
  
 

  let dismissTimer;
  function showFloatingLog(message) {
	const floatingLog = document.getElementById('floatingLog');

    if (floatingLog.style.display !== 'block') {
      floatingLog.textContent = '';
      floatingLog.style.display = 'block'; 
    }

    floatingLog.textContent += message + '\n';
    floatingLog.scrollTop = floatingLog.scrollHeight; 
    clearTimeout(dismissTimer);
    dismissTimer = setTimeout(() => {
      floatingLog.style.display = 'none';
      floatingLog.textContent = '';
    }, 2000);
  }
  window.addEventListener('message', (event) => {
	    if (!iframeMap.has(event.source)) return;

	    if (event.data?.type === 'console-log') {
	      showFloatingLog(event.data.message);
	    }
  });  
  function renderIframe(button,textarea_id, iframe_id) {
      const html = codeMirrorMap.get(textarea_id).getValue();
      const iframe = document.getElementById(iframe_id);
  
      const oldIframe = iframe;
      const newIframe = document.createElement('iframe');
      newIframe.className ="result_iframe";
      
      newIframe.id = iframe_id;
      oldIframe.replaceWith(newIframe);
 

      // Track the iframe in the map
      iframeMap.set(newIframe.contentWindow, button);

      const overrideScript = `
        <script>
          (function() {
            const originalLog = console.log;
            console.log = function(...args) {
              originalLog.apply(console, args);
              window.parent.postMessage({
                type: 'console-log',
                message: args.map(a => {
                  try { return JSON.stringify(a); }
                  catch { return String(a); }
                }).join(' ')
              }, '*');
            };
          })();
        <\/script>
      `;

      const iframeHTML = `
        <!DOCTYPE html>
        <html>
        <body>
          ${overrideScript}
          ${html}
        </body>
        </html>
      `;
 
      const doc = newIframe.contentDocument || newIframe.contentWindow.document;
      doc.open();
      doc.write(iframeHTML);
      doc.close();

      
      setTimeout(() => {
    	  newIframe.style.height = '0px';
    	   let contentHeight = Math.max(doc.body.scrollHeight,doc.documentElement.scrollHeight);
 
    	   if(contentHeight < 150 || contentHeight > 600){
    		   contentHeight = 600;
    	   } 
    	   newIframe.style.height = contentHeight + 'px';
    	}, 50);      
      
  }
  function renderIframeForClientTypescript(textarea_id, iframe_id) {
      let code = codeMirrorMap.get(textarea_id).getValue();
      code = ts.transpile(code);
      const iframe = document.getElementById(iframe_id);
      const doc = iframe.contentDocument || iframe.contentWindow.document;

const html = `
  <!DOCTYPE html>
  <html>
    <head>
      <title>Output</title>
      <style>
        body { font-family: monospace; padding: 1em; background: #f4f4f4; color: #222; }
        pre { white-space: pre-wrap; word-break: break-word; }
        .error { color: red; }
      </style>
    </head>
    <body>
      <pre id="log"></pre>
      <script>
        (function(){
          const logEl = document.getElementById('log');
          const origLog = console.log;
          const origError = console.error;

          console.log = (...args) => {
            logEl.textContent += args.join(' ') + '\\n';
            origLog.apply(console, args);
          };
          console.table = (...args) => {
            logEl.textContent += args.join(' ') + '\\n';
            origLog.apply(console, args);
          };

          console.error = (...args) => {
            logEl.innerHTML +='<span class="error">' + args.join(' ') + '</span>';
            origError.apply(console, args);
          };
          window.addEventListener("error", function (event) {
              console.error("Caught by event listener:", event.message);
          });    
          try {             
              ${code};
          } catch (err) {
            console.error(err.stack || err.message);
          }
        })();
      <\/script>
    </body>
  </html>
`;

      iframe.style.display = "block";
      iframe.srcdoc = html;  
  }

    function renderIframeForClientJavascript(textarea_id, iframe_id) {
        const code = codeMirrorMap.get(textarea_id).getValue();
        const iframe = document.getElementById(iframe_id);
        const doc = iframe.contentDocument || iframe.contentWindow.document;

  const html = `
    <!DOCTYPE html>
    <html>
      <head>
        <title>Output</title>
        <style>
          body { font-family: monospace; padding: 1em; background: #1e1e1e; color: #eee; }
          pre { white-space: pre-wrap; word-break: break-word; }
          .error { color: red; }
        </style>
      </head>
      <body>
        <pre id="log"></pre>
        <script>
          (function(){
            const logEl = document.getElementById('log');
            const origLog = console.log;
            const origError = console.error;

            console.log = (...args) => {
              logEl.textContent += args.join(' ') + '\\n';
              origLog.apply(console, args);
            };
            console.table = (...args) => {
              logEl.textContent += args.join(' ') + '\\n';
              origLog.apply(console, args);
            };

            console.error = (...args) => {
              logEl.innerHTML +='<span class="error">' + args.join(' ') + '</span>';
              origError.apply(console, args);
            };
            window.addEventListener("error", function (event) {
                console.error("Caught by event listener:", event.message);
            });    
            try {
             ${code}; 
            } catch (err) {
              console.error(err.stack || err.message);
            }
          })();
        <\/script>
      </body>
    </html>
  `;
        iframe.style.display = "block";
        iframe.srcdoc = html;  
    }
    function toggleSnippetAndRefresh(id, textarea_id) {
      const box = document.getElementById(id);
      box.classList.toggle("open");
      codeMirrorMap.get(textarea_id).refresh();
    }

  </script>
  <script>
  const mode = localStorage.getItem('mode') || 'light';
  document.documentElement.classList.add(`${mode}-mode`);
  </script>   
<style> 
html {
  scroll-behavior: smooth;
}

body {
  font-family: 'Merriweather', serif;
  margin: 0;
  padding: 2rem 1rem;
  font-size: 15px;
  line-height: 1.5;
  transition: background-color 0.3s, color 0.3s;
}

.container {
  max-width: 700px;
  margin: 0 auto;
  padding: 1rem 2rem;
  box-shadow: 0 0 15px rgba(0,0,0,0.1);
}

h1, h2, h3 {
  font-weight: 600;
  margin-top: 2.5rem;
  margin-bottom: 1rem;
  line-height: 1.2;
}

h1 { font-size: 1.8rem; }
h2 { font-size: 1.4rem; }
h3 { font-size: 1.2rem; }

table {
  width: 100%;
  border-collapse: collapse;
  font-family: sans-serif;
  font-size: 1em;
  margin: 1em 0;
}

th, td {
  padding: 0.6em 1em;
  text-align: left;
  border: 1px solid;
}

tr:nth-child(even) {
  background-color: inherit;
}

tr:hover {
  background-color: inherit;
}

a {
  text-decoration: none;
  transition: color 0.2s;
}

a:hover {
  text-decoration: underline;
}

code {
  color: #d35400;
}

.book-title-chapter {
  font-family: 'Merriweather', serif;
  font-size: 2rem;
  font-weight: bold;
  text-align: center;
  margin-bottom: 2rem;
  border-bottom: 2px solid;
  padding-bottom: 0.5rem;
}

.book-subtitle-chapter {
  text-align: center;
  font-size: 1rem;
  margin-top: -1rem;
  margin-bottom: 2rem;
}

.related-books {
  margin-top: 40px;
}

.related-book-list {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
}

    .book-cover {
      width: 130px;
      height: 180px;
      font-family: Arial, sans-serif;
      position: relative;
      overflow: hidden;      
      line-height: normal;
      box-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }
    .book-cover-bottom-stripe {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 5px;
      width: 100%;
    }
    .book-cover-title {
      position: absolute;
      width: 100%;
      text-align: center;
      font-weight: bold;
    }
     
    .book-cover-icon {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      align-items: center;
      justify-content: center; 
    }

    .book-cover-author {
      position: absolute;
      bottom: 10px;
      width: 100%;
      text-align: center;
      font-size: 8px;
      color: #333;
    }

.page-footer {
  margin-top: 4rem;
  padding: 1rem 0;
  text-align: center;
  font-size: 0.85rem;
  border-top: 1px solid;
}

.chapter-navi-section {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-bottom: 10px;
}

.nav-link {
  color: inherit;
  text-decoration: none;
  opacity: 0.5;
  transition: opacity 0.3s ease, text-decoration 0.3s ease;
}

.nav-link:hover {
  opacity: 0.9;
  text-decoration: underline;
}

.prev { text-align: left; }
.toc-link { text-align: center; }
.next { text-align: right; }

.download-section {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 2rem;
  padding: 2rem 1rem;
  max-width: 600px;
  margin: 3rem auto;
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

.download-info h2 {
  margin: 0 0 0.5rem;
  font-size: 1.2rem;
}

.format-label {
  margin: 0 0 0.5rem;
  font-size: 0.95rem;
}

.download-buttons {
  display: flex;
  gap: 1rem;
}

.download-button {
  background-color: #4A90E2;
  color: white;
  padding: 0.5em 1.2em;
  border-radius: 25px;
  font-size: 0.95rem;
  text-decoration: none;
  transition: background-color 0.3s ease;
}

.download-button:hover {
  background-color: #357ABD;
}

.code-block {
  position: relative;
  margin-bottom: 1em;
}

.copy-button {
  background: transparent;
  color: white;
  position: absolute;
  top: 8px;
  right: 8px;
  border: none;
  padding: 4px 8px;
  font-size: 12px;
  border-radius: 4px;
  cursor: pointer;
  z-index: 1;
}

.copy-button:hover {
  background-color: #0056b3;
}

.snippet-container {
  overflow: hidden;
}

.snippet-header {
  padding: 0.75rem 1rem;
  cursor: pointer;
  font-size: 1rem;
    background-color: #eeeeee;
    color:  #111111; 
    border-radius: 8px;
    cursor: pointer;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);  
}

.snippet-body {
  display: none;
  font-family: monospace;
}

.snippet-container.open .snippet-body {
  display: block;
}

.CodeMirror {
  border: 2px solid #ccc;
  border-radius: 4px;
  resize: vertical;
}

/* === Light Mode === */
html.light-mode {
  background-color: #f8f7f5;
  color: #333;
}

html.light-mode .container {
  background: white;
}

html.light-mode .book-title-chapter {
  color: #2c3e50;
  border-color: #ccc;
}
html.light-mode .book-subtitle-chapter{
  color: #888;
}

html.light-mode .page-footer,
html.light-mode .series-name,
html.light-mode .book-subtitle,
html.light-mode .format-label {
  color: #888;
}

html.light-mode .related-books h2 {
  color: #333;
  border-bottom: 2px solid #eee;
}

html.light-mode .book-title {
  color: #fff;
}

html.light-mode .book-cover {
  border: 1px solid #ccc;
}

html.light-mode th {
  background-color: #f2f2f2;
}

html.light-mode tr:nth-child(even) {
  background-color: #fafafa;
}

html.light-mode tr:hover {
  background-color: #e6f7ff;
}

html.light-mode a,
html.light-mode .page-footer a {
  color: #000;
}

/* === Dark Mode === */
html.dark-mode {
  background-color: #181818;
  color: #e0e0e0;
}

html.dark-mode .container {
  background: #222;
}

html.dark-mode .book-title-chapter {
  color: #ddd;
  border-color: #444;
}

html.dark-mode .snippet-header {
    background-color: #333;
    color:  #ddd; 
}


html.dark-mode .book-subtitle-chapter,
html.dark-mode .page-footer,
html.dark-mode .series-name,
html.dark-mode .book-subtitle,
html.dark-mode .book-footer,
html.dark-mode .format-label {
  color: #aaa;
}

html.dark-mode .related-books h2 {
  color: #ddd;
  border-bottom: 2px solid #333;
}

html.dark-mode .book-title {
  color: #fff;
}

html.dark-mode .book-cover {
  border: 1px solid #555;
}

html.dark-mode th {
  background-color: #333;
  color: #fff;
}

html.dark-mode td {
  border-color: #444;
}

html.dark-mode tr:nth-child(even) {
  background-color: #2a2a2a;
}

html.dark-mode tr:hover {
  background-color: #2c3e50;
}

html.dark-mode a,
html.dark-mode .page-footer a {
  color: #eee;
}

    .dialog-backdrop {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 10;
    }

    .dialog {
      background: white;
      padding: 20px;
      width: 90vw;
      height: 80vh;
      border-radius: 8px;
      box-shadow: 0 0 20px rgba(0,0,0,0.3);
      display: flex;
      flex-direction: column;
    }
    .dialog-content {
      display: flex;
      flex: 1;
      gap: 20px;
      margin-top: 10px;
    }
    .dialog h2 {
      margin-top: 0;
    }

    .textarea_dialog {
      width: 50%;
      height: 100%;
      resize: none;
      font-family: monospace;
      font-size: 14px;
      padding: 10px;
      box-sizing: border-box;
      border: 1px solid #ccc;
    }

    .iframe_dialog {
      width: 50%;
      height: 100%;
      border: 1px solid #ccc;
    }
    .controls_dialog {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
    }    
    button { padding: 0.5em 1em; background: green; color: white; border: none; cursor: pointer; }
    button:hover { background: #1e7e34; }
    .result_iframe { width:99%; height:200px; margin-top: 1em;  resize: both;border:1px solid #ccc;}        
</style>
</head>
<body> 
  <div class="container">
    <div class = "chapter-navi-section">
<a href="javascript-data-visualization-d3-js-core-chart-types.htm" class="nav-button prev">←</a>
<a href='javascript-data-visualization.htm#d3-js-adding-interactivity' class="nav-button toc-link">Index</a>
<a href="javascript-data-visualization-d3-js-animating-data.htm" class="nav-button next">→</a>
</div>

    <h1 class="book-title-chapter" id = 'top'>D3.js Adding Interactivity</h1>
    <h3 class="book-subtitle-chapter">JavaScript Data Visualization</h3>   
    <!-- <h1 class ="chapter-title"></h1> -->
    <h2 id='tooltips-and-hover-effects'>6.1 Tooltips and Hover Effects</h2><p>Adding tooltips and hover effects to your visualizations greatly enhances user experience by providing dynamic, contextual information. Tooltips display detailed data when users hover over elements, making charts more interactive and informative without cluttering the view.</p><p>In this section, we’ll learn how to:</p><ul>
 <li>Create a styled tooltip element,</li>
 <li>Use D3’s <code>mouseover</code>, <code>mousemove</code>, and <code>mouseout</code> events to control tooltip visibility and positioning,</li>
 <li>Apply tooltips to a bar or scatter plot.</li>
</ul><h3 id="creating-the-tooltip-element">Creating the Tooltip Element</h3><p>First, add a <code>&lt;div&gt;</code> element that will serve as the tooltip. This element is initially hidden and styled to appear as a floating box.</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const tooltip = d3.select('body')
  .append('div')
  .attr('class', 'tooltip')
  .style('position', 'absolute')
  .style('background', '#f9f9f9')
  .style('padding', '8px')
  .style('border', '1px solid #ccc')
  .style('border-radius', '4px')
  .style('pointer-events', 'none')  // Ignore mouse events
  .style('opacity', 0);</code></pre>
</div><p>Add this CSS (either in a <code>&lt;style&gt;</code> tag or stylesheet) to style the tooltip smoothly:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-css">.tooltip {
  font-family: sans-serif;
  font-size: 13px;
  color: #333;
  box-shadow: 0px 2px 4px rgba(0,0,0,0.2);
  transition: opacity 0.3s;
}</code></pre>
</div><h3 id="attaching-tooltip-events">Attaching Tooltip Events</h3><p>Use D3 event listeners on chart elements to control tooltip behavior:</p><ul>
 <li><strong><code>mouseover</code></strong>: Show the tooltip and populate it with relevant data.</li>
 <li><strong><code>mousemove</code></strong>: Update the tooltip’s position to follow the cursor.</li>
 <li><strong><code>mouseout</code></strong>: Hide the tooltip.</li>
</ul><p>Example event handlers:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">selection
  .on('mouseover', (event, d) =&gt; {
    tooltip.style('opacity', 0.9)
      .html(`Value: &lt;strong&gt;${d.value}&lt;/strong&gt;`);
  })
  .on('mousemove', (event) =&gt; {
    tooltip.style('left', (event.pageX + 10) + 'px')
      .style('top', (event.pageY - 28) + 'px');
  })
  .on('mouseout', () =&gt; {
    tooltip.style('opacity', 0);
  });</code></pre>
</div><h3 id="working-example-tooltip-on-a-bar-chart">Working Example: Tooltip on a Bar Chart</h3><p>Here’s a complete example demonstrating tooltips on a simple bar chart.</p><div class="snippet-container" id="IbmSG">
 <div id="eIxq6_Dialog" class="dialog-backdrop">
  <div class="dialog">
   <h2>Dialog 1</h2>
   <div class="controls"><button onclick="renderIframe(this,'aT1EB_Textarea','eIxq6_IFrame')">Run</button> <button onclick="closeAll()">Close</button>
   </div>
   <div class="dialog-content"><textarea id="aT1EB_Textarea" class="textarea_dialog" placeholder="Type HTML here...">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;D3 Bar Chart with Tooltips&lt;/title&gt;
  &lt;script src="https://d3js.org/d3.v7.min.js"&gt;&lt;/script&gt;
  &lt;style&gt;
    .tooltip {
      position: absolute;
      background: #f9f9f9;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
      pointer-events: none;
      font-family: sans-serif;
      font-size: 13px;
      color: #333;
      box-shadow: 0px 2px 4px rgba(0,0,0,0.2);
      transition: opacity 0.3s;
      opacity: 0;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;svg width="600" height="400"&gt;&lt;/svg&gt;

&lt;script&gt;
  const data = [
    { name: 'A', value: 30 },
    { name: 'B', value: 80 },
    { name: 'C', value: 45 },
    { name: 'D', value: 60 },
    { name: 'E', value: 20 },
  ];

  const svg = d3.select('svg');
  const margin = { top: 20, right: 20, bottom: 50, left: 60 };
  const width = +svg.attr('width') - margin.left - margin.right;
  const height = +svg.attr('height') - margin.top - margin.bottom;

  const chart = svg.append('g')
    .attr('transform', `translate(${margin.left},${margin.top})`);

  const xScale = d3.scaleBand()
    .domain(data.map(d =&gt; d.name))
    .range([0, width])
    .padding(0.2);

  const yScale = d3.scaleLinear()
    .domain([0, d3.max(data, d =&gt; d.value)])
    .nice()
    .range([height, 0]);

  chart.append('g')
    .attr('transform', `translate(0,${height})`)
    .call(d3.axisBottom(xScale));

  chart.append('g')
    .call(d3.axisLeft(yScale));

  // Create tooltip div
  const tooltip = d3.select('body').append('div')
    .attr('class', 'tooltip');

  // Draw bars
  chart.selectAll('.bar')
    .data(data)
    .enter()
    .append('rect')
    .attr('class', 'bar')
    .attr('x', d =&gt; xScale(d.name))
    .attr('y', d =&gt; yScale(d.value))
    .attr('width', xScale.bandwidth())
    .attr('height', d =&gt; height - yScale(d.value))
    .attr('fill', '#4682b4')
    .on('mouseover', (event, d) =&gt; {
      tooltip.style('opacity', 0.9)
        .html(`&lt;strong&gt;${d.name}&lt;/strong&gt;&lt;br/&gt;Value: ${d.value}`);
    })
    .on('mousemove', (event) =&gt; {
      tooltip.style('left', (event.pageX + 10) + 'px')
        .style('top', (event.pageY - 28) + 'px');
    })
    .on('mouseout', () =&gt; {
      tooltip.style('opacity', 0);
    });
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</textarea> <iframe id="eIxq6_IFrame" class="iframe_dialog"></iframe>
   </div>
  </div>
 </div>
 <div class="snippet-header" onclick="toggleSnippetAndRefresh('IbmSG','aT1EB')">
  Click to Try it <!--<span onclick="toggleSnippetAndRefresh('IbmSG','aT1EB')">Click
			to Try it</span> --> <!-- <span onclick="openDialog('eIxq6_Dialog')">Dialog</span> -->
 </div>
 <div class="snippet-body"><textarea id="aT1EB">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;D3 Bar Chart with Tooltips&lt;/title&gt;
  &lt;script src="https://d3js.org/d3.v7.min.js"&gt;&lt;/script&gt;
  &lt;style&gt;
    .tooltip {
      position: absolute;
      background: #f9f9f9;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
      pointer-events: none;
      font-family: sans-serif;
      font-size: 13px;
      color: #333;
      box-shadow: 0px 2px 4px rgba(0,0,0,0.2);
      transition: opacity 0.3s;
      opacity: 0;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;svg width="600" height="400"&gt;&lt;/svg&gt;

&lt;script&gt;
  const data = [
    { name: 'A', value: 30 },
    { name: 'B', value: 80 },
    { name: 'C', value: 45 },
    { name: 'D', value: 60 },
    { name: 'E', value: 20 },
  ];

  const svg = d3.select('svg');
  const margin = { top: 20, right: 20, bottom: 50, left: 60 };
  const width = +svg.attr('width') - margin.left - margin.right;
  const height = +svg.attr('height') - margin.top - margin.bottom;

  const chart = svg.append('g')
    .attr('transform', `translate(${margin.left},${margin.top})`);

  const xScale = d3.scaleBand()
    .domain(data.map(d =&gt; d.name))
    .range([0, width])
    .padding(0.2);

  const yScale = d3.scaleLinear()
    .domain([0, d3.max(data, d =&gt; d.value)])
    .nice()
    .range([height, 0]);

  chart.append('g')
    .attr('transform', `translate(0,${height})`)
    .call(d3.axisBottom(xScale));

  chart.append('g')
    .call(d3.axisLeft(yScale));

  // Create tooltip div
  const tooltip = d3.select('body').append('div')
    .attr('class', 'tooltip');

  // Draw bars
  chart.selectAll('.bar')
    .data(data)
    .enter()
    .append('rect')
    .attr('class', 'bar')
    .attr('x', d =&gt; xScale(d.name))
    .attr('y', d =&gt; yScale(d.value))
    .attr('width', xScale.bandwidth())
    .attr('height', d =&gt; height - yScale(d.value))
    .attr('fill', '#4682b4')
    .on('mouseover', (event, d) =&gt; {
      tooltip.style('opacity', 0.9)
        .html(`&lt;strong&gt;${d.name}&lt;/strong&gt;&lt;br/&gt;Value: ${d.value}`);
    })
    .on('mousemove', (event) =&gt; {
      tooltip.style('left', (event.pageX + 10) + 'px')
        .style('top', (event.pageY - 28) + 'px');
    })
    .on('mouseout', () =&gt; {
      tooltip.style('opacity', 0);
    });
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</textarea> <br> <button onclick="renderIframe(this,'aT1EB','eIxq6')">Run</button>
  <div id="eIxq6_FloatingLog" class="floatingLog" aria-live="polite" role="alert"></div> <iframe id="eIxq6" class="result_iframe" style="display: none;"></iframe>
  <script>
			{
				let editor = CodeMirror.fromTextArea(document
						.getElementById("aT1EB"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    const mode = localStorage.getItem("mode") || "light";  
			    const newTheme = mode === "dark" ? "material" : "default";
			    editor.setOption("theme", newTheme);
			    
				codeMirrorMap.set("aT1EB", editor);

				let editor1 = CodeMirror.fromTextArea(document.getElementById("aT1EB_Textarea"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    editor1.setOption("theme", newTheme);				
				
				codeMirrorMap.set("aT1EB_Textarea", editor1);
			}
		    function openDialog(id) {
		        closeAll();
		        document.getElementById(id).style.display = 'flex';
		        setTimeout(() => {
		        	 codeMirrorMap.get("aT1EB_Textarea").refresh();
		        }, 100); // 100ms 
		      }

		      function closeAll() {
		        document.querySelectorAll('.dialog-backdrop').forEach(el => {
		          el.style.display = 'none';
		        });
		      }			
		</script>
 </div>
</div><h3 id="explanation">Explanation</h3><ul>
 <li><p>We create a hidden tooltip <code>&lt;div&gt;</code> styled for readability.</p></li>
 <li><p>Bars listen for mouse events:</p>
  <ul>
   <li>On <strong><code>mouseover</code></strong>, tooltip content is set and opacity increased to show it.</li>
   <li>On <strong><code>mousemove</code></strong>, tooltip follows the cursor using page coordinates.</li>
   <li>On <strong><code>mouseout</code></strong>, tooltip fades out.</li>
  </ul></li>
 <li><p><code>pointer-events: none</code> on the tooltip ensures it doesn't block mouse interaction with the chart.</p></li>
</ul><h3 id="summary">Summary</h3><ul>
 <li>Tooltips improve user engagement by showing data on demand.</li>
 <li>Use D3 event listeners <code>mouseover</code>, <code>mousemove</code>, and <code>mouseout</code> to control tooltip behavior.</li>
 <li>Position tooltips near the cursor using event coordinates.</li>
 <li>Style tooltips with CSS for smooth appearance and clear readability.</li>
</ul><div class = "chapter-navi-section">
<a href="#top" class="nav-button prev">↑</a>
<a href='javascript-data-visualization.htm#d3-js-adding-interactivity' class="nav-button toc-link">Index</a>
<a href="#bottom" class="nav-button next">↓</a>
</div>
<h2 id='click-events-and-dynamic-highlights'>6.2 Click Events and Dynamic Highlights</h2><p>Click events provide another powerful layer of interactivity in your visualizations. They allow users to select, highlight, or explore data points in detail, creating more engaging and insightful charts.</p><p>In this section, we will learn how to:</p><ul>
 <li>Bind click event listeners to chart elements using <code>.on("click", ...)</code>,</li>
 <li>Change styles dynamically to highlight selected elements,</li>
 <li>Implement toggling behavior to select/deselect,</li>
 <li>Discuss how click events can update other parts of a dashboard or show detail panels.</li>
</ul><h3 id="binding-click-events-to-elements">Binding Click Events to Elements</h3><p>D3’s <code>.on()</code> method attaches event listeners to selections. For example, to add a click handler on bar elements:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">bars.on('click', (event, d) =&gt; {
  console.log('Clicked on:', d);
});</code></pre>
</div><h3 id="highlighting-selected-elements">Highlighting Selected Elements</h3><p>Highlighting typically involves changing styles such as fill color, stroke, or opacity. You can store the selection state by adding/removing CSS classes or using data properties.</p><h3 id="example-toggle-bar-highlight">Example: Toggle Bar Highlight</h3><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">bars.on('click', function(event, d) {
  const isSelected = d3.select(this).classed('selected');
  d3.select(this).classed('selected', !isSelected);
});</code></pre>
</div><p>Add CSS:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-css">.selected {
  fill: orange;
  stroke: black;
  stroke-width: 2px;
}</code></pre>
</div><p>This toggles the “selected” class, visually distinguishing clicked bars.</p><h3 id="example-click-to-highlight-bars-and-show-details">Example: Click to Highlight Bars and Show Details</h3><p>Let’s extend the bar chart example from the previous section by adding click highlights and a detail pane:</p><div class="snippet-container" id="oaWlB">
 <div id="Fq4fB_Dialog" class="dialog-backdrop">
  <div class="dialog">
   <h2>Dialog 1</h2>
   <div class="controls"><button onclick="renderIframe(this,'FOeLR_Textarea','Fq4fB_IFrame')">Run</button> <button onclick="closeAll()">Close</button>
   </div>
   <div class="dialog-content"><textarea id="FOeLR_Textarea" class="textarea_dialog" placeholder="Type HTML here...">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;script src="https://d3js.org/d3.v7.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="details" style="margin-top: 20px; font-family: sans-serif;"&gt;&lt;/div&gt;
&lt;svg width="600" height="400"&gt;&lt;/svg&gt;
&lt;script src="https://d3js.org/d3.v7.min.js"&gt;&lt;/script&gt;
&lt;script&gt;
  const data = [
    { name: 'A', value: 30, description: 'Category A details' },
    { name: 'B', value: 80, description: 'Category B details' },
    { name: 'C', value: 45, description: 'Category C details' },
    { name: 'D', value: 60, description: 'Category D details' },
    { name: 'E', value: 20, description: 'Category E details' },
  ];

  const svg = d3.select('svg');
  const margin = { top: 20, right: 20, bottom: 50, left: 60 };
  const width = +svg.attr('width') - margin.left - margin.right;
  const height = +svg.attr('height') - margin.top - margin.bottom;

  const chart = svg.append('g')
    .attr('transform', `translate(${margin.left},${margin.top})`);

  const xScale = d3.scaleBand()
    .domain(data.map(d =&gt; d.name))
    .range([0, width])
    .padding(0.2);

  const yScale = d3.scaleLinear()
    .domain([0, d3.max(data, d =&gt; d.value)])
    .nice()
    .range([height, 0]);

  chart.append('g')
    .attr('transform', `translate(0,${height})`)
    .call(d3.axisBottom(xScale));

  chart.append('g')
    .call(d3.axisLeft(yScale));

  const details = d3.select('#details');

  const bars = chart.selectAll('.bar')
    .data(data)
    .enter()
    .append('rect')
    .attr('class', 'bar')
    .attr('x', d =&gt; xScale(d.name))
    .attr('y', d =&gt; yScale(d.value))
    .attr('width', xScale.bandwidth())
    .attr('height', d =&gt; height - yScale(d.value))
    .attr('fill', '#4682b4')
    .style('cursor', 'pointer')
    .on('click', function(event, d) {
      // Toggle selection
      const selected = d3.select(this).classed('selected');
      // Clear previous selections
      bars.classed('selected', false).attr('fill', '#4682b4');
      if (!selected) {
        d3.select(this).classed('selected', true).attr('fill', 'orange');
        details.html(`&lt;strong&gt;${d.name}&lt;/strong&gt;: ${d.description}`);
      } else {
        details.html('');
      }
    });
&lt;/script&gt;
&lt;style&gt;
  .selected {
    stroke: black;
    stroke-width: 2px;
  }
&lt;/style&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea> <iframe id="Fq4fB_IFrame" class="iframe_dialog"></iframe>
   </div>
  </div>
 </div>
 <div class="snippet-header" onclick="toggleSnippetAndRefresh('oaWlB','FOeLR')">
  Click to Try it <!--<span onclick="toggleSnippetAndRefresh('oaWlB','FOeLR')">Click
			to Try it</span> --> <!-- <span onclick="openDialog('Fq4fB_Dialog')">Dialog</span> -->
 </div>
 <div class="snippet-body"><textarea id="FOeLR">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;script src="https://d3js.org/d3.v7.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="details" style="margin-top: 20px; font-family: sans-serif;"&gt;&lt;/div&gt;
&lt;svg width="600" height="400"&gt;&lt;/svg&gt;
&lt;script src="https://d3js.org/d3.v7.min.js"&gt;&lt;/script&gt;
&lt;script&gt;
  const data = [
    { name: 'A', value: 30, description: 'Category A details' },
    { name: 'B', value: 80, description: 'Category B details' },
    { name: 'C', value: 45, description: 'Category C details' },
    { name: 'D', value: 60, description: 'Category D details' },
    { name: 'E', value: 20, description: 'Category E details' },
  ];

  const svg = d3.select('svg');
  const margin = { top: 20, right: 20, bottom: 50, left: 60 };
  const width = +svg.attr('width') - margin.left - margin.right;
  const height = +svg.attr('height') - margin.top - margin.bottom;

  const chart = svg.append('g')
    .attr('transform', `translate(${margin.left},${margin.top})`);

  const xScale = d3.scaleBand()
    .domain(data.map(d =&gt; d.name))
    .range([0, width])
    .padding(0.2);

  const yScale = d3.scaleLinear()
    .domain([0, d3.max(data, d =&gt; d.value)])
    .nice()
    .range([height, 0]);

  chart.append('g')
    .attr('transform', `translate(0,${height})`)
    .call(d3.axisBottom(xScale));

  chart.append('g')
    .call(d3.axisLeft(yScale));

  const details = d3.select('#details');

  const bars = chart.selectAll('.bar')
    .data(data)
    .enter()
    .append('rect')
    .attr('class', 'bar')
    .attr('x', d =&gt; xScale(d.name))
    .attr('y', d =&gt; yScale(d.value))
    .attr('width', xScale.bandwidth())
    .attr('height', d =&gt; height - yScale(d.value))
    .attr('fill', '#4682b4')
    .style('cursor', 'pointer')
    .on('click', function(event, d) {
      // Toggle selection
      const selected = d3.select(this).classed('selected');
      // Clear previous selections
      bars.classed('selected', false).attr('fill', '#4682b4');
      if (!selected) {
        d3.select(this).classed('selected', true).attr('fill', 'orange');
        details.html(`&lt;strong&gt;${d.name}&lt;/strong&gt;: ${d.description}`);
      } else {
        details.html('');
      }
    });
&lt;/script&gt;
&lt;style&gt;
  .selected {
    stroke: black;
    stroke-width: 2px;
  }
&lt;/style&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea> <br> <button onclick="renderIframe(this,'FOeLR','Fq4fB')">Run</button>
  <div id="Fq4fB_FloatingLog" class="floatingLog" aria-live="polite" role="alert"></div> <iframe id="Fq4fB" class="result_iframe" style="display: none;"></iframe>
  <script>
			{
				let editor = CodeMirror.fromTextArea(document
						.getElementById("FOeLR"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    const mode = localStorage.getItem("mode") || "light";  
			    const newTheme = mode === "dark" ? "material" : "default";
			    editor.setOption("theme", newTheme);
			    
				codeMirrorMap.set("FOeLR", editor);

				let editor1 = CodeMirror.fromTextArea(document.getElementById("FOeLR_Textarea"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    editor1.setOption("theme", newTheme);				
				
				codeMirrorMap.set("FOeLR_Textarea", editor1);
			}
		    function openDialog(id) {
		        closeAll();
		        document.getElementById(id).style.display = 'flex';
		        setTimeout(() => {
		        	 codeMirrorMap.get("FOeLR_Textarea").refresh();
		        }, 100); // 100ms 
		      }

		      function closeAll() {
		        document.querySelectorAll('.dialog-backdrop').forEach(el => {
		          el.style.display = 'none';
		        });
		      }			
		</script>
 </div>
</div><h3 id="explanation">Explanation</h3><ul>
 <li>When a bar is clicked, the click handler toggles the “selected” class.</li>
 <li>The fill color changes to orange to highlight the selected bar.</li>
 <li>Only one bar can be selected at a time; clicking the selected bar deselects it.</li>
 <li>A detail pane below the chart updates with the selected bar’s description.</li>
 <li>The cursor changes to pointer to indicate interactivity.</li>
</ul><h3 id="advanced-uses-of-click-events">Advanced Uses of Click Events</h3><p>Click interactions can be extended to:</p><ul>
 <li><strong>Toggle visibility</strong>: Show/hide subsets of data.</li>
 <li><strong>Update auxiliary charts</strong>: Clicking a segment can filter or highlight related data elsewhere.</li>
 <li><strong>Open detail panes or modals</strong>: Provide in-depth information or drill-down views.</li>
 <li><strong>Multi-select or lasso</strong>: Allow selecting multiple elements with shift-click or dragging.</li>
</ul><h3 id="summary">Summary</h3><ul>
 <li>Use <code>.on('click', ...)</code> to bind click handlers to elements.</li>
 <li>Change styles dynamically to highlight or toggle selection.</li>
 <li>Use click events to update related UI components like detail panels.</li>
 <li>Design clear visual feedback for selections (color, stroke, opacity).</li>
 <li>Think about extending interactivity for coordinated multiple views.</li>
</ul><div class = "chapter-navi-section">
<a href="#top" class="nav-button prev">↑</a>
<a href='javascript-data-visualization.htm#d3-js-adding-interactivity' class="nav-button toc-link">Index</a>
<a href="#bottom" class="nav-button next">↓</a>
</div>
<h2 id='filtering-and-live-updates'>6.3 Filtering and Live Updates</h2><p>Filtering allows users to explore subsets of data dynamically by interacting with controls such as buttons, dropdowns, or sliders. Coupled with live updates and smooth transitions, filtering makes visualizations more engaging and insightful.</p><p>In this section, we’ll learn how to:</p><ul>
 <li>Create UI controls to filter data (e.g., buttons, dropdowns),</li>
 <li>Use D3’s <code>.data()</code> method to re-bind filtered data,</li>
 <li>Handle the enter, update, and exit selections properly,</li>
 <li>Apply transitions for smooth element removal and addition,</li>
 <li>Build a working example that filters data by category with immediate visual feedback.</li>
</ul><h3 id="setting-up-filtering-controls">Setting Up Filtering Controls</h3><p>Filtering controls can be simple HTML elements like buttons or dropdown menus:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-html">&lt;select id="categoryFilter"&gt;
  &lt;option value="All"&gt;All&lt;/option&gt;
  &lt;option value="A"&gt;Category A&lt;/option&gt;
  &lt;option value="B"&gt;Category B&lt;/option&gt;
  &lt;option value="C"&gt;Category C&lt;/option&gt;
&lt;/select&gt;</code></pre>
</div><p>Users can pick a category to filter the displayed data.</p><h3 id="re-binding-data-and-managing-selections">Re-binding Data and Managing Selections</h3><p>When data changes (after filtering), you need to:</p><ol>
 <li><strong>Re-bind data</strong> with <code>.data(filteredData, keyFunction)</code> to ensure proper matching,</li>
 <li><strong>Handle the Enter selection</strong> to create new elements for added data,</li>
 <li><strong>Handle the Update selection</strong> to update existing elements,</li>
 <li><strong>Handle the Exit selection</strong> to remove elements no longer present,</li>
 <li>Use <strong>transitions</strong> to animate these changes smoothly.</li>
</ol><h3 id="example-filtering-a-scatter-plot-by-category">Example: Filtering a Scatter Plot by Category</h3><h4 id="sample-data">Sample Data</h4><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const data = [
  { x: 34, y: 78, category: 'A' },
  { x: 109, y: 280, category: 'B' },
  { x: 310, y: 120, category: 'A' },
  { x: 79, y: 411, category: 'C' },
  { x: 420, y: 220, category: 'B' },
  { x: 233, y: 145, category: 'C' },
];</code></pre>
</div><h4 id="html-controls-and-svg">HTML Controls and SVG</h4><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-html">&lt;select id="categoryFilter"&gt;
  &lt;option value="All"&gt;All&lt;/option&gt;
  &lt;option value="A"&gt;Category A&lt;/option&gt;
  &lt;option value="B"&gt;Category B&lt;/option&gt;
  &lt;option value="C"&gt;Category C&lt;/option&gt;
&lt;/select&gt;

&lt;svg width="600" height="400"&gt;&lt;/svg&gt;</code></pre>
</div><h4 id="javascript-drawing-and-filtering">JavaScript: Drawing and Filtering</h4><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const svg = d3.select('svg');
const margin = { top: 20, right: 30, bottom: 50, left: 60 };
const width = +svg.attr('width') - margin.left - margin.right;
const height = +svg.attr('height') - margin.top - margin.bottom;

const chart = svg.append('g')
  .attr('transform', `translate(${margin.left},${margin.top})`);

const xScale = d3.scaleLinear()
  .domain([0, d3.max(data, d =&gt; d.x)]).nice()
  .range([0, width]);

const yScale = d3.scaleLinear()
  .domain([0, d3.max(data, d =&gt; d.y)]).nice()
  .range([height, 0]);

const colorScale = d3.scaleOrdinal()
  .domain(['A', 'B', 'C'])
  .range(d3.schemeCategory10);

// Axes
chart.append('g')
  .attr('transform', `translate(0,${height})`)
  .call(d3.axisBottom(xScale));

chart.append('g')
  .call(d3.axisLeft(yScale));

// Initial draw
function update(filteredData) {
  // DATA JOIN with key function (by x and y for uniqueness)
  const circles = chart.selectAll('circle')
    .data(filteredData, d =&gt; d.x + '-' + d.y);

  // EXIT old elements not in new data
  circles.exit()
    .transition()
    .duration(500)
    .attr('r', 0)
    .remove();

  // UPDATE existing elements
  circles
    .transition()
    .duration(500)
    .attr('cx', d =&gt; xScale(d.x))
    .attr('cy', d =&gt; yScale(d.y))
    .attr('fill', d =&gt; colorScale(d.category))
    .attr('r', 7);

  // ENTER new elements
  circles.enter()
    .append('circle')
    .attr('cx', d =&gt; xScale(d.x))
    .attr('cy', d =&gt; yScale(d.y))
    .attr('r', 0) // start from 0 radius for animation
    .attr('fill', d =&gt; colorScale(d.category))
    .transition()
    .duration(500)
    .attr('r', 7);
}

// Initial render with all data
update(data);

// Filtering handler
d3.select('#categoryFilter').on('change', function() {
  const selected = this.value;
  const filteredData = selected === 'All' ? data : data.filter(d =&gt; d.category === selected);
  update(filteredData);
});</code></pre>
</div><div class="snippet-container" id="A4tMJ">
 <div id="1GQbb_Dialog" class="dialog-backdrop">
  <div class="dialog">
   <h2>Dialog 1</h2>
   <div class="controls"><button onclick="renderIframe(this,'9Z6AF_Textarea','1GQbb_IFrame')">Run</button> <button onclick="closeAll()">Close</button>
   </div>
   <div class="dialog-content"><textarea id="9Z6AF_Textarea" class="textarea_dialog" placeholder="Type HTML here...">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;D3 Filtering Demo&lt;/title&gt;
  &lt;script src="https://d3js.org/d3.v7.min.js"&gt;&lt;/script&gt;
  &lt;style&gt;
    body {
      font-family: sans-serif;
      padding: 40px;
      text-align: center;
    }

    select {
      font-size: 16px;
      padding: 6px 10px;
      margin-bottom: 20px;
    }

    svg {
      border: 1px solid #ccc;
      display: block;
      margin: 0 auto;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

  &lt;h1&gt;D3 Scatter Plot with Category Filter&lt;/h1&gt;

  &lt;label for="categoryFilter"&gt;Filter by Category:&lt;/label&gt;
  &lt;select id="categoryFilter"&gt;
    &lt;option value="All"&gt;All&lt;/option&gt;
    &lt;option value="A"&gt;Category A&lt;/option&gt;
    &lt;option value="B"&gt;Category B&lt;/option&gt;
    &lt;option value="C"&gt;Category C&lt;/option&gt;
  &lt;/select&gt;

  &lt;svg width="600" height="400"&gt;&lt;/svg&gt;

  &lt;script&gt;
    const data = [
      { x: 34, y: 78, category: 'A' },
      { x: 109, y: 280, category: 'B' },
      { x: 310, y: 120, category: 'A' },
      { x: 79, y: 411, category: 'C' },
      { x: 420, y: 220, category: 'B' },
      { x: 233, y: 145, category: 'C' },
    ];

    const svg = d3.select('svg');
    const margin = { top: 20, right: 30, bottom: 50, left: 60 };
    const width = +svg.attr('width') - margin.left - margin.right;
    const height = +svg.attr('height') - margin.top - margin.bottom;

    const chart = svg.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);

    const xScale = d3.scaleLinear()
      .domain([0, d3.max(data, d =&gt; d.x)]).nice()
      .range([0, width]);

    const yScale = d3.scaleLinear()
      .domain([0, d3.max(data, d =&gt; d.y)]).nice()
      .range([height, 0]);

    const colorScale = d3.scaleOrdinal()
      .domain(['A', 'B', 'C'])
      .range(d3.schemeCategory10);

    // Axes
    chart.append('g')
      .attr('transform', `translate(0,${height})`)
      .call(d3.axisBottom(xScale));

    chart.append('g')
      .call(d3.axisLeft(yScale));

    function update(filteredData) {
      const circles = chart.selectAll('circle')
        .data(filteredData, d =&gt; d.x + '-' + d.y);

      circles.exit()
        .transition()
        .duration(500)
        .attr('r', 0)
        .remove();

      circles.transition()
        .duration(500)
        .attr('cx', d =&gt; xScale(d.x))
        .attr('cy', d =&gt; yScale(d.y))
        .attr('fill', d =&gt; colorScale(d.category))
        .attr('r', 7);

      circles.enter()
        .append('circle')
        .attr('cx', d =&gt; xScale(d.x))
        .attr('cy', d =&gt; yScale(d.y))
        .attr('r', 0)
        .attr('fill', d =&gt; colorScale(d.category))
        .transition()
        .duration(500)
        .attr('r', 7);
    }

    update(data);

    d3.select('#categoryFilter').on('change', function() {
      const selected = this.value;
      const filteredData = selected === 'All'
        ? data
        : data.filter(d =&gt; d.category === selected);
      update(filteredData);
    });
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea> <iframe id="1GQbb_IFrame" class="iframe_dialog"></iframe>
   </div>
  </div>
 </div>
 <div class="snippet-header" onclick="toggleSnippetAndRefresh('A4tMJ','9Z6AF')">
  Click to Try it <!--<span onclick="toggleSnippetAndRefresh('A4tMJ','9Z6AF')">Click
			to Try it</span> --> <!-- <span onclick="openDialog('1GQbb_Dialog')">Dialog</span> -->
 </div>
 <div class="snippet-body"><textarea id="9Z6AF">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;D3 Filtering Demo&lt;/title&gt;
  &lt;script src="https://d3js.org/d3.v7.min.js"&gt;&lt;/script&gt;
  &lt;style&gt;
    body {
      font-family: sans-serif;
      padding: 40px;
      text-align: center;
    }

    select {
      font-size: 16px;
      padding: 6px 10px;
      margin-bottom: 20px;
    }

    svg {
      border: 1px solid #ccc;
      display: block;
      margin: 0 auto;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

  &lt;h1&gt;D3 Scatter Plot with Category Filter&lt;/h1&gt;

  &lt;label for="categoryFilter"&gt;Filter by Category:&lt;/label&gt;
  &lt;select id="categoryFilter"&gt;
    &lt;option value="All"&gt;All&lt;/option&gt;
    &lt;option value="A"&gt;Category A&lt;/option&gt;
    &lt;option value="B"&gt;Category B&lt;/option&gt;
    &lt;option value="C"&gt;Category C&lt;/option&gt;
  &lt;/select&gt;

  &lt;svg width="600" height="400"&gt;&lt;/svg&gt;

  &lt;script&gt;
    const data = [
      { x: 34, y: 78, category: 'A' },
      { x: 109, y: 280, category: 'B' },
      { x: 310, y: 120, category: 'A' },
      { x: 79, y: 411, category: 'C' },
      { x: 420, y: 220, category: 'B' },
      { x: 233, y: 145, category: 'C' },
    ];

    const svg = d3.select('svg');
    const margin = { top: 20, right: 30, bottom: 50, left: 60 };
    const width = +svg.attr('width') - margin.left - margin.right;
    const height = +svg.attr('height') - margin.top - margin.bottom;

    const chart = svg.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);

    const xScale = d3.scaleLinear()
      .domain([0, d3.max(data, d =&gt; d.x)]).nice()
      .range([0, width]);

    const yScale = d3.scaleLinear()
      .domain([0, d3.max(data, d =&gt; d.y)]).nice()
      .range([height, 0]);

    const colorScale = d3.scaleOrdinal()
      .domain(['A', 'B', 'C'])
      .range(d3.schemeCategory10);

    // Axes
    chart.append('g')
      .attr('transform', `translate(0,${height})`)
      .call(d3.axisBottom(xScale));

    chart.append('g')
      .call(d3.axisLeft(yScale));

    function update(filteredData) {
      const circles = chart.selectAll('circle')
        .data(filteredData, d =&gt; d.x + '-' + d.y);

      circles.exit()
        .transition()
        .duration(500)
        .attr('r', 0)
        .remove();

      circles.transition()
        .duration(500)
        .attr('cx', d =&gt; xScale(d.x))
        .attr('cy', d =&gt; yScale(d.y))
        .attr('fill', d =&gt; colorScale(d.category))
        .attr('r', 7);

      circles.enter()
        .append('circle')
        .attr('cx', d =&gt; xScale(d.x))
        .attr('cy', d =&gt; yScale(d.y))
        .attr('r', 0)
        .attr('fill', d =&gt; colorScale(d.category))
        .transition()
        .duration(500)
        .attr('r', 7);
    }

    update(data);

    d3.select('#categoryFilter').on('change', function() {
      const selected = this.value;
      const filteredData = selected === 'All'
        ? data
        : data.filter(d =&gt; d.category === selected);
      update(filteredData);
    });
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea> <br> <button onclick="renderIframe(this,'9Z6AF','1GQbb')">Run</button>
  <div id="1GQbb_FloatingLog" class="floatingLog" aria-live="polite" role="alert"></div> <iframe id="1GQbb" class="result_iframe" style="display: none;"></iframe>
  <script>
			{
				let editor = CodeMirror.fromTextArea(document
						.getElementById("9Z6AF"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    const mode = localStorage.getItem("mode") || "light";  
			    const newTheme = mode === "dark" ? "material" : "default";
			    editor.setOption("theme", newTheme);
			    
				codeMirrorMap.set("9Z6AF", editor);

				let editor1 = CodeMirror.fromTextArea(document.getElementById("9Z6AF_Textarea"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    editor1.setOption("theme", newTheme);				
				
				codeMirrorMap.set("9Z6AF_Textarea", editor1);
			}
		    function openDialog(id) {
		        closeAll();
		        document.getElementById(id).style.display = 'flex';
		        setTimeout(() => {
		        	 codeMirrorMap.get("9Z6AF_Textarea").refresh();
		        }, 100); // 100ms 
		      }

		      function closeAll() {
		        document.querySelectorAll('.dialog-backdrop').forEach(el => {
		          el.style.display = 'none';
		        });
		      }			
		</script>
 </div>
</div><h3 id="how-this-works">How This Works</h3><ul>
 <li>When the filter changes, we create a filtered subset of the data.</li>
 <li>Calling <code>update(filteredData)</code> re-binds the filtered data to the circles.</li>
 <li>The <strong>exit</strong> selection removes circles that are no longer relevant, animating their radius to zero before removal.</li>
 <li>The <strong>update</strong> selection animates position and color changes for existing circles.</li>
 <li>The <strong>enter</strong> selection appends new circles, animating their radius from zero to full size.</li>
 <li>This creates smooth transitions that visually guide users through the data changes.</li>
</ul><h3 id="extending-this-approach">Extending This Approach</h3><ul>
 <li>Use <strong>buttons</strong> or <strong>sliders</strong> to filter by categories, ranges, or dates.</li>
 <li>Combine multiple filters for advanced slicing.</li>
 <li>Update axes scales if the data domain changes dynamically.</li>
 <li>Link filtering with other charts for coordinated views.</li>
 <li>Animate transitions of position, color, size, or opacity for richer feedback.</li>
</ul><h3 id="summary">Summary</h3><ul>
 <li>Filtering updates the displayed dataset dynamically.</li>
 <li>Use <code>.data()</code> with a key function to maintain element identity.</li>
 <li>Handle enter, update, and exit selections to add/remove/update elements.</li>
 <li>Use transitions for smooth animations during filtering.</li>
 <li>UI controls trigger filtering logic and live chart updates.</li>
</ul><div class = "chapter-navi-section">
<a href="javascript-data-visualization-d3-js-core-chart-types.htm" class="nav-button prev">←</a>
<a href='javascript-data-visualization.htm#d3-js-adding-interactivity' class="nav-button toc-link">Index</a>
<a href="javascript-data-visualization-d3-js-animating-data.htm" class="nav-button next">→</a>
</div>
<section class="download-section">
  <div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 16px;color: #333;top: 20px;">JavaScript Data Visualization</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 60px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAC0UlEQVR4Xu3dMWsUURSG4fwr2U6zJI0WKZSAaa0EG7tU2giWimLETrQQQRCxUDsbK3+IYOWCiFU06IQz356ZuffOvXdm4A28ze585OxDsLDZnR3zs1pf+rHavXhKWdpY2/Mf50HKEMgV+4cs/1z8/v6OMiTYm9Zfsz5M42r9VQNdLqArBXSlgK4U0JUCulKLgrb39aW7ObQY6PXl/S3Qrs6e1f3ULQZaMYfS/dTZ2xYDvff6g9tS7ge6YEBXCuhKAV0poCsFdKWArtQk0G9e3Tt9dnLc2+dPD1sboCOzv2Ool8/vujsFBtpJMYfydgoMtFMqWOpuLtnbgC6YvQ3ogtnbgC6YvQ3ogtnbgC6YvQ3ogtnbgC6YvQ3ogtnboqCvHR20xn11/UKF6gNL3Y1JP0dXV68fbG01+3wUtP6yvp4+OXZ3CtUHlrpL7ew/tvRz9KV7zT4LtGmW0O+/fnRr3l86tH4u/Xwhv88+C7QJ6MhdakBH7lIDOnKXGtCRu9SAjtylBnTkLjWgI3e67evnt7fnG6BH7EJqdkCP2IXU7IAesft169DN2wE9YqfAQDt35NgpMNDOHTl2Cgy0c0eOnQID7dxhXwvJ2ykw0M4d9rWQvJ0CA+3cYV8LydspMNDOHfa1C/cfuQ3tFBho5w77mgID/f99oCeGDsnbKXBp6JDUR7PPAm12QO8CvVXzfhe0QoWC6fOhOwUOhX7w4rGbt+vKPgu02QE9YqfAi4Meai7QITU7oEfsQmp2s4S+cfumW/P+XKDvXFm7ebtZQusBeshcoL8c7rt5O6BH7BQYaOeOHDsFBtq5I8dOgYF27sixU2CgnTty7BQYaOeOHDsFBtq5I8dOgRcHPVQXdEhT7Wb536RDAQ30Vs1uNtAUF9CVArpSQFcK6EoBXSmgK9WG5qtQi2RNV803KsuLlDn7RcpgF6qF3Pz8fWOjD1JyrS9g/wOlHj3Oru4PcQAAAABJRU5ErkJggg=="/>
  </div>
  <div class="download-info">
    <h2 id='bottom'>Download This Ebook</h2>
    <p class="format-label">Available formats:</p>
    <div class="download-buttons">
      <a href="javascript-data-visualization.pdf" class="download-button">📄 PDF</a>
      <a href="javascript-data-visualization.epub" class="download-button">📘 EPUB</a>
    </div>
  </div>
</section><div class='related-books'>
<h2>Javascript Web Front Books</h2>
<div class='related-book-list'>
<a href="javascript-canvas-programming.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 16px;color: #333;top: 10px;">JavaScript Canvas Programming</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 80px;height: 80px;top: 70px;" src='data:image/png;base64,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'/>
  </div>
</a>


<a href="javascript-dom-programming.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 16px;color: #333;top: 20px;">JavaScript DOM Programming</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 60px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAADUklEQVR4Xu2dv47TQBDGI0RDczY9rwMlrwEFBweC/t4EXRwaXuI6WiSaOLkCIZ6BCqTgPRFr8zkbnPF4Zuydn/RVuzsz33eSlX/2LRYRm1Xxe1MVOzY19eL6/6NzfqCw/ilEvXc2Mwh7pNiuyks8O1T1snyNfVLgWQ5hjxbcyCHskaJelVd4drCW5Vvsk6JzlkHYo6XXph5Q6hwEfUZASDhLqUOZ+Ri96vTa1ANKHQ+aAKWOB02AUseDJkCp40EToNTxoAlQ6njQBCh1PGgClDrZBs0l7JEi23eGXMIeKTbVxSs8O1Trm4tL7JMCz3IIe7Rsq+IXbh6iUA97nALPDxXWP4W29w5xMVwbG67rOBVR76LNAA9aiKyCbq49L0QbRmgGHXuul8VLXB+F3IPGtdGIm0o21gpay+89Gs01gtbwecDPz08eSQ8hHTT6C55xjwh3q+IZDhO0u148wL0cSAR93cyOfoKCV9wryu528RCHmpuCR/StRvOy7w8OOHUFT+jTDHdV+RwHnpqCB/SVFRLXaGfhQYvhQQvhQQvhQQvhQf8DXyZNXehPnW+fisc45FwUvKFfNXC4uQn9qvD1Y1maG4qB2NP3xiOui1NX5Zv9QNuq+IDrU6Xx8n7vq16WV7guTvxKYH1TvsP1qWLOl7mBmDDny9xATJjzZW4gJsz5MjcQE+Z8mRuICXO+zA3EhDlf5gZiwpwvcwMxYc6XuYGYMOfL3EBMmPNlbiAmzPkyNxAT5nyZG4gJc778Y1Ih/IN/QeKh5ij0q8acv5z9YenL2T045NSF/rIhfiWQ9Q9oxsaDFsKDFsKDFsKDFsKDjqj9ZqFx8dvfRubWb+gcn+Yv/hSHuh9swrcoh9nRT5DaLcpf/KZ7GXAIXB8D6aADGj5btJprBB3Q8nvQGNfGRCvogLjntT+8SubhVVohBzSDDoh6F20GeNBCzCZo7Qeh4vmhwvqnEPWOmzmEPVJk9Vhj3Mgh7JHi4LLApTMuL52zDMIeLb029YBSh+v6G85S6lBmPkavOr029YBSx4MmQKnjQROg1PGgCVDqeNAEKHU8aAKUOh40AUodD5oApU62QXMJe6TI9p0hl7BHitz+XTX3j2DO+gHKkfODhPVPsRnZ+1+tJg8Iaaje6wAAAABJRU5ErkJggg=="/>
  </div>
</a>


<a href="javascript-data-visualization.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 16px;color: #333;top: 20px;">JavaScript Data Visualization</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 60px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAC0UlEQVR4Xu3dMWsUURSG4fwr2U6zJI0WKZSAaa0EG7tU2giWimLETrQQQRCxUDsbK3+IYOWCiFU06IQz356ZuffOvXdm4A28ze585OxDsLDZnR3zs1pf+rHavXhKWdpY2/Mf50HKEMgV+4cs/1z8/v6OMiTYm9Zfsz5M42r9VQNdLqArBXSlgK4U0JUCulKLgrb39aW7ObQY6PXl/S3Qrs6e1f3ULQZaMYfS/dTZ2xYDvff6g9tS7ge6YEBXCuhKAV0poCsFdKWArtQk0G9e3Tt9dnLc2+dPD1sboCOzv2Ool8/vujsFBtpJMYfydgoMtFMqWOpuLtnbgC6YvQ3ogtnbgC6YvQ3ogtnbgC6YvQ3ogtnbgC6YvQ3ogtnboqCvHR20xn11/UKF6gNL3Y1JP0dXV68fbG01+3wUtP6yvp4+OXZ3CtUHlrpL7ew/tvRz9KV7zT4LtGmW0O+/fnRr3l86tH4u/Xwhv88+C7QJ6MhdakBH7lIDOnKXGtCRu9SAjtylBnTkLjWgI3e67evnt7fnG6BH7EJqdkCP2IXU7IAesft169DN2wE9YqfAQDt35NgpMNDOHTl2Cgy0c0eOnQID7dxhXwvJ2ykw0M4d9rWQvJ0CA+3cYV8LydspMNDOHfa1C/cfuQ3tFBho5w77mgID/f99oCeGDsnbKXBp6JDUR7PPAm12QO8CvVXzfhe0QoWC6fOhOwUOhX7w4rGbt+vKPgu02QE9YqfAi4Meai7QITU7oEfsQmp2s4S+cfumW/P+XKDvXFm7ebtZQusBeshcoL8c7rt5O6BH7BQYaOeOHDsFBtq5I8dOgYF27sixU2CgnTty7BQYaOeOHDsFBtq5I8dOgRcHPVQXdEhT7Wb536RDAQ30Vs1uNtAUF9CVArpSQFcK6EoBXSmgK9WG5qtQi2RNV803KsuLlDn7RcpgF6qF3Pz8fWOjD1JyrS9g/wOlHj3Oru4PcQAAAABJRU5ErkJggg=="/>
  </div>
</a>


<a href="jquery-in-depth.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 18px;color: #333;top: 20px;">jQuery In-Depth</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 65px;" src='data:image/png;base64,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'/>
  </div>
</a>



<a href='javascript.htm'><div class='book-cover' style='background-color: #f9f6f1;color: #111111;border: 1px solid #ccc;display: flex;justify-content: center;align-items: center;text-align: center;'>More Javascript Books</div></a>
</div>
</div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
  
  <script>
    function copyCode(button) {
      const code = button.nextElementSibling.innerText;
      navigator.clipboard.writeText(code).then(() => {
        button.textContent = 'Copied!';
        setTimeout(() => { button.textContent = 'Copy'; }, 1500);
      });
    }
  </script>  
<div id="floatingLog" aria-live="polite" role="alert"></div>
<footer class="page-footer">
    <nav>
      <a href="https://readbytes.github.io">Home</a> | 
      Email:<script language="JavaScript" type="text/javascript">
var part1 = 'yinpeng';var part6 = '263';var part2 = Math.pow(2,6);var part3 = String.fromCharCode(part2);var part4 = 'hotmail dot com';var part5 = part1 + String.fromCharCode(part2) + part4;document.write(part1 + part6 + part3 + part4);
</script>
    </nav>
  <p>© 2025 — All rights reserved.</p>    
  </footer>

</body>
</html>