<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>JavaScript Canvas Programming 3D Effects and WebGL Basics</title>
<link rel='shortcut icon' href='https://java2s.com/style/favicon.ico'>
<link href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" rel="stylesheet" />
<link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/material.css"> <!-- Dark theme -->
<script src="https://cdn.jsdelivr.net/npm/typescript@5/lib/typescript.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/htmlmixed/htmlmixed.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/xml/xml.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/css/css.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/typescript.min.js"></script>
<style>
    #floatingLog {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(20, 20, 20, 0.95);
      color: white;
      font-family: monospace;
      font-size: 14px;
      padding: 16px 20px;
      border-radius: 8px;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);
      max-width: 80%;
      max-height: 200px;
      overflow-y: auto;
      display: none;
      z-index: 9999;
      pointer-events: none;
      white-space: pre-wrap;
      text-align: center;
    }
</style>
<script>
  const codeMirrorMap = new Map();
  const iframeMap = new Map();
  
 

  let dismissTimer;
  function showFloatingLog(message) {
	const floatingLog = document.getElementById('floatingLog');

    if (floatingLog.style.display !== 'block') {
      floatingLog.textContent = '';
      floatingLog.style.display = 'block'; 
    }

    floatingLog.textContent += message + '\n';
    floatingLog.scrollTop = floatingLog.scrollHeight; 
    clearTimeout(dismissTimer);
    dismissTimer = setTimeout(() => {
      floatingLog.style.display = 'none';
      floatingLog.textContent = '';
    }, 2000);
  }
  window.addEventListener('message', (event) => {
	    if (!iframeMap.has(event.source)) return;

	    if (event.data?.type === 'console-log') {
	      showFloatingLog(event.data.message);
	    }
  });  
  function renderIframe(button,textarea_id, iframe_id) {
      const html = codeMirrorMap.get(textarea_id).getValue();
      const iframe = document.getElementById(iframe_id);
  
      const oldIframe = iframe;
      const newIframe = document.createElement('iframe');
      newIframe.className ="result_iframe";
      
      newIframe.id = iframe_id;
      oldIframe.replaceWith(newIframe);
 

      // Track the iframe in the map
      iframeMap.set(newIframe.contentWindow, button);

      const overrideScript = `
        <script>
          (function() {
            const originalLog = console.log;
            console.log = function(...args) {
              originalLog.apply(console, args);
              window.parent.postMessage({
                type: 'console-log',
                message: args.map(a => {
                  try { return JSON.stringify(a); }
                  catch { return String(a); }
                }).join(' ')
              }, '*');
            };
          })();
        <\/script>
      `;

      const iframeHTML = `
        <!DOCTYPE html>
        <html>
        <body>
          ${overrideScript}
          ${html}
        </body>
        </html>
      `;
 
      const doc = newIframe.contentDocument || newIframe.contentWindow.document;
      doc.open();
      doc.write(iframeHTML);
      doc.close();

      
      setTimeout(() => {
    	  newIframe.style.height = '0px';
    	   let contentHeight = Math.max(doc.body.scrollHeight,doc.documentElement.scrollHeight);
 
    	   if(contentHeight < 150 || contentHeight > 600){
    		   contentHeight = 600;
    	   } 
    	   newIframe.style.height = contentHeight + 'px';
    	}, 50);      
      
  }
  function renderIframeForClientTypescript(textarea_id, iframe_id) {
      let code = codeMirrorMap.get(textarea_id).getValue();
      code = ts.transpile(code);
      const iframe = document.getElementById(iframe_id);
      const doc = iframe.contentDocument || iframe.contentWindow.document;

const html = `
  <!DOCTYPE html>
  <html>
    <head>
      <title>Output</title>
      <style>
        body { font-family: monospace; padding: 1em; background: #f4f4f4; color: #222; }
        pre { white-space: pre-wrap; word-break: break-word; }
        .error { color: red; }
      </style>
    </head>
    <body>
      <pre id="log"></pre>
      <script>
        (function(){
          const logEl = document.getElementById('log');
          const origLog = console.log;
          const origError = console.error;

          console.log = (...args) => {
            logEl.textContent += args.join(' ') + '\\n';
            origLog.apply(console, args);
          };
          console.table = (...args) => {
            logEl.textContent += args.join(' ') + '\\n';
            origLog.apply(console, args);
          };

          console.error = (...args) => {
            logEl.innerHTML +='<span class="error">' + args.join(' ') + '</span>';
            origError.apply(console, args);
          };
          window.addEventListener("error", function (event) {
              console.error("Caught by event listener:", event.message);
          });    
          try {             
              ${code};
          } catch (err) {
            console.error(err.stack || err.message);
          }
        })();
      <\/script>
    </body>
  </html>
`;

      iframe.style.display = "block";
      iframe.srcdoc = html;  
  }

    function renderIframeForClientJavascript(textarea_id, iframe_id) {
        const code = codeMirrorMap.get(textarea_id).getValue();
        const iframe = document.getElementById(iframe_id);
        const doc = iframe.contentDocument || iframe.contentWindow.document;

  const html = `
    <!DOCTYPE html>
    <html>
      <head>
        <title>Output</title>
        <style>
          body { font-family: monospace; padding: 1em; background: #1e1e1e; color: #eee; }
          pre { white-space: pre-wrap; word-break: break-word; }
          .error { color: red; }
        </style>
      </head>
      <body>
        <pre id="log"></pre>
        <script>
          (function(){
            const logEl = document.getElementById('log');
            const origLog = console.log;
            const origError = console.error;

            console.log = (...args) => {
              logEl.textContent += args.join(' ') + '\\n';
              origLog.apply(console, args);
            };
            console.table = (...args) => {
              logEl.textContent += args.join(' ') + '\\n';
              origLog.apply(console, args);
            };

            console.error = (...args) => {
              logEl.innerHTML +='<span class="error">' + args.join(' ') + '</span>';
              origError.apply(console, args);
            };
            window.addEventListener("error", function (event) {
                console.error("Caught by event listener:", event.message);
            });    
            try {
             ${code}; 
            } catch (err) {
              console.error(err.stack || err.message);
            }
          })();
        <\/script>
      </body>
    </html>
  `;
        iframe.style.display = "block";
        iframe.srcdoc = html;  
    }
    function toggleSnippetAndRefresh(id, textarea_id) {
      const box = document.getElementById(id);
      box.classList.toggle("open");
      codeMirrorMap.get(textarea_id).refresh();
    }

  </script>
  <script>
  const mode = localStorage.getItem('mode') || 'light';
  document.documentElement.classList.add(`${mode}-mode`);
  </script>   
<style> 
html {
  scroll-behavior: smooth;
}

body {
  font-family: 'Merriweather', serif;
  margin: 0;
  padding: 2rem 1rem;
  font-size: 15px;
  line-height: 1.5;
  transition: background-color 0.3s, color 0.3s;
}

.container {
  max-width: 700px;
  margin: 0 auto;
  padding: 1rem 2rem;
  box-shadow: 0 0 15px rgba(0,0,0,0.1);
}

h1, h2, h3 {
  font-weight: 600;
  margin-top: 2.5rem;
  margin-bottom: 1rem;
  line-height: 1.2;
}

h1 { font-size: 1.8rem; }
h2 { font-size: 1.4rem; }
h3 { font-size: 1.2rem; }

table {
  width: 100%;
  border-collapse: collapse;
  font-family: sans-serif;
  font-size: 1em;
  margin: 1em 0;
}

th, td {
  padding: 0.6em 1em;
  text-align: left;
  border: 1px solid;
}

tr:nth-child(even) {
  background-color: inherit;
}

tr:hover {
  background-color: inherit;
}

a {
  text-decoration: none;
  transition: color 0.2s;
}

a:hover {
  text-decoration: underline;
}

code {
  color: #d35400;
}

.book-title-chapter {
  font-family: 'Merriweather', serif;
  font-size: 2rem;
  font-weight: bold;
  text-align: center;
  margin-bottom: 2rem;
  border-bottom: 2px solid;
  padding-bottom: 0.5rem;
}

.book-subtitle-chapter {
  text-align: center;
  font-size: 1rem;
  margin-top: -1rem;
  margin-bottom: 2rem;
}

.related-books {
  margin-top: 40px;
}

.related-book-list {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
}

    .book-cover {
      width: 130px;
      height: 180px;
      font-family: Arial, sans-serif;
      position: relative;
      overflow: hidden;      
      line-height: normal;
      box-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }
    .book-cover-bottom-stripe {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 5px;
      width: 100%;
    }
    .book-cover-title {
      position: absolute;
      width: 100%;
      text-align: center;
      font-weight: bold;
    }
     
    .book-cover-icon {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      align-items: center;
      justify-content: center; 
    }

    .book-cover-author {
      position: absolute;
      bottom: 10px;
      width: 100%;
      text-align: center;
      font-size: 8px;
      color: #333;
    }

.page-footer {
  margin-top: 4rem;
  padding: 1rem 0;
  text-align: center;
  font-size: 0.85rem;
  border-top: 1px solid;
}

.chapter-navi-section {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-bottom: 10px;
}

.nav-link {
  color: inherit;
  text-decoration: none;
  opacity: 0.5;
  transition: opacity 0.3s ease, text-decoration 0.3s ease;
}

.nav-link:hover {
  opacity: 0.9;
  text-decoration: underline;
}

.prev { text-align: left; }
.toc-link { text-align: center; }
.next { text-align: right; }

.download-section {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 2rem;
  padding: 2rem 1rem;
  max-width: 600px;
  margin: 3rem auto;
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

.download-info h2 {
  margin: 0 0 0.5rem;
  font-size: 1.2rem;
}

.format-label {
  margin: 0 0 0.5rem;
  font-size: 0.95rem;
}

.download-buttons {
  display: flex;
  gap: 1rem;
}

.download-button {
  background-color: #4A90E2;
  color: white;
  padding: 0.5em 1.2em;
  border-radius: 25px;
  font-size: 0.95rem;
  text-decoration: none;
  transition: background-color 0.3s ease;
}

.download-button:hover {
  background-color: #357ABD;
}

.code-block {
  position: relative;
  margin-bottom: 1em;
}

.copy-button {
  background: transparent;
  color: white;
  position: absolute;
  top: 8px;
  right: 8px;
  border: none;
  padding: 4px 8px;
  font-size: 12px;
  border-radius: 4px;
  cursor: pointer;
  z-index: 1;
}

.copy-button:hover {
  background-color: #0056b3;
}

.snippet-container {
  overflow: hidden;
}

.snippet-header {
  padding: 0.75rem 1rem;
  cursor: pointer;
  font-size: 1rem;
    background-color: #eeeeee;
    color:  #111111; 
    border-radius: 8px;
    cursor: pointer;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);  
}

.snippet-body {
  display: none;
  font-family: monospace;
}

.snippet-container.open .snippet-body {
  display: block;
}

.CodeMirror {
  border: 2px solid #ccc;
  border-radius: 4px;
  resize: vertical;
}

/* === Light Mode === */
html.light-mode {
  background-color: #f8f7f5;
  color: #333;
}

html.light-mode .container {
  background: white;
}

html.light-mode .book-title-chapter {
  color: #2c3e50;
  border-color: #ccc;
}
html.light-mode .book-subtitle-chapter{
  color: #888;
}

html.light-mode .page-footer,
html.light-mode .series-name,
html.light-mode .book-subtitle,
html.light-mode .format-label {
  color: #888;
}

html.light-mode .related-books h2 {
  color: #333;
  border-bottom: 2px solid #eee;
}

html.light-mode .book-title {
  color: #fff;
}

html.light-mode .book-cover {
  border: 1px solid #ccc;
}

html.light-mode th {
  background-color: #f2f2f2;
}

html.light-mode tr:nth-child(even) {
  background-color: #fafafa;
}

html.light-mode tr:hover {
  background-color: #e6f7ff;
}

html.light-mode a,
html.light-mode .page-footer a {
  color: #000;
}

/* === Dark Mode === */
html.dark-mode {
  background-color: #181818;
  color: #e0e0e0;
}

html.dark-mode .container {
  background: #222;
}

html.dark-mode .book-title-chapter {
  color: #ddd;
  border-color: #444;
}

html.dark-mode .snippet-header {
    background-color: #333;
    color:  #ddd; 
}


html.dark-mode .book-subtitle-chapter,
html.dark-mode .page-footer,
html.dark-mode .series-name,
html.dark-mode .book-subtitle,
html.dark-mode .book-footer,
html.dark-mode .format-label {
  color: #aaa;
}

html.dark-mode .related-books h2 {
  color: #ddd;
  border-bottom: 2px solid #333;
}

html.dark-mode .book-title {
  color: #fff;
}

html.dark-mode .book-cover {
  border: 1px solid #555;
}

html.dark-mode th {
  background-color: #333;
  color: #fff;
}

html.dark-mode td {
  border-color: #444;
}

html.dark-mode tr:nth-child(even) {
  background-color: #2a2a2a;
}

html.dark-mode tr:hover {
  background-color: #2c3e50;
}

html.dark-mode a,
html.dark-mode .page-footer a {
  color: #eee;
}

    .dialog-backdrop {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 10;
    }

    .dialog {
      background: white;
      padding: 20px;
      width: 90vw;
      height: 80vh;
      border-radius: 8px;
      box-shadow: 0 0 20px rgba(0,0,0,0.3);
      display: flex;
      flex-direction: column;
    }
    .dialog-content {
      display: flex;
      flex: 1;
      gap: 20px;
      margin-top: 10px;
    }
    .dialog h2 {
      margin-top: 0;
    }

    .textarea_dialog {
      width: 50%;
      height: 100%;
      resize: none;
      font-family: monospace;
      font-size: 14px;
      padding: 10px;
      box-sizing: border-box;
      border: 1px solid #ccc;
    }

    .iframe_dialog {
      width: 50%;
      height: 100%;
      border: 1px solid #ccc;
    }
    .controls_dialog {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
    }    
    button { padding: 0.5em 1em; background: green; color: white; border: none; cursor: pointer; }
    button:hover { background: #1e7e34; }
    .result_iframe { width:99%; height:200px; margin-top: 1em;  resize: both;border:1px solid #ccc;}        
</style>
</head>
<body> 
  <div class="container">
    <div class = "chapter-navi-section">
<a href="javascript-canvas-programming-working-with-pixel-data-and-filters.htm" class="nav-button prev">←</a>
<a href='javascript-canvas-programming.htm#3d-effects-and-webgl-basics' class="nav-button toc-link">Index</a>
<a href="javascript-canvas-programming-performance-optimization-techniques.htm" class="nav-button next">→</a>
</div>

    <h1 class="book-title-chapter" id = 'top'>3D Effects and WebGL Basics</h1>
    <h3 class="book-subtitle-chapter">JavaScript Canvas Programming</h3>   
    <!-- <h1 class ="chapter-title"></h1> -->
    <h2 id='introduction-to-webgl-and-differences-from-2d-canvas'>12.1 Introduction to WebGL and Differences from 2D Canvas</h2><p>As you become more comfortable with 2D canvas programming, you may start wondering how to create immersive 3D graphics—rotating cubes, animated terrains, or data visualizations with depth and perspective. This is where <strong>WebGL</strong> comes into play.</p><h3 id="what-is-webgl">What Is WebGL?</h3><p><strong>WebGL</strong> (Web Graphics Library) is a JavaScript API that allows you to render 2D and <strong>3D graphics directly in the browser</strong> using the GPU. Unlike the familiar 2D canvas API, WebGL is a <strong>low-level</strong> interface that provides access to advanced graphics pipelines, making it powerful but also more complex.</p><p>WebGL is based on <strong>OpenGL ES</strong>, a graphics standard for embedded systems, and is designed to bring high-performance, real-time rendering to the web.</p><h3 id="webgl-vs-2d-canvas-key-differences">WebGL vs. 2D Canvas: Key Differences</h3><table>
 <thead>
  <tr>
   <th>Feature</th>
   <th>2D Canvas</th>
   <th>WebGL</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><strong>Rendering Mode</strong></td>
   <td>Immediate-mode, CPU-based</td>
   <td>Retained-mode, GPU-accelerated</td>
  </tr>
  <tr>
   <td><strong>Drawing API</strong></td>
   <td>Simple shapes and styles</td>
   <td>Requires shaders and buffers</td>
  </tr>
  <tr>
   <td><strong>3D Support</strong></td>
   <td>None (2D only)</td>
   <td>Full 3D (perspective, depth, lighting)</td>
  </tr>
  <tr>
   <td><strong>Abstraction Level</strong></td>
   <td>High (easy to use)</td>
   <td>Low (requires setup and shaders)</td>
  </tr>
  <tr>
   <td><strong>Use Cases</strong></td>
   <td>Charts, games, art, UI</td>
   <td>3D games, scientific visualization, VR</td>
  </tr>
  <tr>
   <td><strong>Performance</strong></td>
   <td>Fine for basic graphics</td>
   <td>Better for complex or dynamic scenes</td>
  </tr>
 </tbody>
</table><h3 id="why-use-webgl">Why Use WebGL?</h3><p>WebGL enables things that 2D canvas simply can’t do—or can’t do efficiently. Here are some common use cases:</p><ul>
 <li><strong>3D Games</strong>: Many modern browser games (e.g., using Three.js) rely on WebGL.</li>
 <li><strong>Data Visualization</strong>: Render thousands of data points or surfaces with depth.</li>
 <li><strong>Augmented &amp; Virtual Reality</strong>: Integrate 3D elements into immersive applications.</li>
 <li><strong>3D Modeling and Simulation</strong>: Physics simulations, architectural previews, etc.</li>
</ul><h3 id="gpu-acceleration-and-shaders">GPU Acceleration and Shaders</h3><p>The biggest shift from 2D canvas to WebGL is <strong>how rendering happens</strong>:</p><ul>
 <li><p>Instead of issuing draw calls like <code>fillRect()</code> or <code>arc()</code>, in WebGL you create <strong>geometry</strong> (vertex data), send it to the GPU, and write <strong>shaders</strong>—small GPU programs—to control how the shapes appear.</p></li>
 <li><p>There are two types of shaders:</p>
  <ul>
   <li><strong>Vertex shaders</strong>: Calculate vertex positions.</li>
   <li><strong>Fragment shaders</strong>: Calculate pixel color.</li>
  </ul></li>
</ul><p>This design offers immense power and flexibility—but it also means <strong>more setup</strong>, <strong>mathematics</strong>, and <strong>boilerplate</strong> compared to 2D drawing.</p><h3 id="the-learning-curve-worth-it">The Learning Curve: Worth It?</h3><p>If you’re coming from the 2D canvas world, WebGL can initially feel overwhelming. You’ll need to learn new concepts like:</p><ul>
 <li>Matrix transformations</li>
 <li>Vertex buffers</li>
 <li>Shading languages (GLSL)</li>
 <li>Coordinate systems in 3D</li>
</ul><p>However, <strong>gaining a foundational understanding of WebGL is incredibly valuable</strong>—even for 2D developers. You’ll better understand how GPUs work, and you’ll be equipped to explore high-performance graphics, animation, and visualization in the browser.</p><p>Many libraries such as <strong>Three.js</strong> or <strong>Babylon.js</strong> build on WebGL and provide higher-level APIs. But learning raw WebGL gives you <strong>total control and insight</strong>, and allows you to write your own optimized rendering systems.</p><h3 id="summary">Summary</h3><p>WebGL opens the door to the 3D web. Compared to the 2D canvas API, it’s a <strong>lower-level</strong>, more <strong>powerful</strong>, and <strong>GPU-accelerated</strong> system that requires more effort—but rewards you with the ability to render complex, interactive scenes in real time.</p><p>In the next section, you’ll set up your first <strong>WebGL context</strong> and draw a blank screen. From there, we’ll build up to rendering 3D objects like a rotating cube using shaders and transformations.</p><p>Let’s step into the world of 3D.</p><div class = "chapter-navi-section">
<a href="#top" class="nav-button prev">↑</a>
<a href='javascript-canvas-programming.htm#3d-effects-and-webgl-basics' class="nav-button toc-link">Index</a>
<a href="#bottom" class="nav-button next">↓</a>
</div>
<h2 id='setting-up-a-basic-webgl-context'>12.2 Setting Up a Basic WebGL Context</h2><p>Before we can render anything in 3D, we need to properly initialize a WebGL context and understand the setup process. Unlike the 2D canvas API, WebGL involves more boilerplate—but once you're past the initial steps, it becomes a powerful rendering engine.</p><h3 id="creating-a-webgl-context">Creating a WebGL Context</h3><p>To start using WebGL, you first need to get a WebGL context from a <code>&lt;canvas&gt;</code> element. This context is your interface to the GPU.</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-html">&lt;canvas id="glcanvas" width="500" height="500"&gt;&lt;/canvas&gt;</code></pre>
</div><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const canvas = document.getElementById("glcanvas");
const gl = canvas.getContext("webgl") || canvas.getContext("experimental-webgl");

if (!gl) {
  alert("WebGL not supported on this browser.");
}</code></pre>
</div><h3 id="webgl-context-options">WebGL Context Options</h3><p>When requesting a context, you can pass options like this:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const gl = canvas.getContext("webgl", {
  alpha: false,    // disable alpha channel (useful for opaque scenes)
  depth: true,     // enable depth buffer (required for 3D)
  antialias: true, // smoother edges
});</code></pre>
</div><p>Always check if the context was returned—some devices or browsers might not support WebGL.</p><h3 id="writing-a-minimal-webgl-program">Writing a Minimal WebGL Program</h3><p>WebGL rendering is done by GPU programs called <em>shaders</em>. You’ll need at least two shaders: a <strong>vertex shader</strong> and a <strong>fragment shader</strong>.</p><h3 id="step-1-define-shaders">Step 1: Define Shaders</h3><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const vertexShaderSource = `
  attribute vec2 a_position;
  void main() {
    gl_Position = vec4(a_position, 0.0, 1.0);
  }
`;

const fragmentShaderSource = `
  void main() {
    gl_FragColor = vec4(1.0, 0.2, 0.6, 1.0); // pinkish triangle
  }
`;</code></pre>
</div><h3 id="step-2-compile-shaders-and-link-program">Step 2: Compile Shaders and Link Program</h3><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">function createShader(gl, type, source) {
  const shader = gl.createShader(type);
  gl.shaderSource(shader, source);
  gl.compileShader(shader);
  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
    throw new Error(gl.getShaderInfoLog(shader));
  }
  return shader;
}

function createProgram(gl, vertexSource, fragmentSource) {
  const vShader = createShader(gl, gl.VERTEX_SHADER, vertexSource);
  const fShader = createShader(gl, gl.FRAGMENT_SHADER, fragmentSource);
  const program = gl.createProgram();
  gl.attachShader(program, vShader);
  gl.attachShader(program, fShader);
  gl.linkProgram(program);
  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
    throw new Error(gl.getProgramInfoLog(program));
  }
  return program;
}</code></pre>
</div><h3 id="step-3-create-a-buffer-and-draw-a-triangle">Step 3: Create a Buffer and Draw a Triangle</h3><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const program = createProgram(gl, vertexShaderSource, fragmentShaderSource);
gl.useProgram(program);

// Define triangle points in clip space (-1 to 1)
const positionBuffer = gl.createBuffer();
gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);
const vertices = new Float32Array([
   0.0,  0.5,
  -0.5, -0.5,
   0.5, -0.5,
]);
gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);

// Link buffer to attribute in shader
const aPosition = gl.getAttribLocation(program, "a_position");
gl.enableVertexAttribArray(aPosition);
gl.vertexAttribPointer(aPosition, 2, gl.FLOAT, false, 0, 0);

// Set viewport and clear canvas
gl.viewport(0, 0, canvas.width, canvas.height);
gl.clearColor(0.1, 0.1, 0.1, 1.0); // dark background
gl.clear(gl.COLOR_BUFFER_BIT);

// Draw triangle
gl.drawArrays(gl.TRIANGLES, 0, 3);</code></pre>
</div><h3 id="minimal-working-example">Minimal Working Example</h3><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;WebGL Triangle&lt;/title&gt;
  &lt;style&gt;canvas { border: 1px solid #ccc; }&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;canvas id="glcanvas" width="500" height="500"&gt;&lt;/canvas&gt;
  &lt;script&gt;
    // Setup code shown above goes here...
    // (copy createShader, createProgram, and rendering logic)
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
</div><p>When you open this page, you should see a colored triangle centered on a dark background. This is your first working WebGL scene!</p><div class="snippet-container" id="DfgWf">
 <div id="Xdqbk_Dialog" class="dialog-backdrop">
  <div class="dialog">
   <h2>Dialog 1</h2>
   <div class="controls"><button onclick="renderIframe(this,'hP9eB_Textarea','Xdqbk_IFrame')">Run</button> <button onclick="closeAll()">Close</button>
   </div>
   <div class="dialog-content"><textarea id="hP9eB_Textarea" class="textarea_dialog" placeholder="Type HTML here...">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Minimal WebGL Triangle&lt;/title&gt;
  &lt;style&gt;
    canvas { border: 1px solid #ccc; }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;canvas id="glcanvas" width="500" height="500"&gt;&lt;/canvas&gt;
  &lt;script&gt;
    const canvas = document.getElementById("glcanvas");
    const gl = canvas.getContext("webgl") || canvas.getContext("experimental-webgl");

    if (!gl) {
      alert("WebGL not supported on this browser.");
      throw new Error("WebGL not supported.");
    }

    const vertexShaderSource = `
      attribute vec2 a_position;
      void main() {
        gl_Position = vec4(a_position, 0.0, 1.0);
      }
    `;

    const fragmentShaderSource = `
      void main() {
        gl_FragColor = vec4(1.0, 0.2, 0.6, 1.0); // pinkish triangle
      }
    `;

    function createShader(gl, type, source) {
      const shader = gl.createShader(type);
      gl.shaderSource(shader, source);
      gl.compileShader(shader);
      if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
        console.error(gl.getShaderInfoLog(shader));
        gl.deleteShader(shader);
        return null;
      }
      return shader;
    }

    function createProgram(gl, vertexSource, fragmentSource) {
      const vShader = createShader(gl, gl.VERTEX_SHADER, vertexSource);
      const fShader = createShader(gl, gl.FRAGMENT_SHADER, fragmentSource);
      const program = gl.createProgram();
      gl.attachShader(program, vShader);
      gl.attachShader(program, fShader);
      gl.linkProgram(program);
      if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
        console.error(gl.getProgramInfoLog(program));
        gl.deleteProgram(program);
        return null;
      }
      return program;
    }

    const program = createProgram(gl, vertexShaderSource, fragmentShaderSource);
    gl.useProgram(program);

    const vertices = new Float32Array([
       0.0,  0.5,
      -0.5, -0.5,
       0.5, -0.5,
    ]);

    const positionBuffer = gl.createBuffer();
    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);
    gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);

    const aPosition = gl.getAttribLocation(program, "a_position");
    gl.enableVertexAttribArray(aPosition);
    gl.vertexAttribPointer(aPosition, 2, gl.FLOAT, false, 0, 0);

    gl.viewport(0, 0, canvas.width, canvas.height);
    gl.clearColor(0.1, 0.1, 0.1, 1.0);
    gl.clear(gl.COLOR_BUFFER_BIT);

    gl.drawArrays(gl.TRIANGLES, 0, 3);
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea> <iframe id="Xdqbk_IFrame" class="iframe_dialog"></iframe>
   </div>
  </div>
 </div>
 <div class="snippet-header" onclick="toggleSnippetAndRefresh('DfgWf','hP9eB')">
  Click to Try it <!--<span onclick="toggleSnippetAndRefresh('DfgWf','hP9eB')">Click
			to Try it</span> --> <!-- <span onclick="openDialog('Xdqbk_Dialog')">Dialog</span> -->
 </div>
 <div class="snippet-body"><textarea id="hP9eB">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Minimal WebGL Triangle&lt;/title&gt;
  &lt;style&gt;
    canvas { border: 1px solid #ccc; }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;canvas id="glcanvas" width="500" height="500"&gt;&lt;/canvas&gt;
  &lt;script&gt;
    const canvas = document.getElementById("glcanvas");
    const gl = canvas.getContext("webgl") || canvas.getContext("experimental-webgl");

    if (!gl) {
      alert("WebGL not supported on this browser.");
      throw new Error("WebGL not supported.");
    }

    const vertexShaderSource = `
      attribute vec2 a_position;
      void main() {
        gl_Position = vec4(a_position, 0.0, 1.0);
      }
    `;

    const fragmentShaderSource = `
      void main() {
        gl_FragColor = vec4(1.0, 0.2, 0.6, 1.0); // pinkish triangle
      }
    `;

    function createShader(gl, type, source) {
      const shader = gl.createShader(type);
      gl.shaderSource(shader, source);
      gl.compileShader(shader);
      if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
        console.error(gl.getShaderInfoLog(shader));
        gl.deleteShader(shader);
        return null;
      }
      return shader;
    }

    function createProgram(gl, vertexSource, fragmentSource) {
      const vShader = createShader(gl, gl.VERTEX_SHADER, vertexSource);
      const fShader = createShader(gl, gl.FRAGMENT_SHADER, fragmentSource);
      const program = gl.createProgram();
      gl.attachShader(program, vShader);
      gl.attachShader(program, fShader);
      gl.linkProgram(program);
      if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
        console.error(gl.getProgramInfoLog(program));
        gl.deleteProgram(program);
        return null;
      }
      return program;
    }

    const program = createProgram(gl, vertexShaderSource, fragmentShaderSource);
    gl.useProgram(program);

    const vertices = new Float32Array([
       0.0,  0.5,
      -0.5, -0.5,
       0.5, -0.5,
    ]);

    const positionBuffer = gl.createBuffer();
    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);
    gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);

    const aPosition = gl.getAttribLocation(program, "a_position");
    gl.enableVertexAttribArray(aPosition);
    gl.vertexAttribPointer(aPosition, 2, gl.FLOAT, false, 0, 0);

    gl.viewport(0, 0, canvas.width, canvas.height);
    gl.clearColor(0.1, 0.1, 0.1, 1.0);
    gl.clear(gl.COLOR_BUFFER_BIT);

    gl.drawArrays(gl.TRIANGLES, 0, 3);
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea> <br> <button onclick="renderIframe(this,'hP9eB','Xdqbk')">Run</button>
  <div id="Xdqbk_FloatingLog" class="floatingLog" aria-live="polite" role="alert"></div> <iframe id="Xdqbk" class="result_iframe" style="display: none;"></iframe>
  <script>
			{
				let editor = CodeMirror.fromTextArea(document
						.getElementById("hP9eB"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    const mode = localStorage.getItem("mode") || "light";  
			    const newTheme = mode === "dark" ? "material" : "default";
			    editor.setOption("theme", newTheme);
			    
				codeMirrorMap.set("hP9eB", editor);

				let editor1 = CodeMirror.fromTextArea(document.getElementById("hP9eB_Textarea"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    editor1.setOption("theme", newTheme);				
				
				codeMirrorMap.set("hP9eB_Textarea", editor1);
			}
		    function openDialog(id) {
		        closeAll();
		        document.getElementById(id).style.display = 'flex';
		        setTimeout(() => {
		        	 codeMirrorMap.get("hP9eB_Textarea").refresh();
		        }, 100); // 100ms 
		      }

		      function closeAll() {
		        document.querySelectorAll('.dialog-backdrop').forEach(el => {
		          el.style.display = 'none';
		        });
		      }			
		</script>
 </div>
</div><h3 id="summary">Summary</h3><p>In this section, you’ve:</p><ul>
 <li>Created a WebGL context</li>
 <li>Defined and compiled shaders</li>
 <li>Created a buffer with vertex data</li>
 <li>Rendered your first triangle to the screen</li>
</ul><p>This foundation is essential for building more advanced 3D scenes. Next, you’ll learn how to draw real 3D shapes using transformations and perspective projection.</p><p>Let’s get rendering!</p><div class = "chapter-navi-section">
<a href="#top" class="nav-button prev">↑</a>
<a href='javascript-canvas-programming.htm#3d-effects-and-webgl-basics' class="nav-button toc-link">Index</a>
<a href="#bottom" class="nav-button next">↓</a>
</div>
<h2 id='drawing-simple-3d-shapes'>12.3 Drawing Simple 3D Shapes</h2><p>In this section, you'll learn how to draw simple 3D shapes using WebGL. While 2D rendering on a canvas can feel immediate, 3D rendering involves more components: vertices, buffers, transformation matrices, and sometimes lighting. We'll walk through drawing a colored rotating cube and touch on the math and techniques used behind the scenes.</p><h3 id="3d-rendering-concepts">3D Rendering Concepts</h3><p>Before jumping into code, here are the foundational elements of 3D rendering in WebGL:</p><ul>
 <li><strong>Vertices</strong>: Points in 3D space that define the shape’s geometry.</li>
 <li><strong>Indices</strong>: Optional—used to reuse vertices when forming triangles.</li>
 <li><strong>Buffers</strong>: Store vertex data and send it to the GPU.</li>
 <li><strong>Shaders</strong>: Programs running on the GPU to transform vertices and color pixels.</li>
 <li><strong>Matrices</strong>: Used to rotate, scale, move, and project objects in 3D space.</li>
 <li><strong>Camera/View</strong>: The perspective through which we see the scene.</li>
</ul><h3 id="step-1-define-cube-geometry">Step 1: Define Cube Geometry</h3><p>Let’s start with a cube. A cube has 8 unique vertices, but to give each face its own color and normal direction, we often define <strong>24 vertices</strong> (4 per face × 6 faces).</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const cubeVertices = new Float32Array([
  // X, Y, Z       R, G, B
  // Front face
  -1, -1,  1,      1, 0, 0,
   1, -1,  1,      1, 0, 0,
   1,  1,  1,      1, 0, 0,
  -1,  1,  1,      1, 0, 0,
  // ... define other 5 faces similarly
]);

const cubeIndices = new Uint16Array([
  0, 1, 2,   0, 2, 3, // front
  // ... other faces
]);</code></pre>
</div><p>Each vertex has 6 values: 3 for position and 3 for color.</p><h3 id="step-2-use-glmatrix-for-transformations">Step 2: Use glMatrix for Transformations</h3><p>WebGL doesn’t include matrix math tools, but libraries like <a href="https://github.com/toji/gl-matrix">glMatrix</a> make it easier:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-html">&lt;script src="https://cdn.jsdelivr.net/npm/gl-matrix@3.4.3/gl-matrix-min.js"&gt;&lt;/script&gt;</code></pre>
</div><p>You’ll need matrices for model, view, and projection transformations:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const modelMatrix = mat4.create();       // object transform
const viewMatrix = mat4.create();        // camera
const projectionMatrix = mat4.create();  // perspective

mat4.lookAt(viewMatrix, [0, 0, 6], [0, 0, 0], [0, 1, 0]);
mat4.perspective(projectionMatrix, Math.PI / 4, canvas.width / canvas.height, 0.1, 100);</code></pre>
</div><p>You combine these matrices in the vertex shader to place objects in the 3D scene.</p><h3 id="step-3-minimal-shader-code">Step 3: Minimal Shader Code</h3><h4 id="vertex-shader">Vertex Shader</h4><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-glsl">attribute vec3 a_position;
attribute vec3 a_color;

uniform mat4 u_model;
uniform mat4 u_view;
uniform mat4 u_projection;

varying vec3 v_color;

void main() {
  gl_Position = u_projection * u_view * u_model * vec4(a_position, 1.0);
  v_color = a_color;
}</code></pre>
</div><h4 id="fragment-shader">Fragment Shader</h4><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-glsl">precision mediump float;
varying vec3 v_color;

void main() {
  gl_FragColor = vec4(v_color, 1.0);
}</code></pre>
</div><h3 id="step-4-rendering-loop-with-rotation">Step 4: Rendering Loop with Rotation</h3><p>Use <code>requestAnimationFrame</code> to animate the cube:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">function render(time) {
  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);

  // Apply rotation
  mat4.rotateY(modelMatrix, modelMatrix, 0.01);
  mat4.rotateX(modelMatrix, modelMatrix, 0.005);

  gl.uniformMatrix4fv(modelLoc, false, modelMatrix);
  gl.uniformMatrix4fv(viewLoc, false, viewMatrix);
  gl.uniformMatrix4fv(projectionLoc, false, projectionMatrix);

  gl.drawElements(gl.TRIANGLES, cubeIndices.length, gl.UNSIGNED_SHORT, 0);
  requestAnimationFrame(render);
}</code></pre>
</div><h3 id="step-5-add-depth-and-enable-3d-settings">Step 5: Add Depth and Enable 3D Settings</h3><p>Don’t forget to enable depth testing so closer faces hide those behind them:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">gl.enable(gl.DEPTH_TEST);
gl.clearColor(0.1, 0.1, 0.1, 1);</code></pre>
</div><div class="snippet-container" id="fCT7o">
 <div id="3DeRB_Dialog" class="dialog-backdrop">
  <div class="dialog">
   <h2>Dialog 1</h2>
   <div class="controls"><button onclick="renderIframe(this,'MSG9I_Textarea','3DeRB_IFrame')">Run</button> <button onclick="closeAll()">Close</button>
   </div>
   <div class="dialog-content"><textarea id="MSG9I_Textarea" class="textarea_dialog" placeholder="Type HTML here...">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;Rotating 3D Cube - WebGL&lt;/title&gt;
  &lt;style&gt;
    canvas { border: 1px solid #ccc; display: block; margin: 20px auto; }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;canvas id="glcanvas" width="500" height="500"&gt;&lt;/canvas&gt;
&lt;script src="https://cdn.jsdelivr.net/npm/gl-matrix@3.4.3/gl-matrix-min.js"&gt;&lt;/script&gt;
&lt;script&gt;
const canvas = document.getElementById("glcanvas");
const gl = canvas.getContext("webgl");
if (!gl) {
  alert("WebGL not supported");
  throw new Error("WebGL not supported");
}

// Set viewport to canvas size
gl.viewport(0, 0, canvas.width, canvas.height);

// Enable depth testing
gl.enable(gl.DEPTH_TEST);
gl.clearColor(0.1, 0.1, 0.1, 1.0);
gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);

// --- Vertex Data (cube) ---
const cubeVertices = new Float32Array([
  // X, Y, Z       R, G, B
  // Front
  -1, -1,  1,     1, 0, 0,
   1, -1,  1,     1, 0, 0,
   1,  1,  1,     1, 0, 0,
  -1,  1,  1,     1, 0, 0,
  // Back
  -1, -1, -1,     0, 1, 0,
   1, -1, -1,     0, 1, 0,
   1,  1, -1,     0, 1, 0,
  -1,  1, -1,     0, 1, 0,
  // Top
  -1,  1, -1,     0, 0, 1,
   1,  1, -1,     0, 0, 1,
   1,  1,  1,     0, 0, 1,
  -1,  1,  1,     0, 0, 1,
  // Bottom
  -1, -1, -1,     1, 1, 0,
   1, -1, -1,     1, 1, 0,
   1, -1,  1,     1, 1, 0,
  -1, -1,  1,     1, 1, 0,
  // Right
   1, -1, -1,     0, 1, 1,
   1,  1, -1,     0, 1, 1,
   1,  1,  1,     0, 1, 1,
   1, -1,  1,     0, 1, 1,
  // Left
  -1, -1, -1,     1, 0, 1,
  -1,  1, -1,     1, 0, 1,
  -1,  1,  1,     1, 0, 1,
  -1, -1,  1,     1, 0, 1,
]);

const cubeIndices = new Uint16Array([
  0, 1, 2, 0, 2, 3,       // front
  4, 5, 6, 4, 6, 7,       // back
  8, 9,10, 8,10,11,       // top
 12,13,14,12,14,15,       // bottom
 16,17,18,16,18,19,       // right
 20,21,22,20,22,23        // left
]);

// --- Shader Setup ---
const vsSource = `
  attribute vec3 a_position;
  attribute vec3 a_color;
  uniform mat4 u_model;
  uniform mat4 u_view;
  uniform mat4 u_projection;
  varying vec3 v_color;
  void main() {
    gl_Position = u_projection * u_view * u_model * vec4(a_position, 1.0);
    v_color = a_color;
  }
`;

const fsSource = `
  precision mediump float;
  varying vec3 v_color;
  void main() {
    gl_FragColor = vec4(v_color, 1.0);
  }
`;

function createShader(type, source) {
  const shader = gl.createShader(type);
  gl.shaderSource(shader, source);
  gl.compileShader(shader);
  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
    console.error(gl.getShaderInfoLog(shader));
    return null;
  }
  return shader;
}

function createProgram(vs, fs) {
  const program = gl.createProgram();
  gl.attachShader(program, vs);
  gl.attachShader(program, fs);
  gl.linkProgram(program);
  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
    console.error(gl.getProgramInfoLog(program));
    return null;
  }
  return program;
}

const vertexShader = createShader(gl.VERTEX_SHADER, vsSource);
const fragmentShader = createShader(gl.FRAGMENT_SHADER, fsSource);
const program = createProgram(vertexShader, fragmentShader);
gl.useProgram(program);

// --- Buffers ---
const vertexBuffer = gl.createBuffer();
gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);
gl.bufferData(gl.ARRAY_BUFFER, cubeVertices, gl.STATIC_DRAW);

const indexBuffer = gl.createBuffer();
gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);
gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, cubeIndices, gl.STATIC_DRAW);

// Attributes
const aPosition = gl.getAttribLocation(program, 'a_position');
gl.vertexAttribPointer(aPosition, 3, gl.FLOAT, false, 6 * 4, 0);
gl.enableVertexAttribArray(aPosition);

const aColor = gl.getAttribLocation(program, 'a_color');
gl.vertexAttribPointer(aColor, 3, gl.FLOAT, false, 6 * 4, 3 * 4);
gl.enableVertexAttribArray(aColor);

// Uniforms
const modelLoc = gl.getUniformLocation(program, 'u_model');
const viewLoc = gl.getUniformLocation(program, 'u_view');
const projectionLoc = gl.getUniformLocation(program, 'u_projection');
const mat4 = glMatrix.mat4;
// Matrices
const modelMatrix = mat4.create();
const viewMatrix = mat4.create();
const projectionMatrix = mat4.create();

mat4.lookAt(viewMatrix, [0, 0, 6], [0, 0, 0], [0, 1, 0]);
mat4.perspective(projectionMatrix, Math.PI / 4, canvas.width / canvas.height, 0.1, 100);

// Animation Loop
function render() {
  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);

  mat4.rotateY(modelMatrix, modelMatrix, 0.01);
  mat4.rotateX(modelMatrix, modelMatrix, 0.005);

  gl.uniformMatrix4fv(modelLoc, false, modelMatrix);
  gl.uniformMatrix4fv(viewLoc, false, viewMatrix);
  gl.uniformMatrix4fv(projectionLoc, false, projectionMatrix);

  gl.drawElements(gl.TRIANGLES, cubeIndices.length, gl.UNSIGNED_SHORT, 0);
  requestAnimationFrame(render);
}

render();
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea> <iframe id="3DeRB_IFrame" class="iframe_dialog"></iframe>
   </div>
  </div>
 </div>
 <div class="snippet-header" onclick="toggleSnippetAndRefresh('fCT7o','MSG9I')">
  Click to Try it <!--<span onclick="toggleSnippetAndRefresh('fCT7o','MSG9I')">Click
			to Try it</span> --> <!-- <span onclick="openDialog('3DeRB_Dialog')">Dialog</span> -->
 </div>
 <div class="snippet-body"><textarea id="MSG9I">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;Rotating 3D Cube - WebGL&lt;/title&gt;
  &lt;style&gt;
    canvas { border: 1px solid #ccc; display: block; margin: 20px auto; }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;canvas id="glcanvas" width="500" height="500"&gt;&lt;/canvas&gt;
&lt;script src="https://cdn.jsdelivr.net/npm/gl-matrix@3.4.3/gl-matrix-min.js"&gt;&lt;/script&gt;
&lt;script&gt;
const canvas = document.getElementById("glcanvas");
const gl = canvas.getContext("webgl");
if (!gl) {
  alert("WebGL not supported");
  throw new Error("WebGL not supported");
}

// Set viewport to canvas size
gl.viewport(0, 0, canvas.width, canvas.height);

// Enable depth testing
gl.enable(gl.DEPTH_TEST);
gl.clearColor(0.1, 0.1, 0.1, 1.0);
gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);

// --- Vertex Data (cube) ---
const cubeVertices = new Float32Array([
  // X, Y, Z       R, G, B
  // Front
  -1, -1,  1,     1, 0, 0,
   1, -1,  1,     1, 0, 0,
   1,  1,  1,     1, 0, 0,
  -1,  1,  1,     1, 0, 0,
  // Back
  -1, -1, -1,     0, 1, 0,
   1, -1, -1,     0, 1, 0,
   1,  1, -1,     0, 1, 0,
  -1,  1, -1,     0, 1, 0,
  // Top
  -1,  1, -1,     0, 0, 1,
   1,  1, -1,     0, 0, 1,
   1,  1,  1,     0, 0, 1,
  -1,  1,  1,     0, 0, 1,
  // Bottom
  -1, -1, -1,     1, 1, 0,
   1, -1, -1,     1, 1, 0,
   1, -1,  1,     1, 1, 0,
  -1, -1,  1,     1, 1, 0,
  // Right
   1, -1, -1,     0, 1, 1,
   1,  1, -1,     0, 1, 1,
   1,  1,  1,     0, 1, 1,
   1, -1,  1,     0, 1, 1,
  // Left
  -1, -1, -1,     1, 0, 1,
  -1,  1, -1,     1, 0, 1,
  -1,  1,  1,     1, 0, 1,
  -1, -1,  1,     1, 0, 1,
]);

const cubeIndices = new Uint16Array([
  0, 1, 2, 0, 2, 3,       // front
  4, 5, 6, 4, 6, 7,       // back
  8, 9,10, 8,10,11,       // top
 12,13,14,12,14,15,       // bottom
 16,17,18,16,18,19,       // right
 20,21,22,20,22,23        // left
]);

// --- Shader Setup ---
const vsSource = `
  attribute vec3 a_position;
  attribute vec3 a_color;
  uniform mat4 u_model;
  uniform mat4 u_view;
  uniform mat4 u_projection;
  varying vec3 v_color;
  void main() {
    gl_Position = u_projection * u_view * u_model * vec4(a_position, 1.0);
    v_color = a_color;
  }
`;

const fsSource = `
  precision mediump float;
  varying vec3 v_color;
  void main() {
    gl_FragColor = vec4(v_color, 1.0);
  }
`;

function createShader(type, source) {
  const shader = gl.createShader(type);
  gl.shaderSource(shader, source);
  gl.compileShader(shader);
  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
    console.error(gl.getShaderInfoLog(shader));
    return null;
  }
  return shader;
}

function createProgram(vs, fs) {
  const program = gl.createProgram();
  gl.attachShader(program, vs);
  gl.attachShader(program, fs);
  gl.linkProgram(program);
  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
    console.error(gl.getProgramInfoLog(program));
    return null;
  }
  return program;
}

const vertexShader = createShader(gl.VERTEX_SHADER, vsSource);
const fragmentShader = createShader(gl.FRAGMENT_SHADER, fsSource);
const program = createProgram(vertexShader, fragmentShader);
gl.useProgram(program);

// --- Buffers ---
const vertexBuffer = gl.createBuffer();
gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);
gl.bufferData(gl.ARRAY_BUFFER, cubeVertices, gl.STATIC_DRAW);

const indexBuffer = gl.createBuffer();
gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);
gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, cubeIndices, gl.STATIC_DRAW);

// Attributes
const aPosition = gl.getAttribLocation(program, 'a_position');
gl.vertexAttribPointer(aPosition, 3, gl.FLOAT, false, 6 * 4, 0);
gl.enableVertexAttribArray(aPosition);

const aColor = gl.getAttribLocation(program, 'a_color');
gl.vertexAttribPointer(aColor, 3, gl.FLOAT, false, 6 * 4, 3 * 4);
gl.enableVertexAttribArray(aColor);

// Uniforms
const modelLoc = gl.getUniformLocation(program, 'u_model');
const viewLoc = gl.getUniformLocation(program, 'u_view');
const projectionLoc = gl.getUniformLocation(program, 'u_projection');
const mat4 = glMatrix.mat4;
// Matrices
const modelMatrix = mat4.create();
const viewMatrix = mat4.create();
const projectionMatrix = mat4.create();

mat4.lookAt(viewMatrix, [0, 0, 6], [0, 0, 0], [0, 1, 0]);
mat4.perspective(projectionMatrix, Math.PI / 4, canvas.width / canvas.height, 0.1, 100);

// Animation Loop
function render() {
  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);

  mat4.rotateY(modelMatrix, modelMatrix, 0.01);
  mat4.rotateX(modelMatrix, modelMatrix, 0.005);

  gl.uniformMatrix4fv(modelLoc, false, modelMatrix);
  gl.uniformMatrix4fv(viewLoc, false, viewMatrix);
  gl.uniformMatrix4fv(projectionLoc, false, projectionMatrix);

  gl.drawElements(gl.TRIANGLES, cubeIndices.length, gl.UNSIGNED_SHORT, 0);
  requestAnimationFrame(render);
}

render();
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea> <br> <button onclick="renderIframe(this,'MSG9I','3DeRB')">Run</button>
  <div id="3DeRB_FloatingLog" class="floatingLog" aria-live="polite" role="alert"></div> <iframe id="3DeRB" class="result_iframe" style="display: none;"></iframe>
  <script>
			{
				let editor = CodeMirror.fromTextArea(document
						.getElementById("MSG9I"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    const mode = localStorage.getItem("mode") || "light";  
			    const newTheme = mode === "dark" ? "material" : "default";
			    editor.setOption("theme", newTheme);
			    
				codeMirrorMap.set("MSG9I", editor);

				let editor1 = CodeMirror.fromTextArea(document.getElementById("MSG9I_Textarea"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    editor1.setOption("theme", newTheme);				
				
				codeMirrorMap.set("MSG9I_Textarea", editor1);
			}
		    function openDialog(id) {
		        closeAll();
		        document.getElementById(id).style.display = 'flex';
		        setTimeout(() => {
		        	 codeMirrorMap.get("MSG9I_Textarea").refresh();
		        }, 100); // 100ms 
		      }

		      function closeAll() {
		        document.querySelectorAll('.dialog-backdrop').forEach(el => {
		          el.style.display = 'none';
		        });
		      }			
		</script>
 </div>
</div><h3 id="visual-output">Visual Output</h3><p>The cube should spin in place, each face with a different color. Try modifying:</p><ul>
 <li>Rotation speed</li>
 <li>Face colors</li>
 <li>Shape geometry (try a pyramid!)</li>
 <li>Camera position</li>
</ul><h3 id="summary">Summary</h3><p>You’ve now:</p><p>✅ Defined a 3D shape using vertices and indices ✅ Set up view and projection matrices ✅ Written vertex and fragment shaders ✅ Rendered a rotating 3D object on the screen</p><h3 id="challenge-try-drawing-a-pyramid-or-sphere">Challenge: Try Drawing a Pyramid or Sphere</h3><ul>
 <li>For a <strong>pyramid</strong>, use 5 faces: a square base and 4 triangle sides.</li>
 <li>For a <strong>sphere</strong>, you'll need to generate lat/lon-based vertices—more complex, but visually satisfying.</li>
</ul><p>In the next section, we’ll build a full rotating cube demo with UI controls to toggle rotation, color, and projection type.</p><p>Let’s continue building your 3D toolkit!</p><div class = "chapter-navi-section">
<a href="#top" class="nav-button prev">↑</a>
<a href='javascript-canvas-programming.htm#3d-effects-and-webgl-basics' class="nav-button toc-link">Index</a>
<a href="#bottom" class="nav-button next">↓</a>
</div>
<h2 id='practical-example-rotating-cube-with-webgl'>12.4 Practical Example: Rotating Cube with WebGL</h2><p>In this final section of the chapter, we’ll walk through building a complete WebGL project: a colorful 3D cube that rotates on the canvas. We’ll animate it over time, use shaders to color it, and add basic interactivity with mouse or keyboard controls.</p><p>By the end, you'll understand how to build a simple WebGL application and how all the components—geometry, buffers, shaders, and animation—work together.</p><h3 id="objective">Objective</h3><p>Create a rotating 3D cube using WebGL that:</p><ul>
 <li>Spins continuously around one or more axes.</li>
 <li>Uses shaders for solid coloring or basic lighting.</li>
 <li>Accepts user input (e.g., arrow keys) to control rotation.</li>
 <li>Provides a solid foundation for expanding into textures or lighting effects.</li>
</ul><h3 id="step-1-setup-the-canvas-and-webgl-context">Step 1: Setup the Canvas and WebGL Context</h3><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-html">&lt;canvas id="glcanvas" width="500" height="500"&gt;&lt;/canvas&gt;
&lt;script src="https://cdn.jsdelivr.net/npm/gl-matrix@3.4.3/gl-matrix-min.js"&gt;&lt;/script&gt;</code></pre>
</div><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const canvas = document.getElementById('glcanvas');
const gl = canvas.getContext('webgl');

if (!gl) {
  alert('WebGL not supported in this browser.');
}</code></pre>
</div><h3 id="step-2-define-shaders">Step 2: Define Shaders</h3><p><strong>Vertex Shader:</strong></p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-glsl">attribute vec3 a_position;
attribute vec3 a_color;

uniform mat4 u_model;
uniform mat4 u_view;
uniform mat4 u_projection;

varying vec3 v_color;

void main() {
  gl_Position = u_projection * u_view * u_model * vec4(a_position, 1.0);
  v_color = a_color;
}</code></pre>
</div><p><strong>Fragment Shader:</strong></p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-glsl">precision mediump float;
varying vec3 v_color;

void main() {
  gl_FragColor = vec4(v_color, 1.0);
}</code></pre>
</div><h3 id="step-3-create-cube-geometry-and-colors">Step 3: Create Cube Geometry and Colors</h3><p>Define cube vertices and their associated colors:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const positions = [
  // Front face
  -1, -1,  1,   1, 0, 0,
   1, -1,  1,   1, 0, 0,
   1,  1,  1,   1, 0, 0,
  -1,  1,  1,   1, 0, 0,
  // Back face
  -1, -1, -1,   0, 1, 0,
   1, -1, -1,   0, 1, 0,
   1,  1, -1,   0, 1, 0,
  -1,  1, -1,   0, 1, 0,
];

const indices = [
  0, 1, 2,  0, 2, 3,    // front
  4, 5, 6,  4, 6, 7,    // back
  0, 3, 7,  0, 7, 4,    // left
  1, 5, 6,  1, 6, 2,    // right
  3, 2, 6,  3, 6, 7,    // top
  0, 1, 5,  0, 5, 4     // bottom
];</code></pre>
</div><h3 id="step-4-animate-the-cube">Step 4: Animate the Cube</h3><p>Use <code>requestAnimationFrame</code> to update the cube’s rotation based on time and user input:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">let rotationX = 0;
let rotationY = 0;
let rotateSpeedX = 0.01;
let rotateSpeedY = 0.01;

function drawScene(time) {
  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);

  const modelMatrix = mat4.create();
  mat4.rotateX(modelMatrix, modelMatrix, rotationX);
  mat4.rotateY(modelMatrix, modelMatrix, rotationY);

  gl.uniformMatrix4fv(u_modelLoc, false, modelMatrix);
  gl.uniformMatrix4fv(u_viewLoc, false, viewMatrix);
  gl.uniformMatrix4fv(u_projectionLoc, false, projectionMatrix);

  gl.drawElements(gl.TRIANGLES, indices.length, gl.UNSIGNED_SHORT, 0);

  rotationX += rotateSpeedX;
  rotationY += rotateSpeedY;

  requestAnimationFrame(drawScene);
}</code></pre>
</div><h3 id="step-5-add-keyboard-controls">Step 5: Add Keyboard Controls</h3><p>Let users control the speed of rotation with arrow keys:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">window.addEventListener('keydown', (e) =&gt; {
  if (e.key === 'ArrowLeft') rotateSpeedY -= 0.01;
  if (e.key === 'ArrowRight') rotateSpeedY += 0.01;
  if (e.key === 'ArrowUp') rotateSpeedX -= 0.01;
  if (e.key === 'ArrowDown') rotateSpeedX += 0.01;
});</code></pre>
</div><h3 id="step-6-run-it">Step 6: Run It!</h3><p>Make sure:</p><ul>
 <li>You call <code>gl.enable(gl.DEPTH_TEST);</code></li>
 <li>Set clear color: <code>gl.clearColor(0, 0, 0, 1);</code></li>
 <li>Bind and enable position and color buffers.</li>
</ul><p>Start the animation with:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">requestAnimationFrame(drawScene);</code></pre>
</div><div class="snippet-container" id="4l1uM">
 <div id="H189n_Dialog" class="dialog-backdrop">
  <div class="dialog">
   <h2>Dialog 1</h2>
   <div class="controls"><button onclick="renderIframe(this,'VlZW6_Textarea','H189n_IFrame')">Run</button> <button onclick="closeAll()">Close</button>
   </div>
   <div class="dialog-content"><textarea id="VlZW6_Textarea" class="textarea_dialog" placeholder="Type HTML here...">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;Rotating WebGL Cube with Controls&lt;/title&gt;
  &lt;style&gt;
    canvas { border: 1px solid #ccc; display: block; margin: 20px auto; }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;canvas id="glcanvas" width="500" height="500"&gt;&lt;/canvas&gt;
  &lt;script src="https://cdn.jsdelivr.net/npm/gl-matrix@3.4.3/gl-matrix-min.js"&gt;&lt;/script&gt;
  &lt;script&gt;
    const canvas = document.getElementById('glcanvas');
    const gl = canvas.getContext('webgl');
    if (!gl) {
      alert('WebGL not supported in this browser.');
      throw new Error('WebGL not supported.');
    }

    // Enable depth
    gl.enable(gl.DEPTH_TEST);
    gl.clearColor(0, 0, 0, 1);

    // Vertex shader
    const vsSource = `
      attribute vec3 a_position;
      attribute vec3 a_color;
      uniform mat4 u_model;
      uniform mat4 u_view;
      uniform mat4 u_projection;
      varying vec3 v_color;
      void main() {
        gl_Position = u_projection * u_view * u_model * vec4(a_position, 1.0);
        v_color = a_color;
      }
    `;

    // Fragment shader
    const fsSource = `
      precision mediump float;
      varying vec3 v_color;
      void main() {
        gl_FragColor = vec4(v_color, 1.0);
      }
    `;

    function createShader(gl, type, source) {
      const shader = gl.createShader(type);
      gl.shaderSource(shader, source);
      gl.compileShader(shader);
      if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
        console.error(gl.getShaderInfoLog(shader));
        return null;
      }
      return shader;
    }

    function createProgram(gl, vs, fs) {
      const program = gl.createProgram();
      gl.attachShader(program, vs);
      gl.attachShader(program, fs);
      gl.linkProgram(program);
      if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
        console.error(gl.getProgramInfoLog(program));
        return null;
      }
      return program;
    }

    const vertexShader = createShader(gl, gl.VERTEX_SHADER, vsSource);
    const fragmentShader = createShader(gl, gl.FRAGMENT_SHADER, fsSource);
    const program = createProgram(gl, vertexShader, fragmentShader);
    gl.useProgram(program);

    // Geometry and colors
    const positions = new Float32Array([
      // Front
      -1, -1,  1,   1, 0, 0,
       1, -1,  1,   1, 0, 0,
       1,  1,  1,   1, 0, 0,
      -1,  1,  1,   1, 0, 0,
      // Back
      -1, -1, -1,   0, 1, 0,
       1, -1, -1,   0, 1, 0,
       1,  1, -1,   0, 1, 0,
      -1,  1, -1,   0, 1, 0,
    ]);

    const indices = new Uint16Array([
      0, 1, 2, 0, 2, 3,     // front
      4, 5, 6, 4, 6, 7,     // back
      0, 3, 7, 0, 7, 4,     // left
      1, 5, 6, 1, 6, 2,     // right
      3, 2, 6, 3, 6, 7,     // top
      0, 1, 5, 0, 5, 4      // bottom
    ]);

    // Create and bind buffers
    const vbo = gl.createBuffer();
    gl.bindBuffer(gl.ARRAY_BUFFER, vbo);
    gl.bufferData(gl.ARRAY_BUFFER, positions, gl.STATIC_DRAW);

    const ibo = gl.createBuffer();
    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibo);
    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, indices, gl.STATIC_DRAW);

    // Attributes
    const aPos = gl.getAttribLocation(program, 'a_position');
    const aCol = gl.getAttribLocation(program, 'a_color');
    gl.enableVertexAttribArray(aPos);
    gl.enableVertexAttribArray(aCol);
    gl.vertexAttribPointer(aPos, 3, gl.FLOAT, false, 6 * 4, 0);
    gl.vertexAttribPointer(aCol, 3, gl.FLOAT, false, 6 * 4, 3 * 4);

    // Uniforms
    const u_modelLoc = gl.getUniformLocation(program, 'u_model');
    const u_viewLoc = gl.getUniformLocation(program, 'u_view');
    const u_projectionLoc = gl.getUniformLocation(program, 'u_projection');
    
    const mat4 = glMatrix.mat4;
    const modelMatrix = mat4.create();
    const viewMatrix = mat4.create();
    const projectionMatrix = mat4.create();

    mat4.lookAt(viewMatrix, [0, 0, 6], [0, 0, 0], [0, 1, 0]);
    mat4.perspective(projectionMatrix, Math.PI / 4, canvas.width / canvas.height, 0.1, 100);

    let rotationX = 0;
    let rotationY = 0;
    let rotateSpeedX = 0.01;
    let rotateSpeedY = 0.01;

    function drawScene() {
      gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);

      mat4.identity(modelMatrix);
      mat4.rotateX(modelMatrix, modelMatrix, rotationX);
      mat4.rotateY(modelMatrix, modelMatrix, rotationY);

      gl.uniformMatrix4fv(u_modelLoc, false, modelMatrix);
      gl.uniformMatrix4fv(u_viewLoc, false, viewMatrix);
      gl.uniformMatrix4fv(u_projectionLoc, false, projectionMatrix);

      gl.drawElements(gl.TRIANGLES, indices.length, gl.UNSIGNED_SHORT, 0);

      rotationX += rotateSpeedX;
      rotationY += rotateSpeedY;

      requestAnimationFrame(drawScene);
    }

    window.addEventListener('keydown', (e) =&gt; {
      if (e.key === 'ArrowLeft') rotateSpeedY -= 0.01;
      if (e.key === 'ArrowRight') rotateSpeedY += 0.01;
      if (e.key === 'ArrowUp') rotateSpeedX -= 0.01;
      if (e.key === 'ArrowDown') rotateSpeedX += 0.01;
    });

    requestAnimationFrame(drawScene);
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea> <iframe id="H189n_IFrame" class="iframe_dialog"></iframe>
   </div>
  </div>
 </div>
 <div class="snippet-header" onclick="toggleSnippetAndRefresh('4l1uM','VlZW6')">
  Click to Try it <!--<span onclick="toggleSnippetAndRefresh('4l1uM','VlZW6')">Click
			to Try it</span> --> <!-- <span onclick="openDialog('H189n_Dialog')">Dialog</span> -->
 </div>
 <div class="snippet-body"><textarea id="VlZW6">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;Rotating WebGL Cube with Controls&lt;/title&gt;
  &lt;style&gt;
    canvas { border: 1px solid #ccc; display: block; margin: 20px auto; }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;canvas id="glcanvas" width="500" height="500"&gt;&lt;/canvas&gt;
  &lt;script src="https://cdn.jsdelivr.net/npm/gl-matrix@3.4.3/gl-matrix-min.js"&gt;&lt;/script&gt;
  &lt;script&gt;
    const canvas = document.getElementById('glcanvas');
    const gl = canvas.getContext('webgl');
    if (!gl) {
      alert('WebGL not supported in this browser.');
      throw new Error('WebGL not supported.');
    }

    // Enable depth
    gl.enable(gl.DEPTH_TEST);
    gl.clearColor(0, 0, 0, 1);

    // Vertex shader
    const vsSource = `
      attribute vec3 a_position;
      attribute vec3 a_color;
      uniform mat4 u_model;
      uniform mat4 u_view;
      uniform mat4 u_projection;
      varying vec3 v_color;
      void main() {
        gl_Position = u_projection * u_view * u_model * vec4(a_position, 1.0);
        v_color = a_color;
      }
    `;

    // Fragment shader
    const fsSource = `
      precision mediump float;
      varying vec3 v_color;
      void main() {
        gl_FragColor = vec4(v_color, 1.0);
      }
    `;

    function createShader(gl, type, source) {
      const shader = gl.createShader(type);
      gl.shaderSource(shader, source);
      gl.compileShader(shader);
      if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
        console.error(gl.getShaderInfoLog(shader));
        return null;
      }
      return shader;
    }

    function createProgram(gl, vs, fs) {
      const program = gl.createProgram();
      gl.attachShader(program, vs);
      gl.attachShader(program, fs);
      gl.linkProgram(program);
      if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
        console.error(gl.getProgramInfoLog(program));
        return null;
      }
      return program;
    }

    const vertexShader = createShader(gl, gl.VERTEX_SHADER, vsSource);
    const fragmentShader = createShader(gl, gl.FRAGMENT_SHADER, fsSource);
    const program = createProgram(gl, vertexShader, fragmentShader);
    gl.useProgram(program);

    // Geometry and colors
    const positions = new Float32Array([
      // Front
      -1, -1,  1,   1, 0, 0,
       1, -1,  1,   1, 0, 0,
       1,  1,  1,   1, 0, 0,
      -1,  1,  1,   1, 0, 0,
      // Back
      -1, -1, -1,   0, 1, 0,
       1, -1, -1,   0, 1, 0,
       1,  1, -1,   0, 1, 0,
      -1,  1, -1,   0, 1, 0,
    ]);

    const indices = new Uint16Array([
      0, 1, 2, 0, 2, 3,     // front
      4, 5, 6, 4, 6, 7,     // back
      0, 3, 7, 0, 7, 4,     // left
      1, 5, 6, 1, 6, 2,     // right
      3, 2, 6, 3, 6, 7,     // top
      0, 1, 5, 0, 5, 4      // bottom
    ]);

    // Create and bind buffers
    const vbo = gl.createBuffer();
    gl.bindBuffer(gl.ARRAY_BUFFER, vbo);
    gl.bufferData(gl.ARRAY_BUFFER, positions, gl.STATIC_DRAW);

    const ibo = gl.createBuffer();
    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibo);
    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, indices, gl.STATIC_DRAW);

    // Attributes
    const aPos = gl.getAttribLocation(program, 'a_position');
    const aCol = gl.getAttribLocation(program, 'a_color');
    gl.enableVertexAttribArray(aPos);
    gl.enableVertexAttribArray(aCol);
    gl.vertexAttribPointer(aPos, 3, gl.FLOAT, false, 6 * 4, 0);
    gl.vertexAttribPointer(aCol, 3, gl.FLOAT, false, 6 * 4, 3 * 4);

    // Uniforms
    const u_modelLoc = gl.getUniformLocation(program, 'u_model');
    const u_viewLoc = gl.getUniformLocation(program, 'u_view');
    const u_projectionLoc = gl.getUniformLocation(program, 'u_projection');
    
    const mat4 = glMatrix.mat4;
    const modelMatrix = mat4.create();
    const viewMatrix = mat4.create();
    const projectionMatrix = mat4.create();

    mat4.lookAt(viewMatrix, [0, 0, 6], [0, 0, 0], [0, 1, 0]);
    mat4.perspective(projectionMatrix, Math.PI / 4, canvas.width / canvas.height, 0.1, 100);

    let rotationX = 0;
    let rotationY = 0;
    let rotateSpeedX = 0.01;
    let rotateSpeedY = 0.01;

    function drawScene() {
      gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);

      mat4.identity(modelMatrix);
      mat4.rotateX(modelMatrix, modelMatrix, rotationX);
      mat4.rotateY(modelMatrix, modelMatrix, rotationY);

      gl.uniformMatrix4fv(u_modelLoc, false, modelMatrix);
      gl.uniformMatrix4fv(u_viewLoc, false, viewMatrix);
      gl.uniformMatrix4fv(u_projectionLoc, false, projectionMatrix);

      gl.drawElements(gl.TRIANGLES, indices.length, gl.UNSIGNED_SHORT, 0);

      rotationX += rotateSpeedX;
      rotationY += rotateSpeedY;

      requestAnimationFrame(drawScene);
    }

    window.addEventListener('keydown', (e) =&gt; {
      if (e.key === 'ArrowLeft') rotateSpeedY -= 0.01;
      if (e.key === 'ArrowRight') rotateSpeedY += 0.01;
      if (e.key === 'ArrowUp') rotateSpeedX -= 0.01;
      if (e.key === 'ArrowDown') rotateSpeedX += 0.01;
    });

    requestAnimationFrame(drawScene);
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea> <br> <button onclick="renderIframe(this,'VlZW6','H189n')">Run</button>
  <div id="H189n_FloatingLog" class="floatingLog" aria-live="polite" role="alert"></div> <iframe id="H189n" class="result_iframe" style="display: none;"></iframe>
  <script>
			{
				let editor = CodeMirror.fromTextArea(document
						.getElementById("VlZW6"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    const mode = localStorage.getItem("mode") || "light";  
			    const newTheme = mode === "dark" ? "material" : "default";
			    editor.setOption("theme", newTheme);
			    
				codeMirrorMap.set("VlZW6", editor);

				let editor1 = CodeMirror.fromTextArea(document.getElementById("VlZW6_Textarea"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    editor1.setOption("theme", newTheme);				
				
				codeMirrorMap.set("VlZW6_Textarea", editor1);
			}
		    function openDialog(id) {
		        closeAll();
		        document.getElementById(id).style.display = 'flex';
		        setTimeout(() => {
		        	 codeMirrorMap.get("VlZW6_Textarea").refresh();
		        }, 100); // 100ms 
		      }

		      function closeAll() {
		        document.querySelectorAll('.dialog-backdrop').forEach(el => {
		          el.style.display = 'none';
		        });
		      }			
		</script>
 </div>
</div><h3 id="extensions-and-ideas">Extensions and Ideas</h3><p>Once your cube is working, try extending it:</p><ul>
 <li><strong>Textures</strong> – Use <code>gl.TEXTURE_2D</code> to wrap an image around the cube.</li>
 <li><strong>Lighting</strong> – Add basic directional lighting with normals and a light vector.</li>
 <li><strong>Mouse interaction</strong> – Let users click and drag to rotate the cube.</li>
 <li><strong>UI controls</strong> – Use sliders or checkboxes to change rotation speed, toggle axes, or swap colors.</li>
</ul><h3 id="summary">Summary</h3><p>You've now built a complete 3D rotating cube in WebGL:</p><ul>
 <li>Defined shaders and a rendering pipeline</li>
 <li>Created buffers and geometry</li>
 <li>Added animation and interactivity</li>
 <li>Prepared the foundation for more advanced 3D scenes</li>
</ul><p>In future chapters, you’ll learn how to add textures, advanced lighting, and interactable 3D scenes. Keep experimenting!</p><div class = "chapter-navi-section">
<a href="javascript-canvas-programming-working-with-pixel-data-and-filters.htm" class="nav-button prev">←</a>
<a href='javascript-canvas-programming.htm#3d-effects-and-webgl-basics' class="nav-button toc-link">Index</a>
<a href="javascript-canvas-programming-performance-optimization-techniques.htm" class="nav-button next">→</a>
</div>
<section class="download-section">
  <div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 16px;color: #333;top: 10px;">JavaScript Canvas Programming</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 80px;height: 80px;top: 70px;" src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAH0UlEQVR4Xu2da2wVRRiGp0BbblZJlBCEJo3aoiRgjLWGWhQvpUV6AQW0oQVig0AqCuVOBGwjRDEKisFrVNLECLbxAiZWNESIFP2BAoUWChZpjcHoD/9ItHTd2bPfnLns2T1nd2fPnLpv8iRmdubbbx63e3YPSYtQ6qRfR+PAY2F8DC+YJ4wPKUCiWJ67yewwrlOBTKEdex/UtLZKg079v2Fcp5JZEcZVQtEBJRQtIcOReP91C64VJkZ4WV4JY5EcJIryCq6ZkslA4mZ8p/OrOZrWVesKvJavJwnsQlr4k0khRURjpOROJJ5ICikkOh9JyHxknuBw2ymt5/IVX2k/9xu/Cc/gmvx5vIL3Tp2jGkmIVNEYqO8XfH0/GBCiey7/rWVmZgrCEiUzc6hRS6zvnaSKLmvXCPM6NG17T2I8cjq6XkWUEP3hL/+ShhadFSUC1W/u02rebhbGgcc6xA2qAt5j0kU3XYyInnNGlJdz1z3CjzVwx+z5wvxKRa/sJpVE89Jgri1pacI6fpMqoIzoVT/bS544caLW3d2tdXR0aDk5OcJxeu3ic+JGk40yomlRuVOLGYmxQs8pXFSn9FWtpGiYg7FLf38/MzcUHY2l6PcuXSWCtpz4nTRRXFzMuxWSnZ1N5m+7cIXUefSMuFm/mXmiTxtbOk9Lz7pOu6FwujbzZJ8wB1BC9Du9/UTQ0wd+IE0cOnSI9ypk9+7dZP6GY92kzpIucbN+csviDbQswtiSucJcjBqie6JX9DNfHidNtLa28l6F7Ny5k8zfeOwiqSPzA3HCU42CYBor2UqIfv9SHxHU0P4naSI/P5/3KiQrK4vMf4G611dYCPKDmxbWM1IXbizU9v+6XFv/VikzPuaBSmadEqLtPgzxB16s9PX1MXPpGrwgP8ira2DO9/jKAkMy8PzeWczxGx+uImuVFI3f+GAexir8E8eM9dtsRadnjWLmZ4y6Xphjxy2165j1Tzbey0gGNu8pY+bBla2M6LrzUUn8VY1J098AW1patKamJstj9NoFnbQk9n8IT9mpfkEqT+7STcyaqlXslcyzrXk2Mx9f2cqIxhuiZVnJtmLQ4MHCOloSP3/c7XnCGC/WTnLtliJBrBWbPmCv7B1Hzqojuvy0KHvKgmWCGKCi4VVhflSSeCU/d+ELAv6OhD7GC8bwt4ua9VMEoXZs/Th6ZT/RsEMd0Zgqm++iV+iPfvUHTwrjAP2SAucBaMlENnW84I0DjGT+gy9RyZjPLtWR9UsaV6slGlPeLkp0Aq9JRDIvmz4//wgX7+2Chxa9tHGleqKBZV2iUJ5a7sUE6gO8WDvw7YZ/GXH64LMjZUTT4H8UqO6MEOt7DKgN8CKdmFLLPi3EeoSLl5QU7QTUBXiJTkxbUc2s519G3DDgRENNgJfoRNHSucx6r1cyMIBE2z/CxcN9y6uY9V7uyTwDRjTUAniJTvCS3T5dxGIAiPZ+JfO3CzfPyU6kvGioAfASneA/+GRIxqS0aFgP8BKd4B/h/L5d0KSsaFgL8BKduH9lDbPezw8+K1JSNKwDeIlO8FeyX49wdqScaFgD8BKd4O/JfryMxENKiYb5AC/RCf4RLogrGUgR0d4f4TD0etn3ZJ6UEA3zAF5gvCx6tshYv7hxqiBCNoqL9udKxrT0rhU2HyRKi4bjAC8vXpp71wkbDxplRcMxgJcXL8m+kgElRcP4QEUJ0ctffldobKBRt3VN8kVjYHygQu81qaL/T4SiAyIUHRAyRQ9C0cIh1mBHnsMXDbHGU0qRWDDEGuzKdTYhsxD/C0hCIoAfnc2MuQQTinYA/KBQtFzAD/IoehYS70Uh1sxGHsMXDLHGc0YgsWgIC3YUaMjJ4Ze1YuhxZnZ8KUfmWp9/CayMXgOL0WCav80HKhr3Th1TNkaDI4YNiSX6D3Z6XJElGvciiB45fIjyokuQ2eC+rfmk8a93FdKNz2NWxBdZoucic/1BvUeoi3uHcRTZk3I5iiyukPKiMXTjo5gV8UWWaNyLsb5M75HuGcZ12pgVioT8+Y4YTWPcRJZoHFIjRs9K/vkRp6Y9YyPaMzY9KxejsfQhg+ya9kRQovEeqGNKJQ+ZjW2unZDyorfoe6COTUAK5RVkNtbV/BBpuGbGeLrhLGZF/JH5VytwT0aNmtLxpPZ5fQ8wjiJ7UyakMfrKyMzw5UdQpmgco0Zmuu0tT5lYiqbHmdmJJRDRGAm9+x6joQw5V0VSROO9UMeUidHQpJuvJY3+c6ScbhS/zLiNbNHkRQv3DPUn63uBcXZ68rIGgYiPoiJeXz2ZbhQ/lbiNbNG5yKzzWv0kUh/vBcZ11jIrkpReZDZE/+jdlnMN3ehgZkVikS0a92bUuVXvmd4DjKPIHpMe0lCMJjFeIls0juw9+BLZTYaizRiNjBs9lDR49bsKusF2dnrCCUL0KWTW6tN7h3OMGz1MGdHTkdnIJy8WkAZ795fQDdYzKxJPEKJxj0at3s9LyDk+3V5AnyOp3023IrORv76ZSRrMyx5JN5jGrEg8QYjGPRq1cvXe4Rx4TzCOIntNWkgj0ByGHmdmu0sQonGC2IvrRJs7Wvk9QI8zs92FfPF/fM+0H7W2WUcxPzVNOw7jyG/R8vbiOt+iSAMvcePHzPFd3LjbxNporHE3wb3iWlgune3m+GFuPKH8B7uIGgMbLOGGAAAAAElFTkSuQmCC'/>
  </div>
  <div class="download-info">
    <h2 id='bottom'>Download This Ebook</h2>
    <p class="format-label">Available formats:</p>
    <div class="download-buttons">
      <a href="javascript-canvas-programming.pdf" class="download-button">📄 PDF</a>
      <a href="javascript-canvas-programming.epub" class="download-button">📘 EPUB</a>
    </div>
  </div>
</section><div class='related-books'>
<h2>Javascript Web Front Books</h2>
<div class='related-book-list'>
<a href="javascript-canvas-programming.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 16px;color: #333;top: 10px;">JavaScript Canvas Programming</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 80px;height: 80px;top: 70px;" src='data:image/png;base64,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'/>
  </div>
</a>


<a href="javascript-dom-programming.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 16px;color: #333;top: 20px;">JavaScript DOM Programming</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 60px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAADUklEQVR4Xu2dv47TQBDGI0RDczY9rwMlrwEFBweC/t4EXRwaXuI6WiSaOLkCIZ6BCqTgPRFr8zkbnPF4Zuydn/RVuzsz33eSlX/2LRYRm1Xxe1MVOzY19eL6/6NzfqCw/ilEvXc2Mwh7pNiuyks8O1T1snyNfVLgWQ5hjxbcyCHskaJelVd4drCW5Vvsk6JzlkHYo6XXph5Q6hwEfUZASDhLqUOZ+Ri96vTa1ANKHQ+aAKWOB02AUseDJkCp40EToNTxoAlQ6njQBCh1PGgClDrZBs0l7JEi23eGXMIeKTbVxSs8O1Trm4tL7JMCz3IIe7Rsq+IXbh6iUA97nALPDxXWP4W29w5xMVwbG67rOBVR76LNAA9aiKyCbq49L0QbRmgGHXuul8VLXB+F3IPGtdGIm0o21gpay+89Gs01gtbwecDPz08eSQ8hHTT6C55xjwh3q+IZDhO0u148wL0cSAR93cyOfoKCV9wryu528RCHmpuCR/StRvOy7w8OOHUFT+jTDHdV+RwHnpqCB/SVFRLXaGfhQYvhQQvhQQvhQQvhQf8DXyZNXehPnW+fisc45FwUvKFfNXC4uQn9qvD1Y1maG4qB2NP3xiOui1NX5Zv9QNuq+IDrU6Xx8n7vq16WV7guTvxKYH1TvsP1qWLOl7mBmDDny9xATJjzZW4gJsz5MjcQE+Z8mRuICXO+zA3EhDlf5gZiwpwvcwMxYc6XuYGYMOfL3EBMmPNlbiAmzPkyNxAT5nyZG4gJc778Y1Ih/IN/QeKh5ij0q8acv5z9YenL2T045NSF/rIhfiWQ9Q9oxsaDFsKDFsKDFsKDFsKDjqj9ZqFx8dvfRubWb+gcn+Yv/hSHuh9swrcoh9nRT5DaLcpf/KZ7GXAIXB8D6aADGj5btJprBB3Q8nvQGNfGRCvogLjntT+8SubhVVohBzSDDoh6F20GeNBCzCZo7Qeh4vmhwvqnEPWOmzmEPVJk9Vhj3Mgh7JHi4LLApTMuL52zDMIeLb029YBSh+v6G85S6lBmPkavOr029YBSx4MmQKnjQROg1PGgCVDqeNAEKHU8aAKUOh40AUodD5oApU62QXMJe6TI9p0hl7BHitz+XTX3j2DO+gHKkfODhPVPsRnZ+1+tJg8Iaaje6wAAAABJRU5ErkJggg=="/>
  </div>
</a>


<a href="javascript-data-visualization.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 16px;color: #333;top: 20px;">JavaScript Data Visualization</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 60px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAC0UlEQVR4Xu3dMWsUURSG4fwr2U6zJI0WKZSAaa0EG7tU2giWimLETrQQQRCxUDsbK3+IYOWCiFU06IQz356ZuffOvXdm4A28ze585OxDsLDZnR3zs1pf+rHavXhKWdpY2/Mf50HKEMgV+4cs/1z8/v6OMiTYm9Zfsz5M42r9VQNdLqArBXSlgK4U0JUCulKLgrb39aW7ObQY6PXl/S3Qrs6e1f3ULQZaMYfS/dTZ2xYDvff6g9tS7ge6YEBXCuhKAV0poCsFdKWArtQk0G9e3Tt9dnLc2+dPD1sboCOzv2Ool8/vujsFBtpJMYfydgoMtFMqWOpuLtnbgC6YvQ3ogtnbgC6YvQ3ogtnbgC6YvQ3ogtnbgC6YvQ3ogtnboqCvHR20xn11/UKF6gNL3Y1JP0dXV68fbG01+3wUtP6yvp4+OXZ3CtUHlrpL7ew/tvRz9KV7zT4LtGmW0O+/fnRr3l86tH4u/Xwhv88+C7QJ6MhdakBH7lIDOnKXGtCRu9SAjtylBnTkLjWgI3e67evnt7fnG6BH7EJqdkCP2IXU7IAesft169DN2wE9YqfAQDt35NgpMNDOHTl2Cgy0c0eOnQID7dxhXwvJ2ykw0M4d9rWQvJ0CA+3cYV8LydspMNDOHfa1C/cfuQ3tFBho5w77mgID/f99oCeGDsnbKXBp6JDUR7PPAm12QO8CvVXzfhe0QoWC6fOhOwUOhX7w4rGbt+vKPgu02QE9YqfAi4Meai7QITU7oEfsQmp2s4S+cfumW/P+XKDvXFm7ebtZQusBeshcoL8c7rt5O6BH7BQYaOeOHDsFBtq5I8dOgYF27sixU2CgnTty7BQYaOeOHDsFBtq5I8dOgRcHPVQXdEhT7Wb536RDAQ30Vs1uNtAUF9CVArpSQFcK6EoBXSmgK9WG5qtQi2RNV803KsuLlDn7RcpgF6qF3Pz8fWOjD1JyrS9g/wOlHj3Oru4PcQAAAABJRU5ErkJggg=="/>
  </div>
</a>


<a href="jquery-in-depth.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 18px;color: #333;top: 20px;">jQuery In-Depth</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 65px;" src='data:image/png;base64,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'/>
  </div>
</a>



<a href='javascript.htm'><div class='book-cover' style='background-color: #f9f6f1;color: #111111;border: 1px solid #ccc;display: flex;justify-content: center;align-items: center;text-align: center;'>More Javascript Books</div></a>
</div>
</div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
  
  <script>
    function copyCode(button) {
      const code = button.nextElementSibling.innerText;
      navigator.clipboard.writeText(code).then(() => {
        button.textContent = 'Copied!';
        setTimeout(() => { button.textContent = 'Copy'; }, 1500);
      });
    }
  </script>  
<div id="floatingLog" aria-live="polite" role="alert"></div>
<footer class="page-footer">
    <nav>
      <a href="https://readbytes.github.io">Home</a> | 
      Email:<script language="JavaScript" type="text/javascript">
var part1 = 'yinpeng';var part6 = '263';var part2 = Math.pow(2,6);var part3 = String.fromCharCode(part2);var part4 = 'hotmail dot com';var part5 = part1 + String.fromCharCode(part2) + part4;document.write(part1 + part6 + part3 + part4);
</script>
    </nav>
  <p>© 2025 — All rights reserved.</p>    
  </footer>

</body>
</html>