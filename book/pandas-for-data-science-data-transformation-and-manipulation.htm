<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Pandas for Data Science Data Transformation and Manipulation</title>
<link rel='shortcut icon' href='https://readbytes.github.io/images/favicon.ico'>
<link href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" rel="stylesheet" />
<link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/dracula.min.css"><style>
html {scroll-behavior: smooth;}  
body {font-family: 'Merriweather', serif;;margin: 0;padding: 2rem 1rem;font-size: 15px;line-height: 1.5;transition: background-color 0.3s, color 0.3s;}
.container {max-width: 750px;margin: 0 auto;padding: 1rem 2rem;}
.light-mode {background-color: #f8f7f5;color: #333;} 
.dark-mode {background-color: #121212;color: #e0e0e0;}
a { text-decoration: none;transition: color 0.2s;}
a:hover {text-decoration: underline;}
.light-mode a {color: #555;}
.dark-mode a {color: #aaa;}
</style><style>
.related-book-list {display: flex;flex-wrap: wrap;gap: 20px;}
.related-books {margin-top: 40px;}
.related-books h2 {font-size: 22px;margin-bottom: 20px;border-bottom: 2px solid #eee;padding-bottom: 8px;}
.light-mode .related-books h2 {color: #333;border-color: #eee;}
.dark-mode .related-books h2 {color: #ddd;border-color: #333;}
</style><style>
.book-cover {width: 130px;height: 180px;font-family: Arial, sans-serif;position: relative;overflow: hidden;box-shadow: 2px 2px 4px rgba(0,0,0,0.1);}
.book-cover-bottom-stripe {position: absolute;bottom: 0;left: 0;height: 5px;width: 100%;}
.book-cover-title {position: absolute;width: 100%;text-align: center;font-weight: bold;}
.book-cover-icon {position: absolute;left: 50%;transform: translateX(-50%);display: flex;align-items: center;justify-content: center;}
.book-cover-author {position: absolute;bottom: 10px;width: 100%;text-align: center;font-size: 8px;color: #333;}
</style><style>
.book-title-toc {font-size: 32px;font-weight: bold; }
.book-subtitle-toc {font-size: 18px;margin-top: 8px;font-style: italic;}
.book-header {text-align: center;margin-bottom: 40px;}

.toc-container {border-radius: 10px;padding: 30px;margin-bottom: 40px;box-shadow: 0 8px 20px rgba(0,0,0,0.05);}
h1 {font-size: 24px;text-align: center;margin-bottom: 30px;letter-spacing: 1px;padding-bottom: 10px;}
.toc-list,.toc-section-list {list-style: none;padding: 0;margin: 0;}
.toc-section-list {padding-left: 18px;margin-top: 6px;margin-bottom: 20px; }
.toc-chapter {padding: 20px 0;}
.chapter-title,.toc-section {display: flex;justify-content: space-between;padding-top: 4px;}
.chapter-title {font-size: 17px;font-weight: bold;}
.chapter-page,.section-page {font-style: italic;}
 
 
.light-mode .book-title-toc,.light-mode .chapter-title,.light-mode .book-name {color: #222;}
.light-mode .book-subtitle-toc,.light-mode .book-sub,.light-mode .chapter-page,.light-mode .section-page {color: #666;}
.light-mode .toc-container { background: #fff;border: 1px solid #ddd;}
.light-mode h1 {border-bottom: 2px solid #eee;color: #222;}
.light-mode .toc-section {  color: #444;}

.light-mode .book-cover { border: 1px solid #ccc;box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);}
.light-mode .book-title,.light-mode .series-name {color: #fff;}
.light-mode .book-subtitle,.light-mode .book-footer {color: #aaa;}

.dark-mode .book-title-toc,.dark-mode .chapter-title,.dark-mode .book-name {color: #f5f5f5;}
.dark-mode .book-subtitle-toc,.dark-mode .book-sub,.dark-mode .chapter-page,.dark-mode .section-page {color: #aaa;}
.dark-mode .toc-container {background: #1e1e1e;border: 1px solid #444;}

.dark-mode h1 {border-bottom: 2px solid #333;color: #eee;}
.dark-mode .toc-section {color: #bbb;}

.dark-mode .related-books h2 {color: #ddd;border-bottom: 2px solid #333;}
.dark-mode .book-title,.dark-mode .series-name {color: #fff;}
.dark-mode .book-subtitle,.dark-mode .book-footer {color: #bbb;}
.dark-mode .toc-section {color: #ddd;}

@media (max-width: 600px) {
  .chapter-title,
  .toc-section {
    flex-direction: column;
    align-items: flex-start;
  }

  .chapter-page,
  .section-page {
    margin-top: 4px;
  }
}

</style><style>
.light-mode .container {box-shadow: 0 0 15px rgba(0,0,0,0.1);}
.dark-mode .container {box-shadow: 0 0 15px rgba(255, 255, 255, 0.05);}

h1, h2, h3 {font-weight: 600;margin-top: 2.5rem;margin-bottom: 1rem;line-height: 1.2;}
h1 { font-size: 1.8rem; }
h2 { font-size: 1.4rem; }
h3 { font-size: 1.2rem; }

table {width: 100%;border-collapse: collapse;font-family: sans-serif;font-size: 1em;margin: 1em 0;}
th, td {padding: 0.6em 1em;text-align: left;border: 1px solid;}
tr:nth-child(even) {  background-color: inherit;}
tr:hover { background-color: inherit;}

code {color: #d35400;}

.chapter-navi-section {display: flex;justify-content: space-between;align-items: center;padding-bottom: 10px;padding-top: 10px;}
.nav-link {color: inherit;text-decoration: none;opacity: 0.5;transition: opacity 0.3s ease, text-decoration 0.3s ease;}
.nav-link:hover {opacity: 0.9;text-decoration: underline;}
.prev { text-align: left; }
.toc-link { text-align: center; }
.next { text-align: right; }

.download-section {display: flex;align-items: center;justify-content: center;gap: 2rem;padding: 2rem 1rem;max-width: 600px;margin: 3rem auto;border-radius: 12px;box-shadow: 0 4px 10px rgba(0,0,0,0.05);}
.download-info h2 {margin: 0 0 0.5rem;font-size: 1.2rem;}
.format-label {margin: 0 0 0.5rem;font-size: 0.95rem;}
.download-buttons {display: flex;gap: 1rem;}
.download-button {background-color: #4A90E2;color: white;padding: 0.5em 1.2em;border-radius: 25px;font-size: 0.95rem;text-decoration: none;transition: background-color 0.3s ease;}
.download-button:hover {background-color: #357ABD;}

.code-block {position: relative;margin-bottom: 1em;}
.copy-button {background: transparent;color: white;position: absolute;top: 8px;right: 8px;border: none;padding: 4px 8px;font-size: 12px;border-radius: 4px;cursor: pointer;z-index: 1;}
.copy-button:hover {background-color: #0056b3;}

.snippet-container {overflow: hidden;}
.snippet-header {padding: 0.75rem 1rem;cursor: pointer;font-size: 1rem;background-color: #eeeeee;color:  #111111; border-radius: 8px;cursor: pointer;box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
.snippet-body {display: none;font-family: monospace;}
.snippet-container.open .snippet-body {display: block;}

.CodeMirror {border: 2px solid #ccc;border-radius: 4px;resize: vertical;}

.light-mode .format-label {color: #888;}
.light-mode th {background-color: #f2f2f2;}
.light-mode tr:nth-child(even) {background-color: #fafafa;}
.light-mode tr:hover {background-color: #e6f7ff;}

.dark-mode .snippet-header {background-color: #333;color:  #ddd; }
.dark-mode .format-label {color: #aaa;}
.dark-mode th {background-color: #333;color: #fff;}
.dark-mode td {border-color: #444;}
.dark-mode tr:nth-child(even) {background-color: #2a2a2a;}
.dark-mode tr:hover {background-color: #2c3e50;}


.button-group-run-edit {display: flex;width: 100%;gap: 1rem;}
.button-run-edit {flex: 1;padding: 1rem;font-size: 1rem;font-weight: 600;border: none;border-radius: 8px;cursor: pointer;transition: background 0.3s, color 0.3s;}

.light-mode .button-run-edit {background-color: #f0f0f0;color: #222;box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);}
.light-mode .button-run-edit:hover {background-color: #e0e0e0;}

.dark-mode .button-run-edit {background-color: #2a2a2a;color: #f5f5f5;box-shadow: 0 0 10px rgba(255, 255, 255, 0.05);}
.dark-mode .button-run-edit:hover {background-color: #3a3a3a;}

button { padding: 0.5em 1em; background: green; color: white; border: none; cursor: pointer; }
button:hover { background: #1e7e34; }
.result_iframe { width:99%; margin-top: 1em;  resize: both;background-color: #515b63;border:1px solid #ccc;}   

.dialog-backdrop {position: fixed;top: 0;left: 0;width: 100vw;height: 100vh;background: rgba(0,0,0,0.5);display: none;justify-content: center;align-items: center;z-index: 10;}
.dialog {background: #90979e;padding: 20px;width: 90vw;height: 80vh;border-radius: 8px;box-shadow: 0 0 20px rgba(0,0,0,0.3);display: flex;flex-direction: column;}
.dialog-content {display: flex;gap: 20px;margin-top: 10px;height: calc(100% - 40px);}
.editor-container, .preview-container {flex: 1;height: 100%;max-height: 100%;overflow: hidden; }
.result_iframe_dialog {width: 100%;height: 100%;resize: both;border:1px solid #ccc;overflow: auto; }   
.CodeMirror {width: 100% !important;height: 100% !important;}
</style><script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/python.min.js"></script>
<script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>
<script>
const pythonCodeMirrorMap = new Map();
let pyodide = null;
let pyodideReady = false;
async function main() {
    pyodide = await loadPyodide();
    await pyodide.loadPackage(['numpy','pandas','matplotlib']);
    pyodideReady = true;
}
main();

 async function runPythonCode(button,textarea_id, iframe_id) {
        let code = pythonCodeMirrorMap.get(textarea_id).getValue();
        const iframe = document.getElementById(iframe_id);
        let doc = iframe.contentDocument || iframe.contentWindow.document;
 
        let result = "";

    if (!pyodideReady) {
      result = "Pyodide is still loading... Wait for a while and click Run again.";
    }else{
    try {
      await pyodide.runPythonAsync(`
import sys
from js import console

class CaptureOutput:
    def __init__(self):
        self.data = []
    def write(self, msg):
        self.data.append(msg)
    def flush(self):
        pass

sys.stdout = sys.stderr = capture = CaptureOutput()

${code}

output = "".join(capture.data)
`);
      result = pyodide.globals.get('output');
 
      
    } catch (err) {
      result = "Error:\n" + err;
 
    }
    }

 

      const html = `
    <!DOCTYPE html>
    <html>
      <head>
        <title>Output</title>
        <style>
          body { font-family: monospace; padding: 1em; background: #1e1e1e; color: #eee; }
          pre { white-space: pre-wrap; word-break: break-word; }
          .error { color: red; }
        </style>
      </head>
      <body>
        <pre id="log">${result} </pre>
      </body>
    </html>
  `;
        iframe.style.display = "block";
        iframe.srcdoc = html;  
        

iframe.onload = function () {
  const doc = iframe.contentDocument || iframe.contentWindow.document;
  const contentHeight = Math.max(
    doc.body.scrollHeight,
    doc.documentElement.scrollHeight
  );
  iframe.style.height = contentHeight + 'px';
};

    }
function openEditPythonCodeDialog(id, textarea_id) {
		        closeAllPythonCodeDialog();
		        document.getElementById(id).style.display = 'flex';
         
 	        setTimeout(() => {
		        	 pythonCodeMirrorMap.get(textarea_id).refresh();
                   
 	        }, 100); // 100ms 
}

function closeAllPythonCodeDialog() {
		        document.querySelectorAll('.dialog-backdrop').forEach(el => {
		          el.style.display = 'none';
		        });
}		
</script>
</head>
<body>
<script>const mode = localStorage.getItem('mode') || 'light';document.documentElement.classList.add(`${mode}-mode`);</script>  
<div class="container"><div class = "chapter-navi-section">
<a href="pandas-for-data-science-data-cleaning-and-preparation.htm" class="nav-button prev">←</a>
<a href='pandas-for-data-science.htm#data-transformation-and-manipulation' class="nav-button toc-link">Index</a>
<a href="pandas-for-data-science-working-with-text-and-categorical-data.htm" class="nav-button next">→</a>
</div>
<div class='book-header'><h1 class='book-title-toc' id = 'top'>Data Transformation and Manipulation</h1><h3 class='book-subtitle-toc'>Pandas for Data Science</h3></div><h2 id='adding-modifying-and-removing-columns'>5.1 Adding, Modifying, and Removing Columns</h2><p>Manipulating columns is fundamental in pandas, allowing you to <strong>add new features</strong>, <strong>update existing data</strong>, or <strong>clean out unnecessary fields</strong>. This section covers how to add, modify, and remove columns, along with best practices around inplace operations and method chaining.</p><h3 id="adding-new-columns">Adding New Columns</h3><p>You can create new columns by simple <strong>assignment</strong>, either with constants, lists, or expressions involving existing columns.</p><div>
 <div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
  <pre><code class="language-python">import pandas as pd

df = pd.DataFrame({
    'price': [100, 200, 300],
    'quantity': [1, 3, 2]
})

# Add constant column
df['discount'] = 10
print(df)</code></pre>
 </div>
 <div class="snippet-container">
  <div class="button-group-run-edit"><button class="button-run-edit" onclick="runPythonCode(this,'A57RP','SdMRA')">Run</button> <button class="button-run-edit" onclick="openEditPythonCodeDialog('SdMRA_Dialog','A57RP')">Edit</button>
  </div> <iframe id="SdMRA" class="result_iframe" style="display: none;"></iframe>
  <div id="SdMRA_Dialog" class="dialog-backdrop">
   <div class="dialog">
    <div class="controls"><button onclick="runPythonCode(this,'A57RP','SdMRA_IFrame')">Run</button> <button onclick="closeAllPythonCodeDialog()">Close</button>
    </div>
    <div class="dialog-content">
     <div class="editor-container">
      <textarea id="A57RP" class="textarea_dialog" placeholder="Type HTML here...">import pandas as pd

df = pd.DataFrame({
    'price': [100, 200, 300],
    'quantity': [1, 3, 2]
})

# Add constant column
df['discount'] = 10
print(df)</textarea>
     </div>
     <div class="preview-container">
      <iframe id="SdMRA_IFrame" class="result_iframe_dialog" style="border: none;"></iframe>
     </div>
    </div>
   </div>
  </div>
  <script>
{
let editor = CodeMirror.fromTextArea(document.getElementById("A57RP"), {
					mode : "python",
					lineNumbers : false,
          lineWrapping: true,
					tabSize : 2
});
const darkmode = localStorage.getItem("mode") || "light";  
const newTheme = darkmode === "dark" ? "dracula" : "default";
editor.setSize("50%", "100%");
editor.setOption("theme", newTheme);
pythonCodeMirrorMap.set("A57RP", editor);

}


</script>
 </div>
</div><p>Output:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-bash">price  quantity  discount
0    100         1        10
1    200         3        10
2    300         2        10</code></pre>
</div><h3 id="adding-columns-by-computation">Adding Columns by Computation</h3><p>New columns are often calculated from existing ones. For example, compute total cost:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">df['total_cost'] = df['price'] * df['quantity'] - df['discount']
print(df)</code></pre>
</div><p>Output:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-bash">price  quantity  discount  total_cost
0    100         1        10          90
1    200         3        10         590
2    300         2        10         590</code></pre>
</div><h3 id="modifying-existing-columns">Modifying Existing Columns</h3><p>To modify a column, assign new values directly:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python"># Apply a 10% price increase
df['price'] = df['price'] * 1.1
print(df['price'])</code></pre>
</div><p>You can also use methods like <code>.apply()</code> or vectorized operations for more complex modifications.</p><h3 id="removing-columns">Removing Columns</h3><p>Remove columns with <code>.drop()</code>. By default, <code>.drop()</code> returns a new DataFrame and does <strong>not</strong> modify inplace unless you specify <code>inplace=True</code>.</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python"># Drop the discount column (returns new DataFrame)
df_new = df.drop('discount', axis=1)
print(df_new)</code></pre>
</div><p>Or modify the original DataFrame inplace:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">df.drop('discount', axis=1, inplace=True)
print(df)</code></pre>
</div><p>You can drop multiple columns by passing a list:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">df.drop(['discount', 'quantity'], axis=1, inplace=True)</code></pre>
</div><h3 id="inplace-vs-non-inplace-operations">Inplace vs Non-Inplace Operations</h3><ul>
 <li><strong>Inplace=True</strong> modifies the DataFrame directly, saving memory but making chaining impossible.</li>
 <li>Without <code>inplace=True</code>, methods return a <strong>new DataFrame</strong>, allowing chaining and safer workflows.</li>
</ul><p><strong>Example chaining</strong> (preferred for readability):</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">df = (
    df.assign(total_cost=lambda x: x.price * x.quantity)
      .drop('discount', axis=1)
)
print(df)</code></pre>
</div><h3 id="summary">Summary</h3><ul>
 <li><strong>Add columns</strong> by assignment: constants, lists, or computations.</li>
 <li><strong>Modify columns</strong> by reassigning or applying functions.</li>
 <li><strong>Remove columns</strong> with <code>.drop()</code>, choosing between inplace and non-inplace based on your workflow.</li>
 <li>Use <strong>method chaining</strong> to write clean, readable transformation pipelines.</li>
</ul><p>Mastering these operations helps you efficiently engineer features and prepare your data for analysis or modeling.</p><div class = "chapter-navi-section">
<a href="#top" class="nav-button prev">↑</a>
<a href='pandas-for-data-science.htm#data-transformation-and-manipulation' class="nav-button toc-link">Index</a>
<a href="#bottom" class="nav-button next">↓</a>
</div>
<h2 id='applying-functions-apply-map-applymap'>5.2 Applying Functions: <code>apply()</code>, <code>map()</code>, <code>applymap()</code></h2><p>Pandas provides powerful methods to apply functions for transforming data: <code>apply()</code>, <code>map()</code>, and <code>applymap()</code>. Understanding their differences and use cases helps you manipulate data efficiently and write clean, expressive code.</p><h3 id="overview-of-methods">Overview of Methods</h3><table>
 <thead>
  <tr>
   <th>Method</th>
   <th>Used On</th>
   <th>Applies Function To</th>
   <th>Common Use Cases</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><code>apply()</code></td>
   <td>DataFrame/Series</td>
   <td>Row-wise or column-wise (DataFrame) or element-wise (Series)</td>
   <td>Aggregations, transformations along axis</td>
  </tr>
  <tr>
   <td><code>map()</code></td>
   <td>Series</td>
   <td>Element-wise</td>
   <td>Value mapping, replacements, simple element-wise transformations</td>
  </tr>
  <tr>
   <td><code>applymap()</code></td>
   <td>DataFrame</td>
   <td>Element-wise</td>
   <td>Element-wise transformations on entire DataFrame</td>
  </tr>
 </tbody>
</table><h3 id="apply-apply-function-along-axis-or-on-series"><code>apply()</code> Apply Function Along Axis or on Series</h3><ul>
 <li>On a <strong>DataFrame</strong>, <code>apply()</code> applies a function along rows (<code>axis=1</code>) or columns (<code>axis=0</code>, default).</li>
 <li>On a <strong>Series</strong>, it applies the function element-wise.</li>
</ul><h4 id="example-sum-by-row-and-column">Example: Sum by Row and Column</h4><div>
 <div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
  <pre><code class="language-python">import pandas as pd

df = pd.DataFrame({
    'A': [1, 2, 3],
    'B': [4, 5, 6]
})

# Sum across columns (default axis=0)
print(df.apply(sum))</code></pre>
 </div>
 <div class="snippet-container">
  <div class="button-group-run-edit"><button class="button-run-edit" onclick="runPythonCode(this,'idndE','Y4d3D')">Run</button> <button class="button-run-edit" onclick="openEditPythonCodeDialog('Y4d3D_Dialog','idndE')">Edit</button>
  </div> <iframe id="Y4d3D" class="result_iframe" style="display: none;"></iframe>
  <div id="Y4d3D_Dialog" class="dialog-backdrop">
   <div class="dialog">
    <div class="controls"><button onclick="runPythonCode(this,'idndE','Y4d3D_IFrame')">Run</button> <button onclick="closeAllPythonCodeDialog()">Close</button>
    </div>
    <div class="dialog-content">
     <div class="editor-container">
      <textarea id="idndE" class="textarea_dialog" placeholder="Type HTML here...">import pandas as pd

df = pd.DataFrame({
    'A': [1, 2, 3],
    'B': [4, 5, 6]
})

# Sum across columns (default axis=0)
print(df.apply(sum))</textarea>
     </div>
     <div class="preview-container">
      <iframe id="Y4d3D_IFrame" class="result_iframe_dialog" style="border: none;"></iframe>
     </div>
    </div>
   </div>
  </div>
  <script>
{
let editor = CodeMirror.fromTextArea(document.getElementById("idndE"), {
					mode : "python",
					lineNumbers : false,
          lineWrapping: true,
					tabSize : 2
});
const darkmode = localStorage.getItem("mode") || "light";  
const newTheme = darkmode === "dark" ? "dracula" : "default";
editor.setSize("50%", "100%");
editor.setOption("theme", newTheme);
pythonCodeMirrorMap.set("idndE", editor);

}


</script>
 </div>
</div><p>Output:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-bash">A     6
B    15
dtype: int64</code></pre>
</div><p>Sum across rows (<code>axis=1</code>):</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">print(df.apply(lambda row: row.sum(), axis=1))</code></pre>
</div><p>Output:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-bash">0     5
1     7
2     9
dtype: int64</code></pre>
</div><h4 id="on-series">On Series:</h4><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">s = pd.Series([1, 2, 3])
print(s.apply(lambda x: x**2))</code></pre>
</div><p>Output:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-bash">0    1
1    4
2    9
dtype: int64</code></pre>
</div><h3 id="map-element-wise-on-series"><code>map()</code> Element-wise on Series</h3><p><code>map()</code> is designed for element-wise transformations on a <strong>Series</strong>. It’s often used for:</p><ul>
 <li>Mapping values via a dictionary or Series.</li>
 <li>Applying functions element-wise.</li>
 <li>Replacing values.</li>
</ul><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">s = pd.Series(['cat', 'dog', 'rabbit'])

# Map using dictionary
print(s.map({'cat': 'kitten', 'dog': 'puppy'}))</code></pre>
</div><p>Output:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-bash">0    kitten
1     puppy
2       NaN
dtype: object</code></pre>
</div><p>Map with a function:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">print(s.map(lambda x: x.upper()))</code></pre>
</div><p>Output:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-bash">0       CAT
1       DOG
2    RABBIT
dtype: object</code></pre>
</div><h3 id="applymap-element-wise-on-dataframe"><code>applymap()</code> Element-wise on DataFrame</h3><p><code>applymap()</code> applies a function <strong>to every individual element</strong> of a DataFrame.</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">df = pd.DataFrame({
    'A': [1, 4],
    'B': [2, 5]
})

print(df.applymap(lambda x: x**2))</code></pre>
</div><p>Output:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-bash">A   B
0   1   4
1  16  25</code></pre>
</div><h3 id="performance-considerations-and-best-practices">Performance Considerations and Best Practices</h3><ul>
 <li><strong>Vectorized operations</strong> (e.g., <code>df + 1</code>, <code>df['A'] * 2</code>) are faster than these function-application methods.</li>
 <li>Use <code>map()</code> for simple element-wise operations on Series, especially for mapping or replacement.</li>
 <li>Use <code>apply()</code> for row/column-wise logic that can’t be vectorized.</li>
 <li>Use <code>applymap()</code> sparingly, only when you need to apply a function to every cell in a DataFrame.</li>
 <li>For complex or repeated operations, consider writing custom vectorized functions using NumPy or Cython.</li>
</ul><h3 id="summary">Summary</h3><table>
 <thead>
  <tr>
   <th>Method</th>
   <th>Use When</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><code>apply()</code></td>
   <td>Aggregate or transform along rows/columns or element-wise on Series</td>
  </tr>
  <tr>
   <td><code>map()</code></td>
   <td>Simple element-wise mapping on Series</td>
  </tr>
  <tr>
   <td><code>applymap()</code></td>
   <td>Element-wise on entire DataFrame</td>
  </tr>
 </tbody>
</table><p>Understanding these methods lets you flexibly transform your data in pandas with clarity and efficiency.</p><div class = "chapter-navi-section">
<a href="#top" class="nav-button prev">↑</a>
<a href='pandas-for-data-science.htm#data-transformation-and-manipulation' class="nav-button toc-link">Index</a>
<a href="#bottom" class="nav-button next">↓</a>
</div>
<h2 id='sorting-and-ranking-data'>5.3 Sorting and Ranking Data</h2><p>Sorting and ranking data are essential techniques for organizing, analyzing, and summarizing datasets. Pandas provides straightforward methods like <code>sort_values()</code>, <code>sort_index()</code>, and <code>rank()</code> to help you order and rank your data flexibly and efficiently.</p><h3 id="sorting-with-sort-values">Sorting with <code>sort_values()</code></h3><p>Use <code>sort_values()</code> to sort a DataFrame by one or multiple columns.</p><h4 id="sort-by-single-column-ascending">Sort by Single Column (Ascending)</h4><div>
 <div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
  <pre><code class="language-python">import pandas as pd

df = pd.DataFrame({
    'Name': ['Alice', 'Bob', 'Charlie', 'David'],
    'Score': [88, 92, 95, 70]
})

# Sort by Score ascending
print(df.sort_values(by='Score'))</code></pre>
 </div>
 <div class="snippet-container">
  <div class="button-group-run-edit"><button class="button-run-edit" onclick="runPythonCode(this,'jRgYj','ipIfG')">Run</button> <button class="button-run-edit" onclick="openEditPythonCodeDialog('ipIfG_Dialog','jRgYj')">Edit</button>
  </div> <iframe id="ipIfG" class="result_iframe" style="display: none;"></iframe>
  <div id="ipIfG_Dialog" class="dialog-backdrop">
   <div class="dialog">
    <div class="controls"><button onclick="runPythonCode(this,'jRgYj','ipIfG_IFrame')">Run</button> <button onclick="closeAllPythonCodeDialog()">Close</button>
    </div>
    <div class="dialog-content">
     <div class="editor-container">
      <textarea id="jRgYj" class="textarea_dialog" placeholder="Type HTML here...">import pandas as pd

df = pd.DataFrame({
    'Name': ['Alice', 'Bob', 'Charlie', 'David'],
    'Score': [88, 92, 95, 70]
})

# Sort by Score ascending
print(df.sort_values(by='Score'))</textarea>
     </div>
     <div class="preview-container">
      <iframe id="ipIfG_IFrame" class="result_iframe_dialog" style="border: none;"></iframe>
     </div>
    </div>
   </div>
  </div>
  <script>
{
let editor = CodeMirror.fromTextArea(document.getElementById("jRgYj"), {
					mode : "python",
					lineNumbers : false,
          lineWrapping: true,
					tabSize : 2
});
const darkmode = localStorage.getItem("mode") || "light";  
const newTheme = darkmode === "dark" ? "dracula" : "default";
editor.setSize("50%", "100%");
editor.setOption("theme", newTheme);
pythonCodeMirrorMap.set("jRgYj", editor);

}


</script>
 </div>
</div><p>Output:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-bash">Name  Score
3   David     70
0   Alice     88
1     Bob     92
2  Charlie     95</code></pre>
</div><h4 id="sort-by-single-column-descending">Sort by Single Column (Descending)</h4><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">print(df.sort_values(by='Score', ascending=False))</code></pre>
</div><h3 id="sort-by-multiple-columns">Sort by Multiple Columns</h3><p>Sort by <code>Score</code> descending, then <code>Name</code> ascending:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">df2 = pd.DataFrame({
    'Name': ['Alice', 'Bob', 'Charlie', 'Bob'],
    'Score': [88, 92, 92, 70]
})

sorted_df = df2.sort_values(by=['Score', 'Name'], ascending=[False, True])
print(sorted_df)</code></pre>
</div><h3 id="handling-missing-values">Handling Missing Values</h3><p>By default, NaNs are placed at the end. Use <code>na_position</code> to control:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">df3 = pd.DataFrame({'Name': ['Eva', 'Frank', 'Grace'], 'Score': [85, None, 90]})

print(df3.sort_values(by='Score', na_position='first'))</code></pre>
</div><h3 id="sorting-by-index-with-sort-index">Sorting by Index with <code>sort_index()</code></h3><p>Sort rows by the DataFrame index:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">df_indexed = df.set_index('Name')
print(df_indexed.sort_index())</code></pre>
</div><p>Sort columns by their labels:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">print(df.sort_index(axis=1))</code></pre>
</div><h3 id="ranking-data-with-rank">Ranking Data with <code>rank()</code></h3><p><code>rank()</code> assigns ranks to data values, useful for comparing relative standings.</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">df['Rank'] = df['Score'].rank()
print(df)</code></pre>
</div><p>By default, ranks are average of ties.</p><h4 id="rank-with-method-options">Rank with method options:</h4><ul>
 <li><code>'average'</code> (default): assigns average rank to ties.</li>
 <li><code>'min'</code>: lowest rank in the group.</li>
 <li><code>'max'</code>: highest rank in the group.</li>
 <li><code>'first'</code>: ranks assigned in order they appear.</li>
</ul><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">df['Rank_min'] = df['Score'].rank(method='min', ascending=False)
print(df)</code></pre>
</div><h3 id="summary">Summary</h3><ul>
 <li>Use <strong><code>sort_values()</code></strong> to sort by columns, specifying ascending order and handling NaNs.</li>
 <li>Use <strong><code>sort_index()</code></strong> to sort by row or column labels.</li>
 <li>Use <strong><code>rank()</code></strong> to assign relative ranks, customizing how ties are treated.</li>
</ul><p>These sorting and ranking tools help you better explore, report, and analyze your data.</p><div class = "chapter-navi-section">
<a href="#top" class="nav-button prev">↑</a>
<a href='pandas-for-data-science.htm#data-transformation-and-manipulation' class="nav-button toc-link">Index</a>
<a href="#bottom" class="nav-button next">↓</a>
</div>
<h2 id='practical-examples-feature-engineering'>5.4 Practical Examples: Feature Engineering</h2><p>Feature engineering is the process of creating new variables from raw data to improve analysis or model performance. In pandas, this often involves transforming, combining, or encoding existing columns. In this section, we walk through practical techniques including <strong>creating interaction terms</strong>, <strong>binning numeric features</strong>, <strong>encoding categorical variables</strong>, and <strong>deriving new informative columns</strong>—all with a realistic example.</p><h3 id="sample-dataset">Sample Dataset</h3><p>We’ll use a small dataset of online shoppers to demonstrate feature engineering.</p><div>
 <div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
  <pre><code class="language-python">import pandas as pd

data = {
    'User': ['Alice', 'Bob', 'Charlie', 'David', 'Eva'],
    'Age': [23, 45, 35, 28, 62],
    'Gender': ['F', 'M', 'M', 'M', 'F'],
    'PurchaseAmount': [120.0, 250.0, 80.0, 300.0, 150.0],
    'Membership': ['Gold', 'Silver', 'Silver', 'Gold', 'Bronze']
}

df = pd.DataFrame(data)
print(df)</code></pre>
 </div>
 <div class="snippet-container">
  <div class="button-group-run-edit"><button class="button-run-edit" onclick="runPythonCode(this,'XXP2M','dDJbe')">Run</button> <button class="button-run-edit" onclick="openEditPythonCodeDialog('dDJbe_Dialog','XXP2M')">Edit</button>
  </div> <iframe id="dDJbe" class="result_iframe" style="display: none;"></iframe>
  <div id="dDJbe_Dialog" class="dialog-backdrop">
   <div class="dialog">
    <div class="controls"><button onclick="runPythonCode(this,'XXP2M','dDJbe_IFrame')">Run</button> <button onclick="closeAllPythonCodeDialog()">Close</button>
    </div>
    <div class="dialog-content">
     <div class="editor-container">
      <textarea id="XXP2M" class="textarea_dialog" placeholder="Type HTML here...">import pandas as pd

data = {
    'User': ['Alice', 'Bob', 'Charlie', 'David', 'Eva'],
    'Age': [23, 45, 35, 28, 62],
    'Gender': ['F', 'M', 'M', 'M', 'F'],
    'PurchaseAmount': [120.0, 250.0, 80.0, 300.0, 150.0],
    'Membership': ['Gold', 'Silver', 'Silver', 'Gold', 'Bronze']
}

df = pd.DataFrame(data)
print(df)</textarea>
     </div>
     <div class="preview-container">
      <iframe id="dDJbe_IFrame" class="result_iframe_dialog" style="border: none;"></iframe>
     </div>
    </div>
   </div>
  </div>
  <script>
{
let editor = CodeMirror.fromTextArea(document.getElementById("XXP2M"), {
					mode : "python",
					lineNumbers : false,
          lineWrapping: true,
					tabSize : 2
});
const darkmode = localStorage.getItem("mode") || "light";  
const newTheme = darkmode === "dark" ? "dracula" : "default";
editor.setSize("50%", "100%");
editor.setOption("theme", newTheme);
pythonCodeMirrorMap.set("XXP2M", editor);

}


</script>
 </div>
</div><h3 id="creating-interaction-terms">Creating Interaction Terms</h3><p>Interaction terms combine two or more features to capture relationships.</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python"># Interaction between Age and PurchaseAmount
df['Age_x_Purchase'] = df['Age'] * df['PurchaseAmount']</code></pre>
</div><p>This new column could be useful in modeling to capture how age influences spending behavior.</p><h3 id="binning-continuous-variables">Binning Continuous Variables</h3><p>Binning groups continuous values into discrete intervals. Useful for modeling or readability.</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python"># Bin Age into categories
df['AgeGroup'] = pd.cut(df['Age'], bins=[0, 30, 50, 100], labels=['Young', 'Middle-aged', 'Senior'])</code></pre>
</div><p>This creates a categorical feature for age-related segmentation.</p><h3 id="encoding-categorical-data">Encoding Categorical Data</h3><p>Machine learning models require numeric inputs. Convert categorical columns using encoding.</p><h4 id="a-one-hot-encoding-for-membership-level">a. One-Hot Encoding for Membership Level</h4><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">membership_dummies = pd.get_dummies(df['Membership'], prefix='Membership')
df = pd.concat([df, membership_dummies], axis=1)</code></pre>
</div><h4 id="b-label-encoding-for-gender">b. Label Encoding for Gender</h4><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">df['GenderEncoded'] = df['Gender'].map({'F': 0, 'M': 1})</code></pre>
</div><blockquote>
 <p>Note: One-hot encoding is preferable when categories are non-ordinal, to avoid implying rank.</p>
</blockquote><h3 id="creating-derived-features">Creating Derived Features</h3><p>Use logic to create informative columns.</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python"># High-value customer: Purchase over 200
df['HighValueCustomer'] = df['PurchaseAmount'] &gt; 200</code></pre>
</div><p>This binary column flags users for special targeting.</p><h3 id="final-engineered-dataset">Final Engineered Dataset</h3><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">print(df)</code></pre>
</div><p><strong>Output Preview:</strong></p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-bash">User  Age Gender  PurchaseAmount Membership  Age_x_Purchase    AgeGroup  \
0   Alice   23      F           120.0       Gold          2760.0       Young   
1     Bob   45      M           250.0     Silver         11250.0  Middle-aged   
2 Charlie   35      M            80.0     Silver          2800.0  Middle-aged   
3   David   28      M           300.0       Gold          8400.0       Young   
4     Eva   62      F           150.0     Bronze          9300.0      Senior   

   Membership_Bronze  Membership_Gold  Membership_Silver  GenderEncoded  \
0                  0                1                  0              0   
1                  0                0                  1              1   
2                  0                0                  1              1   
3                  0                1                  0              1   
4                  1                0                  0              0   

   HighValueCustomer  
0              False  
1               True  
2              False  
3               True  
4              False</code></pre>
</div><h3 id="summary">Summary</h3><p>In this hands-on example, we engineered new features by:</p><ul>
 <li>Creating interaction terms (<code>Age * PurchaseAmount</code>)</li>
 <li>Binning continuous values (<code>AgeGroup</code>)</li>
 <li>Encoding categorical data (<code>Membership</code>, <code>Gender</code>)</li>
 <li>Flagging binary conditions (<code>HighValueCustomer</code>)</li>
</ul><p>These transformations enhance the dataset’s analytical and predictive power. In real-world projects, well-engineered features can make the difference between a mediocre and an outstanding model. Practice with your own data to discover which features best represent your problem space.</p><div class = "chapter-navi-section">
<a href="pandas-for-data-science-data-cleaning-and-preparation.htm" class="nav-button prev">←</a>
<a href='pandas-for-data-science.htm#data-transformation-and-manipulation' class="nav-button toc-link">Index</a>
<a href="pandas-for-data-science-working-with-text-and-categorical-data.htm" class="nav-button next">→</a>
</div>
<section class="download-section">
  <div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 18px;color: #333;top: 20px;">Pandas for Data Science</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 70px;" src="data:image/png;base64,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"/>
  </div>
  <div class="download-info">
    <h2 id='bottom'>Download This Ebook</h2>
    <p class="format-label">Available formats:</p>
    <div class="download-buttons">
      <a href="pandas-for-data-science.pdf" class="download-button">📄 PDF</a>
      <a href="pandas-for-data-science.epub" class="download-button">📘 EPUB</a>
    </div>
  </div>
</section><div class='related-books'>
<h2>Python Data Science Books</h2>
<div class='related-book-list'>
<a href="pandas-for-data-science.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 18px;color: #333;top: 20px;">Pandas for Data Science</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 70px;" src="data:image/png;base64,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"/>
  </div>
</a>



<a href='python.htm'><div class='book-cover' style='background-color: #f9f6f1;color: #111111;border: 1px solid #ccc;display: flex;justify-content: center;align-items: center;text-align: center;'>More Python Books</div></a>
</div>
</div><script>
function copyCode(button) {const code = button.nextElementSibling.innerText;navigator.clipboard.writeText(code).then(() => {button.textContent = 'Copied!';setTimeout(() => { button.textContent = 'Copy'; }, 1500);});}
</script></div>
<style>
.site-footer {margin-top: 60px;padding: 20px 0;border-top: 1px solid #eee;text-align: center;font-size: 14px;}
.site-footer a {text-decoration: none;}
.light-mode .site-footer {color: #777;border-color: #eee;}
.dark-mode .site-footer {color: #888;border-color: #333;}
.light-mode .site-footer a {color: #555;}
.dark-mode .site-footer a {color: #aaa;}
.site-footer a:hover {text-decoration: underline;}    
</style>
<footer class="site-footer">
<nav><a href="https://readbytes.github.io">Home</a> |Email:<script type="text/javascript">
var part1 = 'yinpeng';var part6 = '263';var part2 = Math.pow(2,6);var part3 = String.fromCharCode(part2);var part4 = 'hotmail dot com';var part5 = part1 + String.fromCharCode(part2) + part4;document.write(part1 + part6 + part3 + part4);
</script>
| <a id="mode-toggle" href="#">Toggle Dark Mode</a>
</nav><p>© 2025 — All rights reserved.</p></footer>
<script>
const toggleButton = document.getElementById('mode-toggle');
const body = document.body;
const savedMode = localStorage.getItem('mode') || 'light';
body.classList.add(savedMode + '-mode');
toggleButton.addEventListener('click', () => {
      const isDark = body.classList.contains('dark-mode');
      body.classList.toggle('dark-mode', !isDark);
      body.classList.toggle('light-mode', isDark);
      localStorage.setItem('mode', isDark ? 'light' : 'dark');
});
function copyCode(button) {const code = button.nextElementSibling.innerText;navigator.clipboard.writeText(code).then(() => {button.textContent = 'Copied!';setTimeout(() => { button.textContent = 'Copy'; }, 1500);});}
</script>
</body>
</html>