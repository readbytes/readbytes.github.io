<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>JavaScript Data Visualization Working with Data</title>
<link rel='shortcut icon' href='https://java2s.com/style/favicon.ico'>
<link href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" rel="stylesheet" />
<link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
<script type='text/javascript' async src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML'></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/material.css"> <!-- Dark theme -->
<script src="https://cdn.jsdelivr.net/npm/typescript@5/lib/typescript.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/htmlmixed/htmlmixed.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/xml/xml.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/css/css.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/typescript.min.js"></script>
<style>
    #floatingLog {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(20, 20, 20, 0.95);
      color: white;
      font-family: monospace;
      font-size: 14px;
      padding: 16px 20px;
      border-radius: 8px;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);
      max-width: 80%;
      max-height: 200px;
      overflow-y: auto;
      display: none;
      z-index: 9999;
      pointer-events: none;
      white-space: pre-wrap;
      text-align: center;
    }
</style>
<script>
  const codeMirrorMap = new Map();
  const iframeMap = new Map();
  
 

  let dismissTimer;
  function showFloatingLog(message) {
	const floatingLog = document.getElementById('floatingLog');

    if (floatingLog.style.display !== 'block') {
      floatingLog.textContent = '';
      floatingLog.style.display = 'block'; 
    }

    floatingLog.textContent += message + '\n';
    floatingLog.scrollTop = floatingLog.scrollHeight; 
    clearTimeout(dismissTimer);
    dismissTimer = setTimeout(() => {
      floatingLog.style.display = 'none';
      floatingLog.textContent = '';
    }, 2000);
  }
  window.addEventListener('message', (event) => {
	    if (!iframeMap.has(event.source)) return;

	    if (event.data?.type === 'console-log') {
	      showFloatingLog(event.data.message);
	    }
  });  
  function renderIframe(button,textarea_id, iframe_id) {
      const html = codeMirrorMap.get(textarea_id).getValue();
      const iframe = document.getElementById(iframe_id);
  
      const oldIframe = iframe;
      const newIframe = document.createElement('iframe');
      newIframe.className ="result_iframe";
      
      newIframe.id = iframe_id;
      oldIframe.replaceWith(newIframe);
 

      // Track the iframe in the map
      iframeMap.set(newIframe.contentWindow, button);

      const overrideScript = `
        <script>
          (function() {
            const originalLog = console.log;
            console.log = function(...args) {
              originalLog.apply(console, args);
              window.parent.postMessage({
                type: 'console-log',
                message: args.map(a => {
                  try { return JSON.stringify(a); }
                  catch { return String(a); }
                }).join(' ')
              }, '*');
            };
          })();
        <\/script>
      `;

      const iframeHTML = `
        <!DOCTYPE html>
        <html>
        <body>
          ${overrideScript}
          ${html}
        </body>
        </html>
      `;
 
      const doc = newIframe.contentDocument || newIframe.contentWindow.document;
      doc.open();
      doc.write(iframeHTML);
      doc.close();

      
      setTimeout(() => {
    	  newIframe.style.height = '0px';
    	   let contentHeight = Math.max(doc.body.scrollHeight,doc.documentElement.scrollHeight);
 
    	   if(contentHeight < 150 || contentHeight > 600){
    		   contentHeight = 600;
    	   } 
    	   newIframe.style.height = contentHeight + 'px';
    	}, 50);      
      
  }
  function renderIframeForClientTypescript(textarea_id, iframe_id) {
      let code = codeMirrorMap.get(textarea_id).getValue();
      code = ts.transpile(code);
      const iframe = document.getElementById(iframe_id);
      const doc = iframe.contentDocument || iframe.contentWindow.document;

const html = `
  <!DOCTYPE html>
  <html>
    <head>
      <title>Output</title>
      <style>
        body { font-family: monospace; padding: 1em; background: #f4f4f4; color: #222; }
        pre { white-space: pre-wrap; word-break: break-word; }
        .error { color: red; }
      </style>
    </head>
    <body>
      <pre id="log"></pre>
      <script>
        (function(){
          const logEl = document.getElementById('log');
          const origLog = console.log;
          const origError = console.error;

          console.log = (...args) => {
            logEl.textContent += args.join(' ') + '\\n';
            origLog.apply(console, args);
          };
          console.table = (...args) => {
            logEl.textContent += args.join(' ') + '\\n';
            origLog.apply(console, args);
          };

          console.error = (...args) => {
            logEl.innerHTML +='<span class="error">' + args.join(' ') + '</span>';
            origError.apply(console, args);
          };
          window.addEventListener("error", function (event) {
              console.error("Caught by event listener:", event.message);
          });    
          try {             
              ${code};
          } catch (err) {
            console.error(err.stack || err.message);
          }
        })();
      <\/script>
    </body>
  </html>
`;

      iframe.style.display = "block";
      iframe.srcdoc = html;  
  }

    function renderIframeForClientJavascript(textarea_id, iframe_id) {
        const code = codeMirrorMap.get(textarea_id).getValue();
        const iframe = document.getElementById(iframe_id);
        const doc = iframe.contentDocument || iframe.contentWindow.document;

  const html = `
    <!DOCTYPE html>
    <html>
      <head>
        <title>Output</title>
        <style>
          body { font-family: monospace; padding: 1em; background: #1e1e1e; color: #eee; }
          pre { white-space: pre-wrap; word-break: break-word; }
          .error { color: red; }
        </style>
      </head>
      <body>
        <pre id="log"></pre>
        <script>
          (function(){
            const logEl = document.getElementById('log');
            const origLog = console.log;
            const origError = console.error;

            console.log = (...args) => {
              logEl.textContent += args.join(' ') + '\\n';
              origLog.apply(console, args);
            };
            console.table = (...args) => {
              logEl.textContent += args.join(' ') + '\\n';
              origLog.apply(console, args);
            };

            console.error = (...args) => {
              logEl.innerHTML +='<span class="error">' + args.join(' ') + '</span>';
              origError.apply(console, args);
            };
            window.addEventListener("error", function (event) {
                console.error("Caught by event listener:", event.message);
            });    
            try {
             ${code}; 
            } catch (err) {
              console.error(err.stack || err.message);
            }
          })();
        <\/script>
      </body>
    </html>
  `;
        iframe.style.display = "block";
        iframe.srcdoc = html;  
    }
    function toggleSnippetAndRefresh(id, textarea_id) {
      const box = document.getElementById(id);
      box.classList.toggle("open");
      codeMirrorMap.get(textarea_id).refresh();
    }

  </script>
  <script>
  const mode = localStorage.getItem('mode') || 'light';
  document.documentElement.classList.add(`${mode}-mode`);
  </script>   
<style> 
html {
  scroll-behavior: smooth;
}

body {
  font-family: 'Merriweather', serif;
  margin: 0;
  padding: 2rem 1rem;
  font-size: 15px;
  line-height: 1.5;
  transition: background-color 0.3s, color 0.3s;
}

.container {
  max-width: 700px;
  margin: 0 auto;
  padding: 1rem 2rem;
  box-shadow: 0 0 15px rgba(0,0,0,0.1);
}

h1, h2, h3 {
  font-weight: 600;
  margin-top: 2.5rem;
  margin-bottom: 1rem;
  line-height: 1.2;
}

h1 { font-size: 1.8rem; }
h2 { font-size: 1.4rem; }
h3 { font-size: 1.2rem; }

table {
  width: 100%;
  border-collapse: collapse;
  font-family: sans-serif;
  font-size: 1em;
  margin: 1em 0;
}

th, td {
  padding: 0.6em 1em;
  text-align: left;
  border: 1px solid;
}

tr:nth-child(even) {
  background-color: inherit;
}

tr:hover {
  background-color: inherit;
}

a {
  text-decoration: none;
  transition: color 0.2s;
}

a:hover {
  text-decoration: underline;
}

code {
  color: #d35400;
}

.book-title-chapter {
  font-family: 'Merriweather', serif;
  font-size: 2rem;
  font-weight: bold;
  text-align: center;
  margin-bottom: 2rem;
  border-bottom: 2px solid;
  padding-bottom: 0.5rem;
}

.book-subtitle-chapter {
  text-align: center;
  font-size: 1rem;
  margin-top: -1rem;
  margin-bottom: 2rem;
}

.related-books {
  margin-top: 40px;
}

.related-book-list {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
}

    .book-cover {
      width: 130px;
      height: 180px;
      font-family: Arial, sans-serif;
      position: relative;
      overflow: hidden;      
      line-height: normal;
      box-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }
    .book-cover-bottom-stripe {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 5px;
      width: 100%;
    }
    .book-cover-title {
      position: absolute;
      width: 100%;
      text-align: center;
      font-weight: bold;
    }
     
    .book-cover-icon {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      align-items: center;
      justify-content: center; 
    }

    .book-cover-author {
      position: absolute;
      bottom: 10px;
      width: 100%;
      text-align: center;
      font-size: 8px;
      color: #333;
    }

.page-footer {
  margin-top: 4rem;
  padding: 1rem 0;
  text-align: center;
  font-size: 0.85rem;
  border-top: 1px solid;
}

.chapter-navi-section {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-bottom: 10px;
}

.nav-link {
  color: inherit;
  text-decoration: none;
  opacity: 0.5;
  transition: opacity 0.3s ease, text-decoration 0.3s ease;
}

.nav-link:hover {
  opacity: 0.9;
  text-decoration: underline;
}

.prev { text-align: left; }
.toc-link { text-align: center; }
.next { text-align: right; }

.download-section {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 2rem;
  padding: 2rem 1rem;
  max-width: 600px;
  margin: 3rem auto;
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

.download-info h2 {
  margin: 0 0 0.5rem;
  font-size: 1.2rem;
}

.format-label {
  margin: 0 0 0.5rem;
  font-size: 0.95rem;
}

.download-buttons {
  display: flex;
  gap: 1rem;
}

.download-button {
  background-color: #4A90E2;
  color: white;
  padding: 0.5em 1.2em;
  border-radius: 25px;
  font-size: 0.95rem;
  text-decoration: none;
  transition: background-color 0.3s ease;
}

.download-button:hover {
  background-color: #357ABD;
}

.code-block {
  position: relative;
  margin-bottom: 1em;
}

.copy-button {
  background: transparent;
  color: white;
  position: absolute;
  top: 8px;
  right: 8px;
  border: none;
  padding: 4px 8px;
  font-size: 12px;
  border-radius: 4px;
  cursor: pointer;
  z-index: 1;
}

.copy-button:hover {
  background-color: #0056b3;
}

.snippet-container {
  overflow: hidden;
}

.snippet-header {
  padding: 0.75rem 1rem;
  cursor: pointer;
  font-size: 1rem;
    background-color: #eeeeee;
    color:  #111111; 
    border-radius: 8px;
    cursor: pointer;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);  
}

.snippet-body {
  display: none;
  font-family: monospace;
}

.snippet-container.open .snippet-body {
  display: block;
}

.CodeMirror {
  border: 2px solid #ccc;
  border-radius: 4px;
  resize: vertical;
}

/* === Light Mode === */
html.light-mode {
  background-color: #f8f7f5;
  color: #333;
}

html.light-mode .container {
  background: white;
}

html.light-mode .book-title-chapter {
  color: #2c3e50;
  border-color: #ccc;
}
html.light-mode .book-subtitle-chapter{
  color: #888;
}

html.light-mode .page-footer,
html.light-mode .series-name,
html.light-mode .book-subtitle,
html.light-mode .format-label {
  color: #888;
}

html.light-mode .related-books h2 {
  color: #333;
  border-bottom: 2px solid #eee;
}

html.light-mode .book-title {
  color: #fff;
}

html.light-mode .book-cover {
  border: 1px solid #ccc;
}

html.light-mode th {
  background-color: #f2f2f2;
}

html.light-mode tr:nth-child(even) {
  background-color: #fafafa;
}

html.light-mode tr:hover {
  background-color: #e6f7ff;
}

html.light-mode a,
html.light-mode .page-footer a {
  color: #000;
}

/* === Dark Mode === */
html.dark-mode {
  background-color: #181818;
  color: #e0e0e0;
}

html.dark-mode .container {
  background: #222;
}

html.dark-mode .book-title-chapter {
  color: #ddd;
  border-color: #444;
}

html.dark-mode .snippet-header {
    background-color: #333;
    color:  #ddd; 
}


html.dark-mode .book-subtitle-chapter,
html.dark-mode .page-footer,
html.dark-mode .series-name,
html.dark-mode .book-subtitle,
html.dark-mode .book-footer,
html.dark-mode .format-label {
  color: #aaa;
}

html.dark-mode .related-books h2 {
  color: #ddd;
  border-bottom: 2px solid #333;
}

html.dark-mode .book-title {
  color: #fff;
}

html.dark-mode .book-cover {
  border: 1px solid #555;
}

html.dark-mode th {
  background-color: #333;
  color: #fff;
}

html.dark-mode td {
  border-color: #444;
}

html.dark-mode tr:nth-child(even) {
  background-color: #2a2a2a;
}

html.dark-mode tr:hover {
  background-color: #2c3e50;
}

html.dark-mode a,
html.dark-mode .page-footer a {
  color: #eee;
}

    .dialog-backdrop {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 10;
    }

    .dialog {
      background: white;
      padding: 20px;
      width: 90vw;
      height: 80vh;
      border-radius: 8px;
      box-shadow: 0 0 20px rgba(0,0,0,0.3);
      display: flex;
      flex-direction: column;
    }
    .dialog-content {
      display: flex;
      flex: 1;
      gap: 20px;
      margin-top: 10px;
    }
    .dialog h2 {
      margin-top: 0;
    }

    .textarea_dialog {
      width: 50%;
      height: 100%;
      resize: none;
      font-family: monospace;
      font-size: 14px;
      padding: 10px;
      box-sizing: border-box;
      border: 1px solid #ccc;
    }

    .iframe_dialog {
      width: 50%;
      height: 100%;
      border: 1px solid #ccc;
    }
    .controls_dialog {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
    }    
    button { padding: 0.5em 1em; background: green; color: white; border: none; cursor: pointer; }
    button:hover { background: #1e7e34; }
    .result_iframe { width:99%; height:200px; margin-top: 1em;  resize: both;border:1px solid #ccc;}        
</style>
</head>
<body> 
  <div class="container">
    <div class = "chapter-navi-section">
<a href="javascript-data-visualization-fundamentals-of-data-visualization.htm" class="nav-button prev">←</a>
<a href='javascript-data-visualization.htm#working-with-data' class="nav-button toc-link">Index</a>
<a href="javascript-data-visualization-building-visuals-with-d3-js.htm" class="nav-button next">→</a>
</div>

    <h1 class="book-title-chapter" id = 'top'>Working with Data</h1>
    <h3 class="book-subtitle-chapter">JavaScript Data Visualization</h3>   
    <!-- <h1 class ="chapter-title"></h1> -->
    <h2 id='loading-and-parsing-data'>2.1 Loading and Parsing Data</h2><p>Before you can create meaningful visualizations, you need to get your data into your JavaScript program. In the web environment, data often comes from external sources such as CSV files, JSON APIs, or databases. This section explains how to <strong>load external data asynchronously</strong> using JavaScript, how to parse it into usable formats, and why careful inspection and cleaning of raw data is essential.</p><h3 id="loading-data-asynchronously-with-javascript">Loading Data Asynchronously with JavaScript</h3><p>Web browsers load external resources asynchronously to keep applications responsive. This means your JavaScript code requests data, then continues running while waiting for the data to arrive.</p><h3 id="using-fetch">Using <code>fetch()</code></h3><p>The modern JavaScript API for requesting external data is the <code>fetch()</code> function, which returns a <strong>Promise</strong> — an object representing the eventual completion (or failure) of the asynchronous operation.</p><p>Example: Loading JSON data with <code>fetch()</code>:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">fetch('data/sample.json')
  .then(response =&gt; response.json())  // Parse response as JSON
  .then(data =&gt; {
    console.log('Loaded JSON data:', data);
    // Process your data here
  })
  .catch(error =&gt; {
    console.error('Error loading JSON:', error);
  });</code></pre>
</div><p>Similarly, you can load CSV files as plain text and then parse them:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">fetch('data/sample.csv')
  .then(response =&gt; response.text())  // Get raw text
  .then(csvText =&gt; {
    console.log('Loaded CSV text:', csvText);
    // Parse CSV text manually or with a library
  })
  .catch(error =&gt; {
    console.error('Error loading CSV:', error);
  });</code></pre>
</div><h3 id="using-d3-jss-data-loading-utilities">Using D3.jss Data Loading Utilities</h3><p>If you use D3.js, it provides convenient methods for loading and parsing common data formats:</p><ul>
 <li><code>d3.csv(url)</code>: loads a CSV file and parses each row into an object.</li>
 <li><code>d3.json(url)</code>: loads a JSON file and parses it automatically.</li>
</ul><p>These methods also return Promises, making them easy to integrate into asynchronous workflows.</p><p>Example: Loading a CSV file with D3:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">d3.csv('data/sample.csv').then(data =&gt; {
  console.log('Parsed CSV data:', data);
  // Data is an array of objects, one per row
});</code></pre>
</div><p>Example: Loading JSON with D3:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">d3.json('data/sample.json').then(data =&gt; {
  console.log('Loaded JSON data:', data);
});</code></pre>
</div><h3 id="parsing-and-converting-data-types">Parsing and Converting Data Types</h3><p>Raw data often comes with all values as strings. To perform calculations or create accurate visualizations, you need to convert fields into appropriate types — numbers, dates, booleans, etc.</p><p>Consider this CSV row:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-csv">date,sales,profit
2023-01-01,"1000","200"</code></pre>
</div><p>After loading, <code>sales</code> and <code>profit</code> will be strings <code>"1000"</code> and <code>"200"</code>. To use these numerically, convert them:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">d3.csv('data/sample.csv', row =&gt; {
  return {
    date: new Date(row.date),          // Convert to Date object
    sales: +row.sales,                 // Convert string to number
    profit: +row.profit                // Convert string to number
  };
}).then(data =&gt; {
  console.log('Typed CSV data:', data);
});</code></pre>
</div><p>The <code>+</code> operator is a shorthand for <code>Number()</code>. This step ensures the values behave correctly in calculations, scales, and other operations.</p><h3 id="understanding-promises-and-asynchronous-flow">Understanding Promises and Asynchronous Flow</h3><p>Since data loading is asynchronous, code that depends on the data must run <strong>after</strong> the data has finished loading. Promises enable this sequencing using <code>.then()</code> or modern <code>async/await</code> syntax.</p><p>Example using <code>async/await</code>:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">async function loadData() {
  try {
    const data = await d3.csv('data/sample.csv', row =&gt; ({
      date: new Date(row.date),
      sales: +row.sales
    }));
    console.log('Data loaded with async/await:', data);
    // Continue processing or visualization here
  } catch (error) {
    console.error('Error loading data:', error);
  }
}
loadData();</code></pre>
</div><p>This approach makes asynchronous code easier to read and maintain.</p><h3 id="inspecting-and-cleaning-raw-data">Inspecting and Cleaning Raw Data</h3><p>Loading and parsing is just the first step. Real-world data often contains:</p><ul>
 <li>Missing values,</li>
 <li>Inconsistent formats,</li>
 <li>Outliers,</li>
 <li>Typographical errors.</li>
</ul><p>Before visualizing, inspect your data by logging it or using browser developer tools. Look for anomalies that might skew your charts or cause errors.</p><p>Example inspection tips:</p><ul>
 <li>Check for <code>null</code>, <code>undefined</code>, or empty strings.</li>
 <li>Verify date formats are consistent.</li>
 <li>Confirm numerical fields contain valid numbers.</li>
</ul><p>You might need to:</p><ul>
 <li>Filter out incomplete or corrupted rows,</li>
 <li>Impute missing values,</li>
 <li>Normalize or transform data fields.</li>
</ul><p>Proper data cleaning improves the accuracy and reliability of your visualizations.</p><h3 id="summary">Summary</h3><ul>
 <li>Use JavaScript’s <code>fetch()</code> or D3’s <code>d3.csv()</code> and <code>d3.json()</code> to load data asynchronously.</li>
 <li>Data loading returns Promises — use <code>.then()</code> or <code>async/await</code> to handle asynchronous flow.</li>
 <li>Convert raw string values to appropriate data types (numbers, dates) for meaningful analysis.</li>
 <li>Always inspect and clean your data before visualization to avoid misleading results.</li>
</ul><div class = "chapter-navi-section">
<a href="#top" class="nav-button prev">↑</a>
<a href='javascript-data-visualization.htm#working-with-data' class="nav-button toc-link">Index</a>
<a href="#bottom" class="nav-button next">↓</a>
</div>
<h2 id='data-preparation'>2.2 Data Preparation</h2><p>Once you have loaded and parsed your raw data, the next crucial step is <strong>preparing it</strong> for visualization. Raw datasets are often messy, unstructured, or too detailed to display directly. Preparing data involves <strong>sorting, grouping, aggregating, and filtering</strong> it into a form that reveals meaningful patterns and supports your chart design.</p><p>In this section, we’ll explore how to use JavaScript’s powerful array methods and D3’s utilities to transform data. We will also discuss why clean, well-structured data is essential for creating clear and insightful visualizations.</p><h3 id="sorting-data">Sorting Data</h3><p>Sorting organizes data into a meaningful order. For example, you may want to sort sales figures from highest to lowest or dates chronologically.</p><p>JavaScript’s <code>Array.prototype.sort()</code> method lets you specify a comparator function:</p><div>
 <div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
  <pre><code class="language-js">const salesData = [
  { category: 'Books', sales: 500 },
  { category: 'Electronics', sales: 1200 },
  { category: 'Clothing', sales: 700 }
];

// Sort descending by sales
salesData.sort((a, b) =&gt; b.sales - a.sales);

console.log(JSON.stringify(salesData,null,2));
/* Output:
[
  { category: 'Electronics', sales: 1200 },
  { category: 'Clothing', sales: 700 },
  { category: 'Books', sales: 500 }
]
*/</code></pre>
 </div>
 <div class="snippet-container" id="oXPfl">
  <div class="snippet-header" onclick="toggleSnippetAndRefresh('oXPfl','IkZeb')">
   Try it in editor
  </div>
  <div class="snippet-body"><textarea id="IkZeb">const salesData = [
  { category: 'Books', sales: 500 },
  { category: 'Electronics', sales: 1200 },
  { category: 'Clothing', sales: 700 }
];

// Sort descending by sales
salesData.sort((a, b) =&gt; b.sales - a.sales);

console.log(JSON.stringify(salesData,null,2));
/* Output:
[
  { category: 'Electronics', sales: 1200 },
  { category: 'Clothing', sales: 700 },
  { category: 'Books', sales: 500 }
]
*/</textarea> <br> <button onclick="renderIframeForClientJavascript('IkZeb','uUBq2')">Run</button> <iframe id="uUBq2" class="result_iframe" style="display: none;"></iframe>
   <script>
  {let editor1 = CodeMirror.fromTextArea(document.getElementById("IkZeb"), {
    mode: "javascript",
    lineNumbers:false,
    tabSize: 2
    });
    const mode = localStorage.getItem("mode") || "light";  
    const newTheme = mode === "dark" ? "material" : "default";
    editor1.setOption("theme", newTheme);

    codeMirrorMap.set("IkZeb", editor1);}
  </script>
  </div>
 </div>
</div><h3 id="filtering-data">Filtering Data</h3><p>Filtering removes unwanted data points, allowing you to focus on relevant subsets.</p><p>Example: Filter out sales below 600 units:</p><div>
 <div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
  <pre><code class="language-js">const salesData = [
  { category: 'Books', sales: 500 },
  { category: 'Electronics', sales: 1200 },
  { category: 'Clothing', sales: 700 }
];

const filteredData = salesData.filter(d =&gt; d.sales &gt;= 600);
console.log(JSON.stringify(filteredData,null,2));
/* Output:
[
  { category: 'Electronics', sales: 1200 },
  { category: 'Clothing', sales: 700 }
]
*/</code></pre>
 </div>
 <div class="snippet-container" id="eJKql">
  <div class="snippet-header" onclick="toggleSnippetAndRefresh('eJKql','onM1w')">
   Try it in editor
  </div>
  <div class="snippet-body"><textarea id="onM1w">const salesData = [
  { category: 'Books', sales: 500 },
  { category: 'Electronics', sales: 1200 },
  { category: 'Clothing', sales: 700 }
];

const filteredData = salesData.filter(d =&gt; d.sales &gt;= 600);
console.log(JSON.stringify(filteredData,null,2));
/* Output:
[
  { category: 'Electronics', sales: 1200 },
  { category: 'Clothing', sales: 700 }
]
*/</textarea> <br> <button onclick="renderIframeForClientJavascript('onM1w','CeWGW')">Run</button> <iframe id="CeWGW" class="result_iframe" style="display: none;"></iframe>
   <script>
  {let editor1 = CodeMirror.fromTextArea(document.getElementById("onM1w"), {
    mode: "javascript",
    lineNumbers:false,
    tabSize: 2
    });
    const mode = localStorage.getItem("mode") || "light";  
    const newTheme = mode === "dark" ? "material" : "default";
    editor1.setOption("theme", newTheme);

    codeMirrorMap.set("onM1w", editor1);}
  </script>
  </div>
 </div>
</div><p>Filtering helps declutter visualizations by excluding noise or irrelevant entries.</p><h3 id="mapping-data">Mapping Data</h3><p>Mapping transforms each element of an array into a new form.</p><p>Example: Extract just the category names for a legend:</p><div>
 <div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
  <pre><code class="language-js">const salesData = [
  { category: 'Books', sales: 500 },
  { category: 'Electronics', sales: 1200 },
  { category: 'Clothing', sales: 700 }
];

const categories = salesData.map(d =&gt; d.category);
console.log(categories); // ['Electronics', 'Clothing', 'Books']</code></pre>
 </div>
 <div class="snippet-container" id="pQrxN">
  <div class="snippet-header" onclick="toggleSnippetAndRefresh('pQrxN','j80C0')">
   Try it in editor
  </div>
  <div class="snippet-body"><textarea id="j80C0">const salesData = [
  { category: 'Books', sales: 500 },
  { category: 'Electronics', sales: 1200 },
  { category: 'Clothing', sales: 700 }
];

const categories = salesData.map(d =&gt; d.category);
console.log(categories); // ['Electronics', 'Clothing', 'Books']</textarea> <br> <button onclick="renderIframeForClientJavascript('j80C0','UnBeN')">Run</button> <iframe id="UnBeN" class="result_iframe" style="display: none;"></iframe>
   <script>
  {let editor1 = CodeMirror.fromTextArea(document.getElementById("j80C0"), {
    mode: "javascript",
    lineNumbers:false,
    tabSize: 2
    });
    const mode = localStorage.getItem("mode") || "light";  
    const newTheme = mode === "dark" ? "material" : "default";
    editor1.setOption("theme", newTheme);

    codeMirrorMap.set("j80C0", editor1);}
  </script>
  </div>
 </div>
</div><p>Mapping can also convert raw data values into normalized or calculated forms.</p><h3 id="grouping-and-aggregating-data">Grouping and Aggregating Data</h3><p>Often, data must be grouped by categories or time periods and aggregated (summed, averaged, counted) to summarize it effectively.</p><h3 id="grouping-and-aggregating-with-reduce">Grouping and Aggregating with <code>reduce</code></h3><p>Suppose you have detailed sales records with categories and individual sales amounts:</p><div>
 <div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
  <pre><code class="language-js">const detailedSales = [
  { category: 'Books', sales: 200 },
  { category: 'Electronics', sales: 400 },
  { category: 'Books', sales: 300 },
  { category: 'Clothing', sales: 700 },
  { category: 'Electronics', sales: 800 }
];
//To calculate total sales per category:

const salesByCategory = detailedSales.reduce((acc, curr) =&gt; {
  acc[curr.category] = (acc[curr.category] || 0) + curr.sales;
  return acc;
}, {});

console.log(JSON.stringify(salesByCategory,null,2));
/* Output:
{
  Books: 500,
  Electronics: 1200,
  Clothing: 700
}
*/</code></pre>
 </div>
 <div class="snippet-container" id="Foq1B">
  <div class="snippet-header" onclick="toggleSnippetAndRefresh('Foq1B','3o5vK')">
   Try it in editor
  </div>
  <div class="snippet-body"><textarea id="3o5vK">const detailedSales = [
  { category: 'Books', sales: 200 },
  { category: 'Electronics', sales: 400 },
  { category: 'Books', sales: 300 },
  { category: 'Clothing', sales: 700 },
  { category: 'Electronics', sales: 800 }
];
//To calculate total sales per category:

const salesByCategory = detailedSales.reduce((acc, curr) =&gt; {
  acc[curr.category] = (acc[curr.category] || 0) + curr.sales;
  return acc;
}, {});

console.log(JSON.stringify(salesByCategory,null,2));
/* Output:
{
  Books: 500,
  Electronics: 1200,
  Clothing: 700
}
*/</textarea> <br> <button onclick="renderIframeForClientJavascript('3o5vK','0Q4wI')">Run</button> <iframe id="0Q4wI" class="result_iframe" style="display: none;"></iframe>
   <script>
  {let editor1 = CodeMirror.fromTextArea(document.getElementById("3o5vK"), {
    mode: "javascript",
    lineNumbers:false,
    tabSize: 2
    });
    const mode = localStorage.getItem("mode") || "light";  
    const newTheme = mode === "dark" ? "material" : "default";
    editor1.setOption("theme", newTheme);

    codeMirrorMap.set("3o5vK", editor1);}
  </script>
  </div>
 </div>
</div><p>This produces an object mapping categories to total sales.</p><h3 id="grouping-with-d3s-d3-group-and-aggregation">Grouping with D3s <code>d3.group</code> and Aggregation</h3><p>D3 provides helpful functions for grouping and aggregating:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const detailedSales = [
  { category: 'Books', sales: 200 },
  { category: 'Electronics', sales: 400 },
  { category: 'Books', sales: 300 },
  { category: 'Clothing', sales: 700 },
  { category: 'Electronics', sales: 800 }
];
const grouped = d3.group(detailedSales, d =&gt; d.category);

for (const [category, records] of grouped) {
  const totalSales = d3.sum(records, d =&gt; d.sales);
  console.log(`${category}: ${totalSales}`);
}
/* Output:
Books: 500
Electronics: 1200
Clothing: 700
*/</code></pre>
</div><div class="snippet-container" id="5pDFk">
 <div id="AervP_Dialog" class="dialog-backdrop">
  <div class="dialog">
   <h2>Dialog 1</h2>
   <div class="controls"><button onclick="renderIframe(this,'FKwDU_Textarea','AervP_IFrame')">Run</button> <button onclick="closeAll()">Close</button>
   </div>
   <div class="dialog-content"><textarea id="FKwDU_Textarea" class="textarea_dialog" placeholder="Type HTML here...">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;Sales Grouping with D3&lt;/title&gt;
  &lt;script src="https://d3js.org/d3.v7.min.js"&gt;&lt;/script&gt;
  &lt;style&gt;
    body {
      font-family: sans-serif;
      background: #f9f9f9;
      padding: 20px;
    }
    h2 {
      margin-bottom: 10px;
    }
    ul {
      list-style: none;
      padding-left: 0;
    }
    li {
      background: #fff;
      margin-bottom: 6px;
      padding: 10px;
      border-radius: 6px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h2&gt;Sales Summary by Category&lt;/h2&gt;
  &lt;ul id="salesList"&gt;&lt;/ul&gt;

  &lt;script&gt;
    const detailedSales = [
      { category: 'Books', sales: 200 },
      { category: 'Electronics', sales: 400 },
      { category: 'Books', sales: 300 },
      { category: 'Clothing', sales: 700 },
      { category: 'Electronics', sales: 800 }
    ];

    const grouped = d3.group(detailedSales, d =&gt; d.category);
    const salesList = document.getElementById('salesList');

    for (const [category, records] of grouped) {
      const totalSales = d3.sum(records, d =&gt; d.sales);
      console.log(`${category}: ${totalSales}`);

      const li = document.createElement('li');
      li.textContent = `${category}: $${totalSales.toLocaleString()}`;
      salesList.appendChild(li);
    }
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea> <iframe id="AervP_IFrame" class="iframe_dialog"></iframe>
   </div>
  </div>
 </div>
 <div class="snippet-header" onclick="toggleSnippetAndRefresh('5pDFk','FKwDU')">
  Click to Try it <!--<span onclick="toggleSnippetAndRefresh('5pDFk','FKwDU')">Click
			to Try it</span> --> <!-- <span onclick="openDialog('AervP_Dialog')">Dialog</span> -->
 </div>
 <div class="snippet-body"><textarea id="FKwDU">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;Sales Grouping with D3&lt;/title&gt;
  &lt;script src="https://d3js.org/d3.v7.min.js"&gt;&lt;/script&gt;
  &lt;style&gt;
    body {
      font-family: sans-serif;
      background: #f9f9f9;
      padding: 20px;
    }
    h2 {
      margin-bottom: 10px;
    }
    ul {
      list-style: none;
      padding-left: 0;
    }
    li {
      background: #fff;
      margin-bottom: 6px;
      padding: 10px;
      border-radius: 6px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h2&gt;Sales Summary by Category&lt;/h2&gt;
  &lt;ul id="salesList"&gt;&lt;/ul&gt;

  &lt;script&gt;
    const detailedSales = [
      { category: 'Books', sales: 200 },
      { category: 'Electronics', sales: 400 },
      { category: 'Books', sales: 300 },
      { category: 'Clothing', sales: 700 },
      { category: 'Electronics', sales: 800 }
    ];

    const grouped = d3.group(detailedSales, d =&gt; d.category);
    const salesList = document.getElementById('salesList');

    for (const [category, records] of grouped) {
      const totalSales = d3.sum(records, d =&gt; d.sales);
      console.log(`${category}: ${totalSales}`);

      const li = document.createElement('li');
      li.textContent = `${category}: $${totalSales.toLocaleString()}`;
      salesList.appendChild(li);
    }
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea> <br> <button onclick="renderIframe(this,'FKwDU','AervP')">Run</button>
  <div id="AervP_FloatingLog" class="floatingLog" aria-live="polite" role="alert"></div> <iframe id="AervP" class="result_iframe" style="display: none;"></iframe>
  <script>
			{
				let editor = CodeMirror.fromTextArea(document
						.getElementById("FKwDU"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    const mode = localStorage.getItem("mode") || "light";  
			    const newTheme = mode === "dark" ? "material" : "default";
			    editor.setOption("theme", newTheme);
			    
				codeMirrorMap.set("FKwDU", editor);

				let editor1 = CodeMirror.fromTextArea(document.getElementById("FKwDU_Textarea"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    editor1.setOption("theme", newTheme);				
				
				codeMirrorMap.set("FKwDU_Textarea", editor1);
			}
		    function openDialog(id) {
		        closeAll();
		        document.getElementById(id).style.display = 'flex';
		        setTimeout(() => {
		        	 codeMirrorMap.get("FKwDU_Textarea").refresh();
		        }, 100); // 100ms 
		      }

		      function closeAll() {
		        document.querySelectorAll('.dialog-backdrop').forEach(el => {
		          el.style.display = 'none';
		        });
		      }			
		</script>
 </div>
</div><h3 id="calculating-daily-averages-from-time-series-data">Calculating Daily Averages from Time Series Data</h3><p>Time series data often requires aggregation by date.</p><p>Example dataset:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const timeSeries = [
  { date: new Date('2023-06-01'), value: 10 },
  { date: new Date('2023-06-01'), value: 20 },
  { date: new Date('2023-06-02'), value: 15 },
  { date: new Date('2023-06-02'), value: 25 }
];

//Calculate average value per day:

const groupedByDate = d3.group(timeSeries, d =&gt; d.date.toISOString().split('T')[0]);

const dailyAverages = Array.from(groupedByDate, ([date, records]) =&gt; {
  const avg = d3.mean(records, d =&gt; d.value);
  return { date, average: avg };
});

console.log(JSON.stringify(dailyAverages,null,2));
/* Output:
[
  { date: '2023-06-01', average: 15 },
  { date: '2023-06-02', average: 20 }
]
*/</code></pre>
</div><div class="snippet-container" id="529Kp">
 <div id="iH9BM_Dialog" class="dialog-backdrop">
  <div class="dialog">
   <h2>Dialog 1</h2>
   <div class="controls"><button onclick="renderIframe(this,'s7GcQ_Textarea','iH9BM_IFrame')">Run</button> <button onclick="closeAll()">Close</button>
   </div>
   <div class="dialog-content"><textarea id="s7GcQ_Textarea" class="textarea_dialog" placeholder="Type HTML here...">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;D3 Time Series Averages&lt;/title&gt;
  &lt;script src="https://d3js.org/d3.v7.min.js"&gt;&lt;/script&gt;
  &lt;style&gt;
    body {
      font-family: sans-serif;
      background: #f9f9f9;
      padding: 20px;
    }
    h2 {
      margin-bottom: 12px;
    }
    ul {
      list-style: none;
      padding-left: 0;
    }
    li {
      background: #fff;
      margin-bottom: 8px;
      padding: 10px 16px;
      border-radius: 6px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.08);
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h2&gt;Daily Averages from Time Series&lt;/h2&gt;
  &lt;ul id="averageList"&gt;&lt;/ul&gt;

  &lt;script&gt;
    const timeSeries = [
      { date: new Date('2023-06-01'), value: 10 },
      { date: new Date('2023-06-01'), value: 20 },
      { date: new Date('2023-06-02'), value: 15 },
      { date: new Date('2023-06-02'), value: 25 }
    ];

    const groupedByDate = d3.group(timeSeries, d =&gt; d.date.toISOString().split('T')[0]);

    const dailyAverages = Array.from(groupedByDate, ([date, records]) =&gt; {
      const avg = d3.mean(records, d =&gt; d.value);
      return { date, average: avg };
    });

    console.log("Daily Averages:", JSON.stringify(dailyAverages, null, 2));

    const list = document.getElementById('averageList');
    dailyAverages.forEach(({ date, average }) =&gt; {
      const item = document.createElement('li');
      item.textContent = `${date}: Average = ${average.toFixed(2)}`;
      list.appendChild(item);
    });
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea> <iframe id="iH9BM_IFrame" class="iframe_dialog"></iframe>
   </div>
  </div>
 </div>
 <div class="snippet-header" onclick="toggleSnippetAndRefresh('529Kp','s7GcQ')">
  Click to Try it <!--<span onclick="toggleSnippetAndRefresh('529Kp','s7GcQ')">Click
			to Try it</span> --> <!-- <span onclick="openDialog('iH9BM_Dialog')">Dialog</span> -->
 </div>
 <div class="snippet-body"><textarea id="s7GcQ">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;D3 Time Series Averages&lt;/title&gt;
  &lt;script src="https://d3js.org/d3.v7.min.js"&gt;&lt;/script&gt;
  &lt;style&gt;
    body {
      font-family: sans-serif;
      background: #f9f9f9;
      padding: 20px;
    }
    h2 {
      margin-bottom: 12px;
    }
    ul {
      list-style: none;
      padding-left: 0;
    }
    li {
      background: #fff;
      margin-bottom: 8px;
      padding: 10px 16px;
      border-radius: 6px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.08);
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h2&gt;Daily Averages from Time Series&lt;/h2&gt;
  &lt;ul id="averageList"&gt;&lt;/ul&gt;

  &lt;script&gt;
    const timeSeries = [
      { date: new Date('2023-06-01'), value: 10 },
      { date: new Date('2023-06-01'), value: 20 },
      { date: new Date('2023-06-02'), value: 15 },
      { date: new Date('2023-06-02'), value: 25 }
    ];

    const groupedByDate = d3.group(timeSeries, d =&gt; d.date.toISOString().split('T')[0]);

    const dailyAverages = Array.from(groupedByDate, ([date, records]) =&gt; {
      const avg = d3.mean(records, d =&gt; d.value);
      return { date, average: avg };
    });

    console.log("Daily Averages:", JSON.stringify(dailyAverages, null, 2));

    const list = document.getElementById('averageList');
    dailyAverages.forEach(({ date, average }) =&gt; {
      const item = document.createElement('li');
      item.textContent = `${date}: Average = ${average.toFixed(2)}`;
      list.appendChild(item);
    });
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea> <br> <button onclick="renderIframe(this,'s7GcQ','iH9BM')">Run</button>
  <div id="iH9BM_FloatingLog" class="floatingLog" aria-live="polite" role="alert"></div> <iframe id="iH9BM" class="result_iframe" style="display: none;"></iframe>
  <script>
			{
				let editor = CodeMirror.fromTextArea(document
						.getElementById("s7GcQ"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    const mode = localStorage.getItem("mode") || "light";  
			    const newTheme = mode === "dark" ? "material" : "default";
			    editor.setOption("theme", newTheme);
			    
				codeMirrorMap.set("s7GcQ", editor);

				let editor1 = CodeMirror.fromTextArea(document.getElementById("s7GcQ_Textarea"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    editor1.setOption("theme", newTheme);				
				
				codeMirrorMap.set("s7GcQ_Textarea", editor1);
			}
		    function openDialog(id) {
		        closeAll();
		        document.getElementById(id).style.display = 'flex';
		        setTimeout(() => {
		        	 codeMirrorMap.get("s7GcQ_Textarea").refresh();
		        }, 100); // 100ms 
		      }

		      function closeAll() {
		        document.querySelectorAll('.dialog-backdrop').forEach(el => {
		          el.style.display = 'none';
		        });
		      }			
		</script>
 </div>
</div><h3 id="why-clean-and-prepared-data-matters">Why Clean and Prepared Data Matters</h3><p>Clean, well-structured data:</p><ul>
 <li>Makes your visualizations easier to create and maintain,</li>
 <li>Ensures accurate and meaningful insights,</li>
 <li>Reduces errors and unexpected bugs,</li>
 <li>Improves chart readability and interpretation.</li>
</ul><p>Poorly prepared data can lead to confusing, misleading, or cluttered visuals that hinder understanding.</p><h3 id="summary">Summary</h3><ul>
 <li>Use <strong>sorting</strong> to order data meaningfully.</li>
 <li>Apply <strong>filtering</strong> to focus on relevant subsets.</li>
 <li>Use <strong>mapping</strong> to transform data items.</li>
 <li>Group and aggregate data to summarize complex datasets, leveraging JavaScript’s <code>reduce</code> or D3’s <code>group</code>, <code>sum</code>, and <code>mean</code>.</li>
 <li>Prepare time series data by grouping by dates and calculating aggregates like daily averages.</li>
 <li>Clean, well-prepared data is fundamental for effective and trustworthy visualizations.</li>
</ul><div class = "chapter-navi-section">
<a href="javascript-data-visualization-fundamentals-of-data-visualization.htm" class="nav-button prev">←</a>
<a href='javascript-data-visualization.htm#working-with-data' class="nav-button toc-link">Index</a>
<a href="javascript-data-visualization-building-visuals-with-d3-js.htm" class="nav-button next">→</a>
</div>
<section class="download-section">
  <div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 16px;color: #333;top: 20px;">JavaScript Data Visualization</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 60px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAC0UlEQVR4Xu3dMWsUURSG4fwr2U6zJI0WKZSAaa0EG7tU2giWimLETrQQQRCxUDsbK3+IYOWCiFU06IQz356ZuffOvXdm4A28ze585OxDsLDZnR3zs1pf+rHavXhKWdpY2/Mf50HKEMgV+4cs/1z8/v6OMiTYm9Zfsz5M42r9VQNdLqArBXSlgK4U0JUCulKLgrb39aW7ObQY6PXl/S3Qrs6e1f3ULQZaMYfS/dTZ2xYDvff6g9tS7ge6YEBXCuhKAV0poCsFdKWArtQk0G9e3Tt9dnLc2+dPD1sboCOzv2Ool8/vujsFBtpJMYfydgoMtFMqWOpuLtnbgC6YvQ3ogtnbgC6YvQ3ogtnbgC6YvQ3ogtnbgC6YvQ3ogtnboqCvHR20xn11/UKF6gNL3Y1JP0dXV68fbG01+3wUtP6yvp4+OXZ3CtUHlrpL7ew/tvRz9KV7zT4LtGmW0O+/fnRr3l86tH4u/Xwhv88+C7QJ6MhdakBH7lIDOnKXGtCRu9SAjtylBnTkLjWgI3e67evnt7fnG6BH7EJqdkCP2IXU7IAesft169DN2wE9YqfAQDt35NgpMNDOHTl2Cgy0c0eOnQID7dxhXwvJ2ykw0M4d9rWQvJ0CA+3cYV8LydspMNDOHfa1C/cfuQ3tFBho5w77mgID/f99oCeGDsnbKXBp6JDUR7PPAm12QO8CvVXzfhe0QoWC6fOhOwUOhX7w4rGbt+vKPgu02QE9YqfAi4Meai7QITU7oEfsQmp2s4S+cfumW/P+XKDvXFm7ebtZQusBeshcoL8c7rt5O6BH7BQYaOeOHDsFBtq5I8dOgYF27sixU2CgnTty7BQYaOeOHDsFBtq5I8dOgRcHPVQXdEhT7Wb536RDAQ30Vs1uNtAUF9CVArpSQFcK6EoBXSmgK9WG5qtQi2RNV803KsuLlDn7RcpgF6qF3Pz8fWOjD1JyrS9g/wOlHj3Oru4PcQAAAABJRU5ErkJggg=="/>
  </div>
  <div class="download-info">
    <h2 id='bottom'>Download This Ebook</h2>
    <p class="format-label">Available formats:</p>
    <div class="download-buttons">
      <a href="javascript-data-visualization.pdf" class="download-button">📄 PDF</a>
      <a href="javascript-data-visualization.epub" class="download-button">📘 EPUB</a>
    </div>
  </div>
</section><div class='related-books'>
<h2>Javascript Web Front Books</h2>
<div class='related-book-list'>
<a href="javascript-canvas-programming.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 16px;color: #333;top: 10px;">JavaScript Canvas Programming</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 80px;height: 80px;top: 70px;" src='data:image/png;base64,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'/>
  </div>
</a>


<a href="javascript-dom-programming.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 16px;color: #333;top: 20px;">JavaScript DOM Programming</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 60px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAADUklEQVR4Xu2dv47TQBDGI0RDczY9rwMlrwEFBweC/t4EXRwaXuI6WiSaOLkCIZ6BCqTgPRFr8zkbnPF4Zuydn/RVuzsz33eSlX/2LRYRm1Xxe1MVOzY19eL6/6NzfqCw/ilEvXc2Mwh7pNiuyks8O1T1snyNfVLgWQ5hjxbcyCHskaJelVd4drCW5Vvsk6JzlkHYo6XXph5Q6hwEfUZASDhLqUOZ+Ri96vTa1ANKHQ+aAKWOB02AUseDJkCp40EToNTxoAlQ6njQBCh1PGgClDrZBs0l7JEi23eGXMIeKTbVxSs8O1Trm4tL7JMCz3IIe7Rsq+IXbh6iUA97nALPDxXWP4W29w5xMVwbG67rOBVR76LNAA9aiKyCbq49L0QbRmgGHXuul8VLXB+F3IPGtdGIm0o21gpay+89Gs01gtbwecDPz08eSQ8hHTT6C55xjwh3q+IZDhO0u148wL0cSAR93cyOfoKCV9wryu528RCHmpuCR/StRvOy7w8OOHUFT+jTDHdV+RwHnpqCB/SVFRLXaGfhQYvhQQvhQQvhQQvhQf8DXyZNXehPnW+fisc45FwUvKFfNXC4uQn9qvD1Y1maG4qB2NP3xiOui1NX5Zv9QNuq+IDrU6Xx8n7vq16WV7guTvxKYH1TvsP1qWLOl7mBmDDny9xATJjzZW4gJsz5MjcQE+Z8mRuICXO+zA3EhDlf5gZiwpwvcwMxYc6XuYGYMOfL3EBMmPNlbiAmzPkyNxAT5nyZG4gJc778Y1Ih/IN/QeKh5ij0q8acv5z9YenL2T045NSF/rIhfiWQ9Q9oxsaDFsKDFsKDFsKDFsKDjqj9ZqFx8dvfRubWb+gcn+Yv/hSHuh9swrcoh9nRT5DaLcpf/KZ7GXAIXB8D6aADGj5btJprBB3Q8nvQGNfGRCvogLjntT+8SubhVVohBzSDDoh6F20GeNBCzCZo7Qeh4vmhwvqnEPWOmzmEPVJk9Vhj3Mgh7JHi4LLApTMuL52zDMIeLb029YBSh+v6G85S6lBmPkavOr029YBSx4MmQKnjQROg1PGgCVDqeNAEKHU8aAKUOh40AUodD5oApU62QXMJe6TI9p0hl7BHitz+XTX3j2DO+gHKkfODhPVPsRnZ+1+tJg8Iaaje6wAAAABJRU5ErkJggg=="/>
  </div>
</a>


<a href="javascript-data-visualization.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 16px;color: #333;top: 20px;">JavaScript Data Visualization</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 60px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAC0UlEQVR4Xu3dMWsUURSG4fwr2U6zJI0WKZSAaa0EG7tU2giWimLETrQQQRCxUDsbK3+IYOWCiFU06IQz356ZuffOvXdm4A28ze585OxDsLDZnR3zs1pf+rHavXhKWdpY2/Mf50HKEMgV+4cs/1z8/v6OMiTYm9Zfsz5M42r9VQNdLqArBXSlgK4U0JUCulKLgrb39aW7ObQY6PXl/S3Qrs6e1f3ULQZaMYfS/dTZ2xYDvff6g9tS7ge6YEBXCuhKAV0poCsFdKWArtQk0G9e3Tt9dnLc2+dPD1sboCOzv2Ool8/vujsFBtpJMYfydgoMtFMqWOpuLtnbgC6YvQ3ogtnbgC6YvQ3ogtnbgC6YvQ3ogtnbgC6YvQ3ogtnboqCvHR20xn11/UKF6gNL3Y1JP0dXV68fbG01+3wUtP6yvp4+OXZ3CtUHlrpL7ew/tvRz9KV7zT4LtGmW0O+/fnRr3l86tH4u/Xwhv88+C7QJ6MhdakBH7lIDOnKXGtCRu9SAjtylBnTkLjWgI3e67evnt7fnG6BH7EJqdkCP2IXU7IAesft169DN2wE9YqfAQDt35NgpMNDOHTl2Cgy0c0eOnQID7dxhXwvJ2ykw0M4d9rWQvJ0CA+3cYV8LydspMNDOHfa1C/cfuQ3tFBho5w77mgID/f99oCeGDsnbKXBp6JDUR7PPAm12QO8CvVXzfhe0QoWC6fOhOwUOhX7w4rGbt+vKPgu02QE9YqfAi4Meai7QITU7oEfsQmp2s4S+cfumW/P+XKDvXFm7ebtZQusBeshcoL8c7rt5O6BH7BQYaOeOHDsFBtq5I8dOgYF27sixU2CgnTty7BQYaOeOHDsFBtq5I8dOgRcHPVQXdEhT7Wb536RDAQ30Vs1uNtAUF9CVArpSQFcK6EoBXSmgK9WG5qtQi2RNV803KsuLlDn7RcpgF6qF3Pz8fWOjD1JyrS9g/wOlHj3Oru4PcQAAAABJRU5ErkJggg=="/>
  </div>
</a>


<a href="jquery-in-depth.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 18px;color: #333;top: 20px;">jQuery In-Depth</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 65px;" src='data:image/png;base64,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'/>
  </div>
</a>



<a href='javascript.htm'><div class='book-cover' style='background-color: #f9f6f1;color: #111111;border: 1px solid #ccc;display: flex;justify-content: center;align-items: center;text-align: center;'>More Javascript Books</div></a>
</div>
</div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
  
  <script>
    function copyCode(button) {
      const code = button.nextElementSibling.innerText;
      navigator.clipboard.writeText(code).then(() => {
        button.textContent = 'Copied!';
        setTimeout(() => { button.textContent = 'Copy'; }, 1500);
      });
    }
  </script>  
<div id="floatingLog" aria-live="polite" role="alert"></div>
<footer class="page-footer">
    <nav>
      <a href="https://readbytes.github.io">Home</a> | 
      Email:<script language="JavaScript" type="text/javascript">
var part1 = 'yinpeng';var part6 = '263';var part2 = Math.pow(2,6);var part3 = String.fromCharCode(part2);var part4 = 'hotmail dot com';var part5 = part1 + String.fromCharCode(part2) + part4;document.write(part1 + part6 + part3 + part4);
</script>
    </nav>
  <p>© 2025 — All rights reserved.</p>    
  </footer>

</body>
</html>