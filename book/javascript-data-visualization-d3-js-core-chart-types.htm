<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>JavaScript Data Visualization D3.js Core Chart Types</title>
<link rel='shortcut icon' href='https://java2s.com/style/favicon.ico'>
<link href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" rel="stylesheet" />
<link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/material.css"> <!-- Dark theme -->
<script src="https://cdn.jsdelivr.net/npm/typescript@5/lib/typescript.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/htmlmixed/htmlmixed.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/xml/xml.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/css/css.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/typescript.min.js"></script>
<style>
    #floatingLog {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(20, 20, 20, 0.95);
      color: white;
      font-family: monospace;
      font-size: 14px;
      padding: 16px 20px;
      border-radius: 8px;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);
      max-width: 80%;
      max-height: 200px;
      overflow-y: auto;
      display: none;
      z-index: 9999;
      pointer-events: none;
      white-space: pre-wrap;
      text-align: center;
    }
</style>
<script>
  const codeMirrorMap = new Map();
  const iframeMap = new Map();
  
 

  let dismissTimer;
  function showFloatingLog(message) {
	const floatingLog = document.getElementById('floatingLog');

    if (floatingLog.style.display !== 'block') {
      floatingLog.textContent = '';
      floatingLog.style.display = 'block'; 
    }

    floatingLog.textContent += message + '\n';
    floatingLog.scrollTop = floatingLog.scrollHeight; 
    clearTimeout(dismissTimer);
    dismissTimer = setTimeout(() => {
      floatingLog.style.display = 'none';
      floatingLog.textContent = '';
    }, 2000);
  }
  window.addEventListener('message', (event) => {
	    if (!iframeMap.has(event.source)) return;

	    if (event.data?.type === 'console-log') {
	      showFloatingLog(event.data.message);
	    }
  });  
  function renderIframe(button,textarea_id, iframe_id) {
      const html = codeMirrorMap.get(textarea_id).getValue();
      const iframe = document.getElementById(iframe_id);
  
      const oldIframe = iframe;
      const newIframe = document.createElement('iframe');
      newIframe.className ="result_iframe";
      
      newIframe.id = iframe_id;
      oldIframe.replaceWith(newIframe);
 

      // Track the iframe in the map
      iframeMap.set(newIframe.contentWindow, button);

      const overrideScript = `
        <script>
          (function() {
            const originalLog = console.log;
            console.log = function(...args) {
              originalLog.apply(console, args);
              window.parent.postMessage({
                type: 'console-log',
                message: args.map(a => {
                  try { return JSON.stringify(a); }
                  catch { return String(a); }
                }).join(' ')
              }, '*');
            };
          })();
        <\/script>
      `;

      const iframeHTML = `
        <!DOCTYPE html>
        <html>
        <body>
          ${overrideScript}
          ${html}
        </body>
        </html>
      `;
 
      const doc = newIframe.contentDocument || newIframe.contentWindow.document;
      doc.open();
      doc.write(iframeHTML);
      doc.close();

      
      setTimeout(() => {
    	  newIframe.style.height = '0px';
    	   let contentHeight = Math.max(doc.body.scrollHeight,doc.documentElement.scrollHeight);
 
    	   if(contentHeight < 150 || contentHeight > 600){
    		   contentHeight = 600;
    	   } 
    	   newIframe.style.height = contentHeight + 'px';
    	}, 50);      
      
  }
  function renderIframeForClientTypescript(textarea_id, iframe_id) {
      let code = codeMirrorMap.get(textarea_id).getValue();
      code = ts.transpile(code);
      const iframe = document.getElementById(iframe_id);
      const doc = iframe.contentDocument || iframe.contentWindow.document;

const html = `
  <!DOCTYPE html>
  <html>
    <head>
      <title>Output</title>
      <style>
        body { font-family: monospace; padding: 1em; background: #f4f4f4; color: #222; }
        pre { white-space: pre-wrap; word-break: break-word; }
        .error { color: red; }
      </style>
    </head>
    <body>
      <pre id="log"></pre>
      <script>
        (function(){
          const logEl = document.getElementById('log');
          const origLog = console.log;
          const origError = console.error;

          console.log = (...args) => {
            logEl.textContent += args.join(' ') + '\\n';
            origLog.apply(console, args);
          };
          console.table = (...args) => {
            logEl.textContent += args.join(' ') + '\\n';
            origLog.apply(console, args);
          };

          console.error = (...args) => {
            logEl.innerHTML +='<span class="error">' + args.join(' ') + '</span>';
            origError.apply(console, args);
          };
          window.addEventListener("error", function (event) {
              console.error("Caught by event listener:", event.message);
          });    
          try {             
              ${code};
          } catch (err) {
            console.error(err.stack || err.message);
          }
        })();
      <\/script>
    </body>
  </html>
`;

      iframe.style.display = "block";
      iframe.srcdoc = html;  
  }

    function renderIframeForClientJavascript(textarea_id, iframe_id) {
        const code = codeMirrorMap.get(textarea_id).getValue();
        const iframe = document.getElementById(iframe_id);
        const doc = iframe.contentDocument || iframe.contentWindow.document;

  const html = `
    <!DOCTYPE html>
    <html>
      <head>
        <title>Output</title>
        <style>
          body { font-family: monospace; padding: 1em; background: #1e1e1e; color: #eee; }
          pre { white-space: pre-wrap; word-break: break-word; }
          .error { color: red; }
        </style>
      </head>
      <body>
        <pre id="log"></pre>
        <script>
          (function(){
            const logEl = document.getElementById('log');
            const origLog = console.log;
            const origError = console.error;

            console.log = (...args) => {
              logEl.textContent += args.join(' ') + '\\n';
              origLog.apply(console, args);
            };
            console.table = (...args) => {
              logEl.textContent += args.join(' ') + '\\n';
              origLog.apply(console, args);
            };

            console.error = (...args) => {
              logEl.innerHTML +='<span class="error">' + args.join(' ') + '</span>';
              origError.apply(console, args);
            };
            window.addEventListener("error", function (event) {
                console.error("Caught by event listener:", event.message);
            });    
            try {
             ${code}; 
            } catch (err) {
              console.error(err.stack || err.message);
            }
          })();
        <\/script>
      </body>
    </html>
  `;
        iframe.style.display = "block";
        iframe.srcdoc = html;  
    }
    function toggleSnippetAndRefresh(id, textarea_id) {
      const box = document.getElementById(id);
      box.classList.toggle("open");
      codeMirrorMap.get(textarea_id).refresh();
    }

  </script>
  <script>
  const mode = localStorage.getItem('mode') || 'light';
  document.documentElement.classList.add(`${mode}-mode`);
  </script>   
<style> 
html {
  scroll-behavior: smooth;
}

body {
  font-family: 'Merriweather', serif;
  margin: 0;
  padding: 2rem 1rem;
  font-size: 15px;
  line-height: 1.5;
  transition: background-color 0.3s, color 0.3s;
}

.container {
  max-width: 700px;
  margin: 0 auto;
  padding: 1rem 2rem;
  box-shadow: 0 0 15px rgba(0,0,0,0.1);
}

h1, h2, h3 {
  font-weight: 600;
  margin-top: 2.5rem;
  margin-bottom: 1rem;
  line-height: 1.2;
}

h1 { font-size: 1.8rem; }
h2 { font-size: 1.4rem; }
h3 { font-size: 1.2rem; }

table {
  width: 100%;
  border-collapse: collapse;
  font-family: sans-serif;
  font-size: 1em;
  margin: 1em 0;
}

th, td {
  padding: 0.6em 1em;
  text-align: left;
  border: 1px solid;
}

tr:nth-child(even) {
  background-color: inherit;
}

tr:hover {
  background-color: inherit;
}

a {
  text-decoration: none;
  transition: color 0.2s;
}

a:hover {
  text-decoration: underline;
}

code {
  color: #d35400;
}

.book-title-chapter {
  font-family: 'Merriweather', serif;
  font-size: 2rem;
  font-weight: bold;
  text-align: center;
  margin-bottom: 2rem;
  border-bottom: 2px solid;
  padding-bottom: 0.5rem;
}

.book-subtitle-chapter {
  text-align: center;
  font-size: 1rem;
  margin-top: -1rem;
  margin-bottom: 2rem;
}

.related-books {
  margin-top: 40px;
}

.related-book-list {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
}

    .book-cover {
      width: 130px;
      height: 180px;
      font-family: Arial, sans-serif;
      position: relative;
      overflow: hidden;      
      line-height: normal;
      box-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }
    .book-cover-bottom-stripe {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 5px;
      width: 100%;
    }
    .book-cover-title {
      position: absolute;
      width: 100%;
      text-align: center;
      font-weight: bold;
    }
     
    .book-cover-icon {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      align-items: center;
      justify-content: center; 
    }

    .book-cover-author {
      position: absolute;
      bottom: 10px;
      width: 100%;
      text-align: center;
      font-size: 8px;
      color: #333;
    }

.page-footer {
  margin-top: 4rem;
  padding: 1rem 0;
  text-align: center;
  font-size: 0.85rem;
  border-top: 1px solid;
}

.chapter-navi-section {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-bottom: 10px;
}

.nav-link {
  color: inherit;
  text-decoration: none;
  opacity: 0.5;
  transition: opacity 0.3s ease, text-decoration 0.3s ease;
}

.nav-link:hover {
  opacity: 0.9;
  text-decoration: underline;
}

.prev { text-align: left; }
.toc-link { text-align: center; }
.next { text-align: right; }

.download-section {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 2rem;
  padding: 2rem 1rem;
  max-width: 600px;
  margin: 3rem auto;
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

.download-info h2 {
  margin: 0 0 0.5rem;
  font-size: 1.2rem;
}

.format-label {
  margin: 0 0 0.5rem;
  font-size: 0.95rem;
}

.download-buttons {
  display: flex;
  gap: 1rem;
}

.download-button {
  background-color: #4A90E2;
  color: white;
  padding: 0.5em 1.2em;
  border-radius: 25px;
  font-size: 0.95rem;
  text-decoration: none;
  transition: background-color 0.3s ease;
}

.download-button:hover {
  background-color: #357ABD;
}

.code-block {
  position: relative;
  margin-bottom: 1em;
}

.copy-button {
  background: transparent;
  color: white;
  position: absolute;
  top: 8px;
  right: 8px;
  border: none;
  padding: 4px 8px;
  font-size: 12px;
  border-radius: 4px;
  cursor: pointer;
  z-index: 1;
}

.copy-button:hover {
  background-color: #0056b3;
}

.snippet-container {
  overflow: hidden;
}

.snippet-header {
  padding: 0.75rem 1rem;
  cursor: pointer;
  font-size: 1rem;
    background-color: #eeeeee;
    color:  #111111; 
    border-radius: 8px;
    cursor: pointer;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);  
}

.snippet-body {
  display: none;
  font-family: monospace;
}

.snippet-container.open .snippet-body {
  display: block;
}

.CodeMirror {
  border: 2px solid #ccc;
  border-radius: 4px;
  resize: vertical;
}

/* === Light Mode === */
html.light-mode {
  background-color: #f8f7f5;
  color: #333;
}

html.light-mode .container {
  background: white;
}

html.light-mode .book-title-chapter {
  color: #2c3e50;
  border-color: #ccc;
}
html.light-mode .book-subtitle-chapter{
  color: #888;
}

html.light-mode .page-footer,
html.light-mode .series-name,
html.light-mode .book-subtitle,
html.light-mode .format-label {
  color: #888;
}

html.light-mode .related-books h2 {
  color: #333;
  border-bottom: 2px solid #eee;
}

html.light-mode .book-title {
  color: #fff;
}

html.light-mode .book-cover {
  border: 1px solid #ccc;
}

html.light-mode th {
  background-color: #f2f2f2;
}

html.light-mode tr:nth-child(even) {
  background-color: #fafafa;
}

html.light-mode tr:hover {
  background-color: #e6f7ff;
}

html.light-mode a,
html.light-mode .page-footer a {
  color: #000;
}

/* === Dark Mode === */
html.dark-mode {
  background-color: #181818;
  color: #e0e0e0;
}

html.dark-mode .container {
  background: #222;
}

html.dark-mode .book-title-chapter {
  color: #ddd;
  border-color: #444;
}

html.dark-mode .snippet-header {
    background-color: #333;
    color:  #ddd; 
}


html.dark-mode .book-subtitle-chapter,
html.dark-mode .page-footer,
html.dark-mode .series-name,
html.dark-mode .book-subtitle,
html.dark-mode .book-footer,
html.dark-mode .format-label {
  color: #aaa;
}

html.dark-mode .related-books h2 {
  color: #ddd;
  border-bottom: 2px solid #333;
}

html.dark-mode .book-title {
  color: #fff;
}

html.dark-mode .book-cover {
  border: 1px solid #555;
}

html.dark-mode th {
  background-color: #333;
  color: #fff;
}

html.dark-mode td {
  border-color: #444;
}

html.dark-mode tr:nth-child(even) {
  background-color: #2a2a2a;
}

html.dark-mode tr:hover {
  background-color: #2c3e50;
}

html.dark-mode a,
html.dark-mode .page-footer a {
  color: #eee;
}

    .dialog-backdrop {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 10;
    }

    .dialog {
      background: white;
      padding: 20px;
      width: 90vw;
      height: 80vh;
      border-radius: 8px;
      box-shadow: 0 0 20px rgba(0,0,0,0.3);
      display: flex;
      flex-direction: column;
    }
    .dialog-content {
      display: flex;
      flex: 1;
      gap: 20px;
      margin-top: 10px;
    }
    .dialog h2 {
      margin-top: 0;
    }

    .textarea_dialog {
      width: 50%;
      height: 100%;
      resize: none;
      font-family: monospace;
      font-size: 14px;
      padding: 10px;
      box-sizing: border-box;
      border: 1px solid #ccc;
    }

    .iframe_dialog {
      width: 50%;
      height: 100%;
      border: 1px solid #ccc;
    }
    .controls_dialog {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
    }    
    button { padding: 0.5em 1em; background: green; color: white; border: none; cursor: pointer; }
    button:hover { background: #1e7e34; }
    .result_iframe { width:99%; height:200px; margin-top: 1em;  resize: both;border:1px solid #ccc;}        
</style>
</head>
<body> 
  <div class="container">
    <div class = "chapter-navi-section">
<a href="javascript-data-visualization-d3-js-drawing-with-svg.htm" class="nav-button prev">←</a>
<a href='javascript-data-visualization.htm#d3-js-core-chart-types' class="nav-button toc-link">Index</a>
<a href="javascript-data-visualization-d3-js-adding-interactivity.htm" class="nav-button next">→</a>
</div>

    <h1 class="book-title-chapter" id = 'top'>D3.js Core Chart Types</h1>
    <h3 class="book-subtitle-chapter">JavaScript Data Visualization</h3>   
    <!-- <h1 class ="chapter-title"></h1> -->
    <h2 id='bar-charts'>5.1 Bar Charts</h2><p>Bar charts are among the most common and effective ways to represent categorical data visually. They use rectangular bars whose lengths correspond to data values, making it easy to compare quantities across categories.</p><p>In this section, we will build a simple bar chart from an array of values using D3.js. You’ll learn how to:</p><ul>
 <li>Bind data to rectangles,</li>
 <li>Set up axes,</li>
 <li>Scale bar heights with <code>scaleLinear</code>,</li>
 <li>Use <code>scaleBand</code> for spacing bars,</li>
 <li>Add interactive tooltips for better user experience.</li>
</ul><h3 id="step-1-prepare-the-data-and-svg-container">Step 1: Prepare the Data and SVG Container</h3><p>Let's start with a simple array of numeric values:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const data = [25, 40, 15, 60, 20];</code></pre>
</div><p>And create an SVG container for the chart:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-html">&lt;svg width="500" height="300"&gt;&lt;/svg&gt;</code></pre>
</div><h3 id="step-2-define-margins-and-dimensions">Step 2: Define Margins and Dimensions</h3><p>Margins provide padding around the chart for axes and labels:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const svgWidth = 500;
const svgHeight = 300;
const margin = { top: 20, right: 20, bottom: 40, left: 40 };

const width = svgWidth - margin.left - margin.right;
const height = svgHeight - margin.top - margin.bottom;</code></pre>
</div><h3 id="step-3-set-up-scales">Step 3: Set Up Scales</h3><p>We use:</p><ul>
 <li><code>scaleBand</code> to map each bar to a horizontal position and control its width and spacing,</li>
 <li><code>scaleLinear</code> to scale the data values to bar heights.</li>
</ul><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const xScale = d3.scaleBand()
  .domain(data.map((d, i) =&gt; i))   // Use indices as categories
  .range([0, width])
  .padding(0.2);

const yScale = d3.scaleLinear()
  .domain([0, d3.max(data)])
  .range([height, 0]);             // Inverted range for SVG coordinates</code></pre>
</div><h3 id="step-4-append-a-group-for-chart-content">Step 4: Append a Group for Chart Content</h3><p>Translate the group to accommodate margins:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const svg = d3.select('svg')
  .attr('width', svgWidth)
  .attr('height', svgHeight);

const chartGroup = svg.append('g')
  .attr('transform', `translate(${margin.left},${margin.top})`);</code></pre>
</div><h3 id="step-5-draw-bars-using-data-join">Step 5: Draw Bars Using Data Join</h3><p>Bind data to rectangles, set their positions and sizes according to scales:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">chartGroup.selectAll('rect')
  .data(data)
  .enter()
  .append('rect')
  .attr('x', (d, i) =&gt; xScale(i))
  .attr('y', d =&gt; yScale(d))
  .attr('width', xScale.bandwidth())
  .attr('height', d =&gt; height - yScale(d))
  .attr('fill', 'steelblue');</code></pre>
</div><h3 id="step-6-add-axes">Step 6: Add Axes</h3><p>Create and append x and y axes for better readability:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const xAxis = d3.axisBottom(xScale)
  .tickFormat(i =&gt; `Item ${i + 1}`);

const yAxis = d3.axisLeft(yScale)
  .ticks(5);

chartGroup.append('g')
  .attr('transform', `translate(0,${height})`)
  .call(xAxis);

chartGroup.append('g')
  .call(yAxis);</code></pre>
</div><h3 id="bonus-add-tooltips-for-interactivity">Bonus: Add Tooltips for Interactivity</h3><p>Tooltips enhance user experience by showing exact data values on hover.</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">// Create a tooltip div (add to HTML body)
const tooltip = d3.select('body').append('div')
  .style('position', 'absolute')
  .style('background', '#f9f9f9')
  .style('padding', '5px 10px')
  .style('border', '1px solid #ccc')
  .style('border-radius', '4px')
  .style('pointer-events', 'none')
  .style('opacity', 0);

chartGroup.selectAll('rect')
  .on('mouseover', function(event, d) {
    tooltip.transition().duration(200).style('opacity', 0.9);
    tooltip.html(`Value: ${d}`)
      .style('left', (event.pageX + 10) + 'px')
      .style('top', (event.pageY - 28) + 'px');
    d3.select(this).attr('fill', 'orange');
  })
  .on('mouseout', function() {
    tooltip.transition().duration(500).style('opacity', 0);
    d3.select(this).attr('fill', 'steelblue');
  });</code></pre>
</div><h3 id="full-working-example">Full Working Example</h3><p>Here’s the complete code you can paste into an HTML file:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const data = [25, 40, 15, 60, 20];

    const svgWidth = 500;
    const svgHeight = 300;
    const margin = { top: 20, right: 20, bottom: 40, left: 40 };

    const width = svgWidth - margin.left - margin.right;
    const height = svgHeight - margin.top - margin.bottom;

    const svg = d3.select('svg')
      .attr('width', svgWidth)
      .attr('height', svgHeight);

    const xScale = d3.scaleBand()
      .domain(data.map((d, i) =&gt; i))
      .range([0, width])
      .padding(0.2);

    const yScale = d3.scaleLinear()
      .domain([0, d3.max(data)])
      .range([height, 0]);

    const chartGroup = svg.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);

    // Draw bars
    chartGroup.selectAll('rect')
      .data(data)
      .enter()
      .append('rect')
      .attr('x', (d, i) =&gt; xScale(i))
      .attr('y', d =&gt; yScale(d))
      .attr('width', xScale.bandwidth())
      .attr('height', d =&gt; height - yScale(d))
      .attr('fill', 'steelblue');

    // Axes
    const xAxis = d3.axisBottom(xScale)
      .tickFormat(i =&gt; `Item ${i + 1}`);

    const yAxis = d3.axisLeft(yScale)
      .ticks(5);

    chartGroup.append('g')
      .attr('transform', `translate(0,${height})`)
      .call(xAxis);

    chartGroup.append('g')
      .call(yAxis);

    // Tooltip
    const tooltip = d3.select('body').append('div')
      .style('position', 'absolute')
      .style('background', '#f9f9f9')
      .style('padding', '5px 10px')
      .style('border', '1px solid #ccc')
      .style('border-radius', '4px')
      .style('pointer-events', 'none')
      .style('opacity', 0);

    chartGroup.selectAll('rect')
      .on('mouseover', function(event, d) {
        tooltip.transition().duration(200).style('opacity', 0.9);
        tooltip.html(`Value: ${d}`)
          .style('left', (event.pageX + 10) + 'px')
          .style('top', (event.pageY - 28) + 'px');
        d3.select(this).attr('fill', 'orange');
      })
      .on('mouseout', function() {
        tooltip.transition().duration(500).style('opacity', 0);
        d3.select(this).attr('fill', 'steelblue');
      });</code></pre>
</div><div class="snippet-container" id="zN6Kc">
 <div id="JMtWf_Dialog" class="dialog-backdrop">
  <div class="dialog">
   <h2>Dialog 1</h2>
   <div class="controls"><button onclick="renderIframe(this,'5aj4G_Textarea','JMtWf_IFrame')">Run</button> <button onclick="closeAll()">Close</button>
   </div>
   <div class="dialog-content"><textarea id="5aj4G_Textarea" class="textarea_dialog" placeholder="Type HTML here...">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;D3 Bar Chart&lt;/title&gt;
  &lt;script src="https://d3js.org/d3.v7.min.js"&gt;&lt;/script&gt;
  &lt;style&gt;
    body { font-family: sans-serif; }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;svg width="500" height="300"&gt;&lt;/svg&gt;

  &lt;script&gt;
    const data = [25, 40, 15, 60, 20];

    const svgWidth = 500;
    const svgHeight = 300;
    const margin = { top: 20, right: 20, bottom: 40, left: 40 };

    const width = svgWidth - margin.left - margin.right;
    const height = svgHeight - margin.top - margin.bottom;

    const svg = d3.select('svg')
      .attr('width', svgWidth)
      .attr('height', svgHeight);

    const xScale = d3.scaleBand()
      .domain(data.map((d, i) =&gt; i))
      .range([0, width])
      .padding(0.2);

    const yScale = d3.scaleLinear()
      .domain([0, d3.max(data)])
      .range([height, 0]);

    const chartGroup = svg.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);

    // Draw bars
    chartGroup.selectAll('rect')
      .data(data)
      .enter()
      .append('rect')
      .attr('x', (d, i) =&gt; xScale(i))
      .attr('y', d =&gt; yScale(d))
      .attr('width', xScale.bandwidth())
      .attr('height', d =&gt; height - yScale(d))
      .attr('fill', 'steelblue');

    // Axes
    const xAxis = d3.axisBottom(xScale)
      .tickFormat(i =&gt; `Item ${i + 1}`);

    const yAxis = d3.axisLeft(yScale)
      .ticks(5);

    chartGroup.append('g')
      .attr('transform', `translate(0,${height})`)
      .call(xAxis);

    chartGroup.append('g')
      .call(yAxis);

    // Tooltip
    const tooltip = d3.select('body').append('div')
      .style('position', 'absolute')
      .style('background', '#f9f9f9')
      .style('padding', '5px 10px')
      .style('border', '1px solid #ccc')
      .style('border-radius', '4px')
      .style('pointer-events', 'none')
      .style('opacity', 0);

    chartGroup.selectAll('rect')
      .on('mouseover', function(event, d) {
        tooltip.transition().duration(200).style('opacity', 0.9);
        tooltip.html(`Value: ${d}`)
          .style('left', (event.pageX + 10) + 'px')
          .style('top', (event.pageY - 28) + 'px');
        d3.select(this).attr('fill', 'orange');
      })
      .on('mouseout', function() {
        tooltip.transition().duration(500).style('opacity', 0);
        d3.select(this).attr('fill', 'steelblue');
      });
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea> <iframe id="JMtWf_IFrame" class="iframe_dialog"></iframe>
   </div>
  </div>
 </div>
 <div class="snippet-header" onclick="toggleSnippetAndRefresh('zN6Kc','5aj4G')">
  Click to Try it <!--<span onclick="toggleSnippetAndRefresh('zN6Kc','5aj4G')">Click
			to Try it</span> --> <!-- <span onclick="openDialog('JMtWf_Dialog')">Dialog</span> -->
 </div>
 <div class="snippet-body"><textarea id="5aj4G">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;D3 Bar Chart&lt;/title&gt;
  &lt;script src="https://d3js.org/d3.v7.min.js"&gt;&lt;/script&gt;
  &lt;style&gt;
    body { font-family: sans-serif; }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;svg width="500" height="300"&gt;&lt;/svg&gt;

  &lt;script&gt;
    const data = [25, 40, 15, 60, 20];

    const svgWidth = 500;
    const svgHeight = 300;
    const margin = { top: 20, right: 20, bottom: 40, left: 40 };

    const width = svgWidth - margin.left - margin.right;
    const height = svgHeight - margin.top - margin.bottom;

    const svg = d3.select('svg')
      .attr('width', svgWidth)
      .attr('height', svgHeight);

    const xScale = d3.scaleBand()
      .domain(data.map((d, i) =&gt; i))
      .range([0, width])
      .padding(0.2);

    const yScale = d3.scaleLinear()
      .domain([0, d3.max(data)])
      .range([height, 0]);

    const chartGroup = svg.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);

    // Draw bars
    chartGroup.selectAll('rect')
      .data(data)
      .enter()
      .append('rect')
      .attr('x', (d, i) =&gt; xScale(i))
      .attr('y', d =&gt; yScale(d))
      .attr('width', xScale.bandwidth())
      .attr('height', d =&gt; height - yScale(d))
      .attr('fill', 'steelblue');

    // Axes
    const xAxis = d3.axisBottom(xScale)
      .tickFormat(i =&gt; `Item ${i + 1}`);

    const yAxis = d3.axisLeft(yScale)
      .ticks(5);

    chartGroup.append('g')
      .attr('transform', `translate(0,${height})`)
      .call(xAxis);

    chartGroup.append('g')
      .call(yAxis);

    // Tooltip
    const tooltip = d3.select('body').append('div')
      .style('position', 'absolute')
      .style('background', '#f9f9f9')
      .style('padding', '5px 10px')
      .style('border', '1px solid #ccc')
      .style('border-radius', '4px')
      .style('pointer-events', 'none')
      .style('opacity', 0);

    chartGroup.selectAll('rect')
      .on('mouseover', function(event, d) {
        tooltip.transition().duration(200).style('opacity', 0.9);
        tooltip.html(`Value: ${d}`)
          .style('left', (event.pageX + 10) + 'px')
          .style('top', (event.pageY - 28) + 'px');
        d3.select(this).attr('fill', 'orange');
      })
      .on('mouseout', function() {
        tooltip.transition().duration(500).style('opacity', 0);
        d3.select(this).attr('fill', 'steelblue');
      });
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea> <br> <button onclick="renderIframe(this,'5aj4G','JMtWf')">Run</button>
  <div id="JMtWf_FloatingLog" class="floatingLog" aria-live="polite" role="alert"></div> <iframe id="JMtWf" class="result_iframe" style="display: none;"></iframe>
  <script>
			{
				let editor = CodeMirror.fromTextArea(document
						.getElementById("5aj4G"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    const mode = localStorage.getItem("mode") || "light";  
			    const newTheme = mode === "dark" ? "material" : "default";
			    editor.setOption("theme", newTheme);
			    
				codeMirrorMap.set("5aj4G", editor);

				let editor1 = CodeMirror.fromTextArea(document.getElementById("5aj4G_Textarea"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    editor1.setOption("theme", newTheme);				
				
				codeMirrorMap.set("5aj4G_Textarea", editor1);
			}
		    function openDialog(id) {
		        closeAll();
		        document.getElementById(id).style.display = 'flex';
		        setTimeout(() => {
		        	 codeMirrorMap.get("5aj4G_Textarea").refresh();
		        }, 100); // 100ms 
		      }

		      function closeAll() {
		        document.querySelectorAll('.dialog-backdrop').forEach(el => {
		          el.style.display = 'none';
		        });
		      }			
		</script>
 </div>
</div><h3 id="summary">Summary</h3><ul>
 <li>Bar charts visualize data with rectangular bars sized proportionally to values.</li>
 <li>Use <code>scaleBand</code> for horizontal positioning and spacing of bars.</li>
 <li>Use <code>scaleLinear</code> to scale bar heights.</li>
 <li>Bind data to <code>&lt;rect&gt;</code> elements with D3’s data join.</li>
 <li>Add axes for context.</li>
 <li>Enhance charts with interactive tooltips for better user experience.</li>
</ul><p>Next, you can explore line charts or add animations to your bars for richer interaction.</p><div class = "chapter-navi-section">
<a href="#top" class="nav-button prev">↑</a>
<a href='javascript-data-visualization.htm#d3-js-core-chart-types' class="nav-button toc-link">Index</a>
<a href="#bottom" class="nav-button next">↓</a>
</div>
<h2 id='line-charts'>5.2 Line Charts</h2><p>Line charts are ideal for visualizing trends over continuous data, such as time series. They connect data points with lines, making it easy to see patterns, changes, and comparisons.</p><p>In this section, we’ll learn how to create line charts with D3 by:</p><ul>
 <li>Parsing date-based data,</li>
 <li>Using <code>d3.scaleTime()</code> for the x-axis,</li>
 <li>Creating lines with <code>d3.line()</code>,</li>
 <li>Smoothing curves,</li>
 <li>Plotting multiple data series on the same chart.</li>
</ul><h3 id="parsing-dates-and-setting-up-scales">Parsing Dates and Setting Up Scales</h3><p>Time data is typically stored as strings and needs to be parsed into JavaScript Date objects for D3 to work with them effectively.</p><p>Use <code>d3.timeParse</code> to convert date strings to Date objects:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const parseDate = d3.timeParse('%Y-%m-%d');</code></pre>
</div><p>Then, create a time scale (<code>scaleTime</code>) for the x-axis and a linear scale for the y-axis:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const xScale = d3.scaleTime()
  .domain(d3.extent(data, d =&gt; d.date))
  .range([0, width]);

const yScale = d3.scaleLinear()
  .domain([0, d3.max(data, d =&gt; d.value)])
  .range([height, 0]);</code></pre>
</div><h3 id="using-d3-line-to-create-paths">Using <code>d3.line()</code> to Create Paths</h3><p><code>d3.line()</code> generates the SVG path data string from your dataset.</p><p>You define:</p><ul>
 <li>How to extract x and y values from data points,</li>
 <li>Whether to smooth the line using curve functions like <code>d3.curveMonotoneX</code>.</li>
</ul><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const line = d3.line()
  .x(d =&gt; xScale(d.date))
  .y(d =&gt; yScale(d.value))
  .curve(d3.curveMonotoneX); // Smooth curve</code></pre>
</div><h3 id="example-multi-series-smoothed-line-chart">Example: Multi-Series Smoothed Line Chart</h3><p>Here is a full example with two series plotted on the same chart.</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const svg = d3.select('svg');
  const margin = { top: 30, right: 100, bottom: 50, left: 60 };
  const width = +svg.attr('width') - margin.left - margin.right;
  const height = +svg.attr('height') - margin.top - margin.bottom;

  const parseDate = d3.timeParse('%Y-%m-%d');

  // Sample multi-series data
  const data = [
    {
      name: 'Product A',
      values: [
        { date: '2023-01-01', value: 30 },
        { date: '2023-02-01', value: 50 },
        { date: '2023-03-01', value: 45 },
        { date: '2023-04-01', value: 60 }
      ]
    },
    {
      name: 'Product B',
      values: [
        { date: '2023-01-01', value: 20 },
        { date: '2023-02-01', value: 35 },
        { date: '2023-03-01', value: 55 },
        { date: '2023-04-01', value: 70 }
      ]
    }
  ];

  // Parse date strings
  data.forEach(series =&gt; {
    series.values.forEach(d =&gt; {
      d.date = parseDate(d.date);
    });
  });

  // Flatten all data points to get combined domains
  const allValues = data.flatMap(series =&gt; series.values);

  const xScale = d3.scaleTime()
    .domain(d3.extent(allValues, d =&gt; d.date))
    .range([0, width]);

  const yScale = d3.scaleLinear()
    .domain([0, d3.max(allValues, d =&gt; d.value)])
    .nice()
    .range([height, 0]);

  const color = d3.scaleOrdinal(d3.schemeCategory10)
    .domain(data.map(d =&gt; d.name));

  const line = d3.line()
    .x(d =&gt; xScale(d.date))
    .y(d =&gt; yScale(d.value))
    .curve(d3.curveMonotoneX);

  const chartGroup = svg.append('g')
    .attr('transform', `translate(${margin.left},${margin.top})`);

  // Draw axes
  chartGroup.append('g')
    .attr('transform', `translate(0,${height})`)
    .call(d3.axisBottom(xScale).ticks(5).tickFormat(d3.timeFormat('%b %Y')));

  chartGroup.append('g')
    .call(d3.axisLeft(yScale).ticks(6));

  // Draw lines for each series
  chartGroup.selectAll('.line')
    .data(data)
    .enter()
    .append('path')
    .attr('class', 'line')
    .attr('d', d =&gt; line(d.values))
    .attr('fill', 'none')
    .attr('stroke', d =&gt; color(d.name))
    .attr('stroke-width', 3);

  // Add legend
  const legend = svg.append('g')
    .attr('transform', `translate(${width + margin.left + 20},${margin.top})`);

  legend.selectAll('rect')
    .data(data)
    .enter()
    .append('rect')
    .attr('x', 0)
    .attr('y', (d, i) =&gt; i * 25)
    .attr('width', 18)
    .attr('height', 18)
    .attr('fill', d =&gt; color(d.name));

  legend.selectAll('text')
    .data(data)
    .enter()
    .append('text')
    .attr('x', 24)
    .attr('y', (d, i) =&gt; i * 25 + 14)
    .text(d =&gt; d.name)
    .attr('font-size', '14px');</code></pre>
</div><div class="snippet-container" id="6CKhC">
 <div id="SUSui_Dialog" class="dialog-backdrop">
  <div class="dialog">
   <h2>Dialog 1</h2>
   <div class="controls"><button onclick="renderIframe(this,'vY2rs_Textarea','SUSui_IFrame')">Run</button> <button onclick="closeAll()">Close</button>
   </div>
   <div class="dialog-content"><textarea id="vY2rs_Textarea" class="textarea_dialog" placeholder="Type HTML here...">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;script src="https://d3js.org/d3.v7.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;svg width="600" height="400"&gt;&lt;/svg&gt;
&lt;script src="https://d3js.org/d3.v7.min.js"&gt;&lt;/script&gt;
&lt;script&gt;
  const svg = d3.select('svg');
  const margin = { top: 30, right: 100, bottom: 50, left: 60 };
  const width = +svg.attr('width') - margin.left - margin.right;
  const height = +svg.attr('height') - margin.top - margin.bottom;

  const parseDate = d3.timeParse('%Y-%m-%d');

  // Sample multi-series data
  const data = [
    {
      name: 'Product A',
      values: [
        { date: '2023-01-01', value: 30 },
        { date: '2023-02-01', value: 50 },
        { date: '2023-03-01', value: 45 },
        { date: '2023-04-01', value: 60 }
      ]
    },
    {
      name: 'Product B',
      values: [
        { date: '2023-01-01', value: 20 },
        { date: '2023-02-01', value: 35 },
        { date: '2023-03-01', value: 55 },
        { date: '2023-04-01', value: 70 }
      ]
    }
  ];

  // Parse date strings
  data.forEach(series =&gt; {
    series.values.forEach(d =&gt; {
      d.date = parseDate(d.date);
    });
  });

  // Flatten all data points to get combined domains
  const allValues = data.flatMap(series =&gt; series.values);

  const xScale = d3.scaleTime()
    .domain(d3.extent(allValues, d =&gt; d.date))
    .range([0, width]);

  const yScale = d3.scaleLinear()
    .domain([0, d3.max(allValues, d =&gt; d.value)])
    .nice()
    .range([height, 0]);

  const color = d3.scaleOrdinal(d3.schemeCategory10)
    .domain(data.map(d =&gt; d.name));

  const line = d3.line()
    .x(d =&gt; xScale(d.date))
    .y(d =&gt; yScale(d.value))
    .curve(d3.curveMonotoneX);

  const chartGroup = svg.append('g')
    .attr('transform', `translate(${margin.left},${margin.top})`);

  // Draw axes
  chartGroup.append('g')
    .attr('transform', `translate(0,${height})`)
    .call(d3.axisBottom(xScale).ticks(5).tickFormat(d3.timeFormat('%b %Y')));

  chartGroup.append('g')
    .call(d3.axisLeft(yScale).ticks(6));

  // Draw lines for each series
  chartGroup.selectAll('.line')
    .data(data)
    .enter()
    .append('path')
    .attr('class', 'line')
    .attr('d', d =&gt; line(d.values))
    .attr('fill', 'none')
    .attr('stroke', d =&gt; color(d.name))
    .attr('stroke-width', 3);

  // Add legend
  const legend = svg.append('g')
    .attr('transform', `translate(${width + margin.left + 20},${margin.top})`);

  legend.selectAll('rect')
    .data(data)
    .enter()
    .append('rect')
    .attr('x', 0)
    .attr('y', (d, i) =&gt; i * 25)
    .attr('width', 18)
    .attr('height', 18)
    .attr('fill', d =&gt; color(d.name));

  legend.selectAll('text')
    .data(data)
    .enter()
    .append('text')
    .attr('x', 24)
    .attr('y', (d, i) =&gt; i * 25 + 14)
    .text(d =&gt; d.name)
    .attr('font-size', '14px');
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea> <iframe id="SUSui_IFrame" class="iframe_dialog"></iframe>
   </div>
  </div>
 </div>
 <div class="snippet-header" onclick="toggleSnippetAndRefresh('6CKhC','vY2rs')">
  Click to Try it <!--<span onclick="toggleSnippetAndRefresh('6CKhC','vY2rs')">Click
			to Try it</span> --> <!-- <span onclick="openDialog('SUSui_Dialog')">Dialog</span> -->
 </div>
 <div class="snippet-body"><textarea id="vY2rs">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;script src="https://d3js.org/d3.v7.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;svg width="600" height="400"&gt;&lt;/svg&gt;
&lt;script src="https://d3js.org/d3.v7.min.js"&gt;&lt;/script&gt;
&lt;script&gt;
  const svg = d3.select('svg');
  const margin = { top: 30, right: 100, bottom: 50, left: 60 };
  const width = +svg.attr('width') - margin.left - margin.right;
  const height = +svg.attr('height') - margin.top - margin.bottom;

  const parseDate = d3.timeParse('%Y-%m-%d');

  // Sample multi-series data
  const data = [
    {
      name: 'Product A',
      values: [
        { date: '2023-01-01', value: 30 },
        { date: '2023-02-01', value: 50 },
        { date: '2023-03-01', value: 45 },
        { date: '2023-04-01', value: 60 }
      ]
    },
    {
      name: 'Product B',
      values: [
        { date: '2023-01-01', value: 20 },
        { date: '2023-02-01', value: 35 },
        { date: '2023-03-01', value: 55 },
        { date: '2023-04-01', value: 70 }
      ]
    }
  ];

  // Parse date strings
  data.forEach(series =&gt; {
    series.values.forEach(d =&gt; {
      d.date = parseDate(d.date);
    });
  });

  // Flatten all data points to get combined domains
  const allValues = data.flatMap(series =&gt; series.values);

  const xScale = d3.scaleTime()
    .domain(d3.extent(allValues, d =&gt; d.date))
    .range([0, width]);

  const yScale = d3.scaleLinear()
    .domain([0, d3.max(allValues, d =&gt; d.value)])
    .nice()
    .range([height, 0]);

  const color = d3.scaleOrdinal(d3.schemeCategory10)
    .domain(data.map(d =&gt; d.name));

  const line = d3.line()
    .x(d =&gt; xScale(d.date))
    .y(d =&gt; yScale(d.value))
    .curve(d3.curveMonotoneX);

  const chartGroup = svg.append('g')
    .attr('transform', `translate(${margin.left},${margin.top})`);

  // Draw axes
  chartGroup.append('g')
    .attr('transform', `translate(0,${height})`)
    .call(d3.axisBottom(xScale).ticks(5).tickFormat(d3.timeFormat('%b %Y')));

  chartGroup.append('g')
    .call(d3.axisLeft(yScale).ticks(6));

  // Draw lines for each series
  chartGroup.selectAll('.line')
    .data(data)
    .enter()
    .append('path')
    .attr('class', 'line')
    .attr('d', d =&gt; line(d.values))
    .attr('fill', 'none')
    .attr('stroke', d =&gt; color(d.name))
    .attr('stroke-width', 3);

  // Add legend
  const legend = svg.append('g')
    .attr('transform', `translate(${width + margin.left + 20},${margin.top})`);

  legend.selectAll('rect')
    .data(data)
    .enter()
    .append('rect')
    .attr('x', 0)
    .attr('y', (d, i) =&gt; i * 25)
    .attr('width', 18)
    .attr('height', 18)
    .attr('fill', d =&gt; color(d.name));

  legend.selectAll('text')
    .data(data)
    .enter()
    .append('text')
    .attr('x', 24)
    .attr('y', (d, i) =&gt; i * 25 + 14)
    .text(d =&gt; d.name)
    .attr('font-size', '14px');
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea> <br> <button onclick="renderIframe(this,'vY2rs','SUSui')">Run</button>
  <div id="SUSui_FloatingLog" class="floatingLog" aria-live="polite" role="alert"></div> <iframe id="SUSui" class="result_iframe" style="display: none;"></iframe>
  <script>
			{
				let editor = CodeMirror.fromTextArea(document
						.getElementById("vY2rs"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    const mode = localStorage.getItem("mode") || "light";  
			    const newTheme = mode === "dark" ? "material" : "default";
			    editor.setOption("theme", newTheme);
			    
				codeMirrorMap.set("vY2rs", editor);

				let editor1 = CodeMirror.fromTextArea(document.getElementById("vY2rs_Textarea"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    editor1.setOption("theme", newTheme);				
				
				codeMirrorMap.set("vY2rs_Textarea", editor1);
			}
		    function openDialog(id) {
		        closeAll();
		        document.getElementById(id).style.display = 'flex';
		        setTimeout(() => {
		        	 codeMirrorMap.get("vY2rs_Textarea").refresh();
		        }, 100); // 100ms 
		      }

		      function closeAll() {
		        document.querySelectorAll('.dialog-backdrop').forEach(el => {
		          el.style.display = 'none';
		        });
		      }			
		</script>
 </div>
</div><h3 id="explanation">Explanation</h3><ul>
 <li><strong>Parsing Dates</strong>: We convert date strings to Date objects so the time scale works correctly.</li>
 <li><strong>Scales</strong>: <code>scaleTime</code> maps dates to horizontal positions, <code>scaleLinear</code> maps values vertically.</li>
 <li><strong>Line Generator</strong>: <code>d3.line()</code> creates the path; <code>.curve(d3.curveMonotoneX)</code> smooths the line while preserving monotonicity.</li>
 <li><strong>Multiple Series</strong>: We loop through each data series, drawing a separate path with a distinct color.</li>
 <li><strong>Legend</strong>: Colored boxes and text label each series for clarity.</li>
</ul><h3 id="summary">Summary</h3><ul>
 <li>Use <code>d3.scaleTime()</code> to handle dates on your x-axis.</li>
 <li>Convert date strings to Date objects with <code>d3.timeParse</code>.</li>
 <li>Generate line paths with <code>d3.line()</code>, specifying x and y accessors.</li>
 <li>Smooth lines with curve functions like <code>curveMonotoneX</code>.</li>
 <li>Plot multiple data series by binding each series to a separate <code>&lt;path&gt;</code>.</li>
 <li>Add axes and legends for context and clarity.</li>
</ul><div class = "chapter-navi-section">
<a href="#top" class="nav-button prev">↑</a>
<a href='javascript-data-visualization.htm#d3-js-core-chart-types' class="nav-button toc-link">Index</a>
<a href="#bottom" class="nav-button next">↓</a>
</div>
<h2 id='scatter-plots'>5.3 Scatter Plots</h2><p>Scatter plots visualize the relationship between two numeric variables by plotting points on a Cartesian coordinate system. They are essential for identifying patterns, correlations, or clusters in data.</p><p>In this section, we’ll create a scatter plot using D3.js by:</p><ul>
 <li>Plotting data points as SVG <code>circle</code> elements,</li>
 <li>Using <code>scaleLinear</code> for both x and y axes,</li>
 <li>Adding labeled axes,</li>
 <li>Encoding a third variable as color,</li>
 <li>Adding interactive tooltips for detailed insights.</li>
</ul><h3 id="step-1-prepare-the-data-and-svg-container">Step 1: Prepare the Data and SVG Container</h3><p>Consider the following sample dataset where each point has <code>x</code>, <code>y</code>, and <code>category</code> values:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const data = [
  { x: 34, y: 78, category: 'A' },
  { x: 109, y: 280, category: 'B' },
  { x: 310, y: 120, category: 'A' },
  { x: 79, y: 411, category: 'C' },
  { x: 420, y: 220, category: 'B' },
  { x: 233, y: 145, category: 'C' },
];</code></pre>
</div><p>And create an SVG element:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-html">&lt;svg width="600" height="400"&gt;&lt;/svg&gt;</code></pre>
</div><h3 id="step-2-define-margins-and-dimensions">Step 2: Define Margins and Dimensions</h3><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const svgWidth = 600;
const svgHeight = 400;
const margin = { top: 20, right: 30, bottom: 50, left: 60 };

const width = svgWidth - margin.left - margin.right;
const height = svgHeight - margin.top - margin.bottom;</code></pre>
</div><h3 id="step-3-create-scales-for-x-y-and-color">Step 3: Create Scales for x, y, and Color</h3><p>We will create:</p><ul>
 <li><code>xScale</code> and <code>yScale</code> as linear scales mapping data to pixels,</li>
 <li>A color scale to encode categories.</li>
</ul><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const xScale = d3.scaleLinear()
  .domain([0, d3.max(data, d =&gt; d.x)]).nice()
  .range([0, width]);

const yScale = d3.scaleLinear()
  .domain([0, d3.max(data, d =&gt; d.y)]).nice()
  .range([height, 0]);  // Inverted range for SVG coordinate system

const colorScale = d3.scaleOrdinal()
  .domain([...new Set(data.map(d =&gt; d.category))])
  .range(d3.schemeCategory10);</code></pre>
</div><h3 id="step-4-append-chart-group-and-draw-axes">Step 4: Append Chart Group and Draw Axes</h3><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const svg = d3.select('svg')
  .attr('width', svgWidth)
  .attr('height', svgHeight);

const chartGroup = svg.append('g')
  .attr('transform', `translate(${margin.left},${margin.top})`);

const xAxis = d3.axisBottom(xScale);
const yAxis = d3.axisLeft(yScale);

chartGroup.append('g')
  .attr('transform', `translate(0,${height})`)
  .call(xAxis)
  .append('text')
  .attr('x', width / 2)
  .attr('y', 40)
  .attr('fill', 'black')
  .attr('text-anchor', 'middle')
  .attr('font-size', '14px')
  .text('X Value');

chartGroup.append('g')
  .call(yAxis)
  .append('text')
  .attr('transform', 'rotate(-90)')
  .attr('x', -height / 2)
  .attr('y', -45)
  .attr('fill', 'black')
  .attr('text-anchor', 'middle')
  .attr('font-size', '14px')
  .text('Y Value');</code></pre>
</div><h3 id="step-5-plot-points-with-circles-and-color-encoding">Step 5: Plot Points with Circles and Color Encoding</h3><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">chartGroup.selectAll('circle')
  .data(data)
  .enter()
  .append('circle')
  .attr('cx', d =&gt; xScale(d.x))
  .attr('cy', d =&gt; yScale(d.y))
  .attr('r', 7)
  .attr('fill', d =&gt; colorScale(d.category))
  .attr('opacity', 0.8);</code></pre>
</div><h3 id="step-6-add-tooltips-for-interactivity">Step 6: Add Tooltips for Interactivity</h3><p>Tooltips show details when hovering over points.</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const tooltip = d3.select('body').append('div')
  .style('position', 'absolute')
  .style('background', '#fff')
  .style('padding', '6px 10px')
  .style('border', '1px solid #ccc')
  .style('border-radius', '4px')
  .style('pointer-events', 'none')
  .style('opacity', 0);

chartGroup.selectAll('circle')
  .on('mouseover', (event, d) =&gt; {
    tooltip.transition().duration(200).style('opacity', 0.9);
    tooltip.html(
      `&lt;strong&gt;Category:&lt;/strong&gt; ${d.category}&lt;br/&gt;
       &lt;strong&gt;X:&lt;/strong&gt; ${d.x}&lt;br/&gt;
       &lt;strong&gt;Y:&lt;/strong&gt; ${d.y}`
    )
    .style('left', (event.pageX + 10) + 'px')
    .style('top', (event.pageY - 28) + 'px');
  })
  .on('mouseout', () =&gt; {
    tooltip.transition().duration(500).style('opacity', 0);
  });</code></pre>
</div><h3 id="full-example">Full Example</h3><p>Here is the complete HTML + JavaScript code you can use:</p><div class="snippet-container" id="gQYU6">
 <div id="oLr95_Dialog" class="dialog-backdrop">
  <div class="dialog">
   <h2>Dialog 1</h2>
   <div class="controls"><button onclick="renderIframe(this,'l1CJ4_Textarea','oLr95_IFrame')">Run</button> <button onclick="closeAll()">Close</button>
   </div>
   <div class="dialog-content"><textarea id="l1CJ4_Textarea" class="textarea_dialog" placeholder="Type HTML here...">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;D3 Scatter Plot&lt;/title&gt;
  &lt;script src="https://d3js.org/d3.v7.min.js"&gt;&lt;/script&gt;
  &lt;style&gt;
    body { font-family: sans-serif; }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;svg width="600" height="400"&gt;&lt;/svg&gt;

  &lt;script&gt;
    const data = [
      { x: 34, y: 78, category: 'A' },
      { x: 109, y: 280, category: 'B' },
      { x: 310, y: 120, category: 'A' },
      { x: 79, y: 411, category: 'C' },
      { x: 420, y: 220, category: 'B' },
      { x: 233, y: 145, category: 'C' },
    ];

    const svgWidth = 600;
    const svgHeight = 400;
    const margin = { top: 20, right: 30, bottom: 50, left: 60 };

    const width = svgWidth - margin.left - margin.right;
    const height = svgHeight - margin.top - margin.bottom;

    const svg = d3.select('svg')
      .attr('width', svgWidth)
      .attr('height', svgHeight);

    const chartGroup = svg.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);

    const xScale = d3.scaleLinear()
      .domain([0, d3.max(data, d =&gt; d.x)]).nice()
      .range([0, width]);

    const yScale = d3.scaleLinear()
      .domain([0, d3.max(data, d =&gt; d.y)]).nice()
      .range([height, 0]);

    const colorScale = d3.scaleOrdinal()
      .domain([...new Set(data.map(d =&gt; d.category))])
      .range(d3.schemeCategory10);

    const xAxis = d3.axisBottom(xScale);
    const yAxis = d3.axisLeft(yScale);

    chartGroup.append('g')
      .attr('transform', `translate(0,${height})`)
      .call(xAxis)
      .append('text')
      .attr('x', width / 2)
      .attr('y', 40)
      .attr('fill', 'black')
      .attr('text-anchor', 'middle')
      .attr('font-size', '14px')
      .text('X Value');

    chartGroup.append('g')
      .call(yAxis)
      .append('text')
      .attr('transform', 'rotate(-90)')
      .attr('x', -height / 2)
      .attr('y', -45)
      .attr('fill', 'black')
      .attr('text-anchor', 'middle')
      .attr('font-size', '14px')
      .text('Y Value');

    chartGroup.selectAll('circle')
      .data(data)
      .enter()
      .append('circle')
      .attr('cx', d =&gt; xScale(d.x))
      .attr('cy', d =&gt; yScale(d.y))
      .attr('r', 7)
      .attr('fill', d =&gt; colorScale(d.category))
      .attr('opacity', 0.8);

    const tooltip = d3.select('body').append('div')
      .style('position', 'absolute')
      .style('background', '#fff')
      .style('padding', '6px 10px')
      .style('border', '1px solid #ccc')
      .style('border-radius', '4px')
      .style('pointer-events', 'none')
      .style('opacity', 0);

    chartGroup.selectAll('circle')
      .on('mouseover', (event, d) =&gt; {
        tooltip.transition().duration(200).style('opacity', 0.9);
        tooltip.html(
          `&lt;strong&gt;Category:&lt;/strong&gt; ${d.category}&lt;br/&gt;
           &lt;strong&gt;X:&lt;/strong&gt; ${d.x}&lt;br/&gt;
           &lt;strong&gt;Y:&lt;/strong&gt; ${d.y}`
        )
        .style('left', (event.pageX + 10) + 'px')
        .style('top', (event.pageY - 28) + 'px');
      })
      .on('mouseout', () =&gt; {
        tooltip.transition().duration(500).style('opacity', 0);
      });
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea> <iframe id="oLr95_IFrame" class="iframe_dialog"></iframe>
   </div>
  </div>
 </div>
 <div class="snippet-header" onclick="toggleSnippetAndRefresh('gQYU6','l1CJ4')">
  Click to Try it <!--<span onclick="toggleSnippetAndRefresh('gQYU6','l1CJ4')">Click
			to Try it</span> --> <!-- <span onclick="openDialog('oLr95_Dialog')">Dialog</span> -->
 </div>
 <div class="snippet-body"><textarea id="l1CJ4">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;D3 Scatter Plot&lt;/title&gt;
  &lt;script src="https://d3js.org/d3.v7.min.js"&gt;&lt;/script&gt;
  &lt;style&gt;
    body { font-family: sans-serif; }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;svg width="600" height="400"&gt;&lt;/svg&gt;

  &lt;script&gt;
    const data = [
      { x: 34, y: 78, category: 'A' },
      { x: 109, y: 280, category: 'B' },
      { x: 310, y: 120, category: 'A' },
      { x: 79, y: 411, category: 'C' },
      { x: 420, y: 220, category: 'B' },
      { x: 233, y: 145, category: 'C' },
    ];

    const svgWidth = 600;
    const svgHeight = 400;
    const margin = { top: 20, right: 30, bottom: 50, left: 60 };

    const width = svgWidth - margin.left - margin.right;
    const height = svgHeight - margin.top - margin.bottom;

    const svg = d3.select('svg')
      .attr('width', svgWidth)
      .attr('height', svgHeight);

    const chartGroup = svg.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);

    const xScale = d3.scaleLinear()
      .domain([0, d3.max(data, d =&gt; d.x)]).nice()
      .range([0, width]);

    const yScale = d3.scaleLinear()
      .domain([0, d3.max(data, d =&gt; d.y)]).nice()
      .range([height, 0]);

    const colorScale = d3.scaleOrdinal()
      .domain([...new Set(data.map(d =&gt; d.category))])
      .range(d3.schemeCategory10);

    const xAxis = d3.axisBottom(xScale);
    const yAxis = d3.axisLeft(yScale);

    chartGroup.append('g')
      .attr('transform', `translate(0,${height})`)
      .call(xAxis)
      .append('text')
      .attr('x', width / 2)
      .attr('y', 40)
      .attr('fill', 'black')
      .attr('text-anchor', 'middle')
      .attr('font-size', '14px')
      .text('X Value');

    chartGroup.append('g')
      .call(yAxis)
      .append('text')
      .attr('transform', 'rotate(-90)')
      .attr('x', -height / 2)
      .attr('y', -45)
      .attr('fill', 'black')
      .attr('text-anchor', 'middle')
      .attr('font-size', '14px')
      .text('Y Value');

    chartGroup.selectAll('circle')
      .data(data)
      .enter()
      .append('circle')
      .attr('cx', d =&gt; xScale(d.x))
      .attr('cy', d =&gt; yScale(d.y))
      .attr('r', 7)
      .attr('fill', d =&gt; colorScale(d.category))
      .attr('opacity', 0.8);

    const tooltip = d3.select('body').append('div')
      .style('position', 'absolute')
      .style('background', '#fff')
      .style('padding', '6px 10px')
      .style('border', '1px solid #ccc')
      .style('border-radius', '4px')
      .style('pointer-events', 'none')
      .style('opacity', 0);

    chartGroup.selectAll('circle')
      .on('mouseover', (event, d) =&gt; {
        tooltip.transition().duration(200).style('opacity', 0.9);
        tooltip.html(
          `&lt;strong&gt;Category:&lt;/strong&gt; ${d.category}&lt;br/&gt;
           &lt;strong&gt;X:&lt;/strong&gt; ${d.x}&lt;br/&gt;
           &lt;strong&gt;Y:&lt;/strong&gt; ${d.y}`
        )
        .style('left', (event.pageX + 10) + 'px')
        .style('top', (event.pageY - 28) + 'px');
      })
      .on('mouseout', () =&gt; {
        tooltip.transition().duration(500).style('opacity', 0);
      });
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea> <br> <button onclick="renderIframe(this,'l1CJ4','oLr95')">Run</button>
  <div id="oLr95_FloatingLog" class="floatingLog" aria-live="polite" role="alert"></div> <iframe id="oLr95" class="result_iframe" style="display: none;"></iframe>
  <script>
			{
				let editor = CodeMirror.fromTextArea(document
						.getElementById("l1CJ4"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    const mode = localStorage.getItem("mode") || "light";  
			    const newTheme = mode === "dark" ? "material" : "default";
			    editor.setOption("theme", newTheme);
			    
				codeMirrorMap.set("l1CJ4", editor);

				let editor1 = CodeMirror.fromTextArea(document.getElementById("l1CJ4_Textarea"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    editor1.setOption("theme", newTheme);				
				
				codeMirrorMap.set("l1CJ4_Textarea", editor1);
			}
		    function openDialog(id) {
		        closeAll();
		        document.getElementById(id).style.display = 'flex';
		        setTimeout(() => {
		        	 codeMirrorMap.get("l1CJ4_Textarea").refresh();
		        }, 100); // 100ms 
		      }

		      function closeAll() {
		        document.querySelectorAll('.dialog-backdrop').forEach(el => {
		          el.style.display = 'none';
		        });
		      }			
		</script>
 </div>
</div><h3 id="summary">Summary</h3><ul>
 <li>Scatter plots display points representing two quantitative variables.</li>
 <li>Use <code>scaleLinear</code> to map both axes to pixel ranges.</li>
 <li>Color can encode a third categorical or numeric variable.</li>
 <li>Axes provide context with ticks and labels.</li>
 <li>Tooltips improve usability by revealing details on hover.</li>
</ul><div class = "chapter-navi-section">
<a href="#top" class="nav-button prev">↑</a>
<a href='javascript-data-visualization.htm#d3-js-core-chart-types' class="nav-button toc-link">Index</a>
<a href="#bottom" class="nav-button next">↓</a>
</div>
<h2 id='pie-donut-charts'>5.4 Pie/Donut Charts</h2><p>Pie and donut charts are popular for showing parts of a whole — how categories contribute proportionally to a total. They represent data as slices of a circle, where each slice’s angle corresponds to the category’s value.</p><p>In this section, you’ll learn how to build pie and donut charts using D3’s <code>d3.pie()</code> and <code>d3.arc()</code> generators. You’ll also see how to use color scales to differentiate slices and add labels or legends for clarity.</p><h3 id="understanding-the-core-concepts">Understanding the Core Concepts</h3><ul>
 <li><strong><code>d3.pie()</code></strong> processes your data array and computes the start and end angles for each slice.</li>
 <li><strong><code>d3.arc()</code></strong> generates the SVG path commands needed to draw each slice based on those angles.</li>
 <li>For donut charts, you set an inner radius to create a hole in the center.</li>
</ul><h3 id="step-1-prepare-your-data-and-svg">Step 1: Prepare Your Data and SVG</h3><p>Here’s a sample dataset representing sales by category:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const data = [
  { category: 'Books', value: 30 },
  { category: 'Electronics', value: 70 },
  { category: 'Clothing', value: 45 },
  { category: 'Sports', value: 20 }
];</code></pre>
</div><p>Create an SVG container:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-html">&lt;svg width="400" height="400"&gt;&lt;/svg&gt;</code></pre>
</div><h3 id="step-2-set-dimensions-and-radius">Step 2: Set Dimensions and Radius</h3><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const width = 400;
const height = 400;
const margin = 40;

const radius = Math.min(width, height) / 2 - margin;</code></pre>
</div><h3 id="step-3-create-color-scale">Step 3: Create Color Scale</h3><p>Use a categorical color scale to assign different colors to each slice:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const color = d3.scaleOrdinal()
  .domain(data.map(d =&gt; d.category))
  .range(d3.schemeCategory10);</code></pre>
</div><h3 id="step-4-generate-pie-layout-and-arc-path">Step 4: Generate Pie Layout and Arc Path</h3><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const pie = d3.pie()
  .value(d =&gt; d.value)
  .sort(null);  // Keep original data order

const arc = d3.arc()
  .innerRadius(0)         // For pie chart; use &gt; 0 for donut
  .outerRadius(radius);</code></pre>
</div><h3 id="step-5-append-group-and-draw-slices">Step 5: Append Group and Draw Slices</h3><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const svg = d3.select('svg')
  .attr('width', width)
  .attr('height', height)
  .append('g')
  .attr('transform', `translate(${width/2},${height/2})`);  // Center group

const arcs = svg.selectAll('arc')
  .data(pie(data))
  .enter()
  .append('path')
  .attr('d', arc)
  .attr('fill', d =&gt; color(d.data.category))
  .attr('stroke', 'white')
  .style('stroke-width', '2px');</code></pre>
</div><h3 id="step-6-add-labels-to-slices">Step 6: Add Labels to Slices</h3><p>Place labels at the centroid of each slice:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">svg.selectAll('text')
  .data(pie(data))
  .enter()
  .append('text')
  .attr('transform', d =&gt; `translate(${arc.centroid(d)})`)
  .attr('text-anchor', 'middle')
  .attr('font-size', '14px')
  .attr('fill', 'white')
  .text(d =&gt; d.data.category);</code></pre>
</div><h3 id="step-7-creating-a-donut-chart">Step 7: Creating a Donut Chart</h3><p>To convert the pie chart into a donut chart, simply set a non-zero <code>innerRadius</code>:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const donutArc = d3.arc()
  .innerRadius(radius * 0.5)  // Creates the hole (50% radius)
  .outerRadius(radius);

svg.selectAll('path')
  .data(pie(data))
  .join('path')
  .attr('d', donutArc)
  .attr('fill', d =&gt; color(d.data.category))
  .attr('stroke', 'white')
  .style('stroke-width', '2px');</code></pre>
</div><h3 id="full-example-pie-chart-with-labels">Full Example: Pie Chart with Labels</h3><div class="snippet-container" id="6QPrp">
 <div id="IuNLO_Dialog" class="dialog-backdrop">
  <div class="dialog">
   <h2>Dialog 1</h2>
   <div class="controls"><button onclick="renderIframe(this,'C87S9_Textarea','IuNLO_IFrame')">Run</button> <button onclick="closeAll()">Close</button>
   </div>
   <div class="dialog-content"><textarea id="C87S9_Textarea" class="textarea_dialog" placeholder="Type HTML here...">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;D3 Pie Chart&lt;/title&gt;
  &lt;script src="https://d3js.org/d3.v7.min.js"&gt;&lt;/script&gt;
  &lt;style&gt;
    body { font-family: sans-serif; }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;svg width="400" height="400"&gt;&lt;/svg&gt;

  &lt;script&gt;
    const data = [
      { category: 'Books', value: 30 },
      { category: 'Electronics', value: 70 },
      { category: 'Clothing', value: 45 },
      { category: 'Sports', value: 20 }
    ];

    const width = 400;
    const height = 400;
    const margin = 40;
    const radius = Math.min(width, height) / 2 - margin;

    const color = d3.scaleOrdinal()
      .domain(data.map(d =&gt; d.category))
      .range(d3.schemeCategory10);

    const pie = d3.pie()
      .value(d =&gt; d.value)
      .sort(null);

    const arc = d3.arc()
      .innerRadius(0)  // Pie chart
      .outerRadius(radius);

    const svg = d3.select('svg')
      .attr('width', width)
      .attr('height', height)
      .append('g')
      .attr('transform', `translate(${width / 2},${height / 2})`);

    // Draw slices
    svg.selectAll('path')
      .data(pie(data))
      .enter()
      .append('path')
      .attr('d', arc)
      .attr('fill', d =&gt; color(d.data.category))
      .attr('stroke', 'white')
      .style('stroke-width', '2px');

    // Add labels
    svg.selectAll('text')
      .data(pie(data))
      .enter()
      .append('text')
      .attr('transform', d =&gt; `translate(${arc.centroid(d)})`)
      .attr('text-anchor', 'middle')
      .attr('font-size', '14px')
      .attr('fill', 'white')
      .text(d =&gt; d.data.category);
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea> <iframe id="IuNLO_IFrame" class="iframe_dialog"></iframe>
   </div>
  </div>
 </div>
 <div class="snippet-header" onclick="toggleSnippetAndRefresh('6QPrp','C87S9')">
  Click to Try it <!--<span onclick="toggleSnippetAndRefresh('6QPrp','C87S9')">Click
			to Try it</span> --> <!-- <span onclick="openDialog('IuNLO_Dialog')">Dialog</span> -->
 </div>
 <div class="snippet-body"><textarea id="C87S9">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;D3 Pie Chart&lt;/title&gt;
  &lt;script src="https://d3js.org/d3.v7.min.js"&gt;&lt;/script&gt;
  &lt;style&gt;
    body { font-family: sans-serif; }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;svg width="400" height="400"&gt;&lt;/svg&gt;

  &lt;script&gt;
    const data = [
      { category: 'Books', value: 30 },
      { category: 'Electronics', value: 70 },
      { category: 'Clothing', value: 45 },
      { category: 'Sports', value: 20 }
    ];

    const width = 400;
    const height = 400;
    const margin = 40;
    const radius = Math.min(width, height) / 2 - margin;

    const color = d3.scaleOrdinal()
      .domain(data.map(d =&gt; d.category))
      .range(d3.schemeCategory10);

    const pie = d3.pie()
      .value(d =&gt; d.value)
      .sort(null);

    const arc = d3.arc()
      .innerRadius(0)  // Pie chart
      .outerRadius(radius);

    const svg = d3.select('svg')
      .attr('width', width)
      .attr('height', height)
      .append('g')
      .attr('transform', `translate(${width / 2},${height / 2})`);

    // Draw slices
    svg.selectAll('path')
      .data(pie(data))
      .enter()
      .append('path')
      .attr('d', arc)
      .attr('fill', d =&gt; color(d.data.category))
      .attr('stroke', 'white')
      .style('stroke-width', '2px');

    // Add labels
    svg.selectAll('text')
      .data(pie(data))
      .enter()
      .append('text')
      .attr('transform', d =&gt; `translate(${arc.centroid(d)})`)
      .attr('text-anchor', 'middle')
      .attr('font-size', '14px')
      .attr('fill', 'white')
      .text(d =&gt; d.data.category);
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea> <br> <button onclick="renderIframe(this,'C87S9','IuNLO')">Run</button>
  <div id="IuNLO_FloatingLog" class="floatingLog" aria-live="polite" role="alert"></div> <iframe id="IuNLO" class="result_iframe" style="display: none;"></iframe>
  <script>
			{
				let editor = CodeMirror.fromTextArea(document
						.getElementById("C87S9"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    const mode = localStorage.getItem("mode") || "light";  
			    const newTheme = mode === "dark" ? "material" : "default";
			    editor.setOption("theme", newTheme);
			    
				codeMirrorMap.set("C87S9", editor);

				let editor1 = CodeMirror.fromTextArea(document.getElementById("C87S9_Textarea"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    editor1.setOption("theme", newTheme);				
				
				codeMirrorMap.set("C87S9_Textarea", editor1);
			}
		    function openDialog(id) {
		        closeAll();
		        document.getElementById(id).style.display = 'flex';
		        setTimeout(() => {
		        	 codeMirrorMap.get("C87S9_Textarea").refresh();
		        }, 100); // 100ms 
		      }

		      function closeAll() {
		        document.querySelectorAll('.dialog-backdrop').forEach(el => {
		          el.style.display = 'none';
		        });
		      }			
		</script>
 </div>
</div><h3 id="summary">Summary</h3><ul>
 <li>Use <code>d3.pie()</code> to compute slice angles from categorical data values.</li>
 <li>Use <code>d3.arc()</code> to generate SVG paths for pie or donut slices.</li>
 <li>Use a color scale to visually differentiate slices.</li>
 <li>Add text labels positioned at slice centroids for clarity.</li>
 <li>Convert a pie chart into a donut by setting a non-zero <code>innerRadius</code>.</li>
</ul><div class = "chapter-navi-section">
<a href="javascript-data-visualization-d3-js-drawing-with-svg.htm" class="nav-button prev">←</a>
<a href='javascript-data-visualization.htm#d3-js-core-chart-types' class="nav-button toc-link">Index</a>
<a href="javascript-data-visualization-d3-js-adding-interactivity.htm" class="nav-button next">→</a>
</div>
<section class="download-section">
  <div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 16px;color: #333;top: 20px;">JavaScript Data Visualization</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 60px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAC0UlEQVR4Xu3dMWsUURSG4fwr2U6zJI0WKZSAaa0EG7tU2giWimLETrQQQRCxUDsbK3+IYOWCiFU06IQz356ZuffOvXdm4A28ze585OxDsLDZnR3zs1pf+rHavXhKWdpY2/Mf50HKEMgV+4cs/1z8/v6OMiTYm9Zfsz5M42r9VQNdLqArBXSlgK4U0JUCulKLgrb39aW7ObQY6PXl/S3Qrs6e1f3ULQZaMYfS/dTZ2xYDvff6g9tS7ge6YEBXCuhKAV0poCsFdKWArtQk0G9e3Tt9dnLc2+dPD1sboCOzv2Ool8/vujsFBtpJMYfydgoMtFMqWOpuLtnbgC6YvQ3ogtnbgC6YvQ3ogtnbgC6YvQ3ogtnbgC6YvQ3ogtnboqCvHR20xn11/UKF6gNL3Y1JP0dXV68fbG01+3wUtP6yvp4+OXZ3CtUHlrpL7ew/tvRz9KV7zT4LtGmW0O+/fnRr3l86tH4u/Xwhv88+C7QJ6MhdakBH7lIDOnKXGtCRu9SAjtylBnTkLjWgI3e67evnt7fnG6BH7EJqdkCP2IXU7IAesft169DN2wE9YqfAQDt35NgpMNDOHTl2Cgy0c0eOnQID7dxhXwvJ2ykw0M4d9rWQvJ0CA+3cYV8LydspMNDOHfa1C/cfuQ3tFBho5w77mgID/f99oCeGDsnbKXBp6JDUR7PPAm12QO8CvVXzfhe0QoWC6fOhOwUOhX7w4rGbt+vKPgu02QE9YqfAi4Meai7QITU7oEfsQmp2s4S+cfumW/P+XKDvXFm7ebtZQusBeshcoL8c7rt5O6BH7BQYaOeOHDsFBtq5I8dOgYF27sixU2CgnTty7BQYaOeOHDsFBtq5I8dOgRcHPVQXdEhT7Wb536RDAQ30Vs1uNtAUF9CVArpSQFcK6EoBXSmgK9WG5qtQi2RNV803KsuLlDn7RcpgF6qF3Pz8fWOjD1JyrS9g/wOlHj3Oru4PcQAAAABJRU5ErkJggg=="/>
  </div>
  <div class="download-info">
    <h2 id='bottom'>Download This Ebook</h2>
    <p class="format-label">Available formats:</p>
    <div class="download-buttons">
      <a href="javascript-data-visualization.pdf" class="download-button">📄 PDF</a>
      <a href="javascript-data-visualization.epub" class="download-button">📘 EPUB</a>
    </div>
  </div>
</section><div class='related-books'>
<h2>Javascript Web Front Books</h2>
<div class='related-book-list'>
<a href="javascript-canvas-programming.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 16px;color: #333;top: 10px;">JavaScript Canvas Programming</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 80px;height: 80px;top: 70px;" src='data:image/png;base64,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'/>
  </div>
</a>


<a href="javascript-dom-programming.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 16px;color: #333;top: 20px;">JavaScript DOM Programming</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 60px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAADUklEQVR4Xu2dv47TQBDGI0RDczY9rwMlrwEFBweC/t4EXRwaXuI6WiSaOLkCIZ6BCqTgPRFr8zkbnPF4Zuydn/RVuzsz33eSlX/2LRYRm1Xxe1MVOzY19eL6/6NzfqCw/ilEvXc2Mwh7pNiuyks8O1T1snyNfVLgWQ5hjxbcyCHskaJelVd4drCW5Vvsk6JzlkHYo6XXph5Q6hwEfUZASDhLqUOZ+Ri96vTa1ANKHQ+aAKWOB02AUseDJkCp40EToNTxoAlQ6njQBCh1PGgClDrZBs0l7JEi23eGXMIeKTbVxSs8O1Trm4tL7JMCz3IIe7Rsq+IXbh6iUA97nALPDxXWP4W29w5xMVwbG67rOBVR76LNAA9aiKyCbq49L0QbRmgGHXuul8VLXB+F3IPGtdGIm0o21gpay+89Gs01gtbwecDPz08eSQ8hHTT6C55xjwh3q+IZDhO0u148wL0cSAR93cyOfoKCV9wryu528RCHmpuCR/StRvOy7w8OOHUFT+jTDHdV+RwHnpqCB/SVFRLXaGfhQYvhQQvhQQvhQQvhQf8DXyZNXehPnW+fisc45FwUvKFfNXC4uQn9qvD1Y1maG4qB2NP3xiOui1NX5Zv9QNuq+IDrU6Xx8n7vq16WV7guTvxKYH1TvsP1qWLOl7mBmDDny9xATJjzZW4gJsz5MjcQE+Z8mRuICXO+zA3EhDlf5gZiwpwvcwMxYc6XuYGYMOfL3EBMmPNlbiAmzPkyNxAT5nyZG4gJc778Y1Ih/IN/QeKh5ij0q8acv5z9YenL2T045NSF/rIhfiWQ9Q9oxsaDFsKDFsKDFsKDFsKDjqj9ZqFx8dvfRubWb+gcn+Yv/hSHuh9swrcoh9nRT5DaLcpf/KZ7GXAIXB8D6aADGj5btJprBB3Q8nvQGNfGRCvogLjntT+8SubhVVohBzSDDoh6F20GeNBCzCZo7Qeh4vmhwvqnEPWOmzmEPVJk9Vhj3Mgh7JHi4LLApTMuL52zDMIeLb029YBSh+v6G85S6lBmPkavOr029YBSx4MmQKnjQROg1PGgCVDqeNAEKHU8aAKUOh40AUodD5oApU62QXMJe6TI9p0hl7BHitz+XTX3j2DO+gHKkfODhPVPsRnZ+1+tJg8Iaaje6wAAAABJRU5ErkJggg=="/>
  </div>
</a>


<a href="javascript-data-visualization.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 16px;color: #333;top: 20px;">JavaScript Data Visualization</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 60px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAC0UlEQVR4Xu3dMWsUURSG4fwr2U6zJI0WKZSAaa0EG7tU2giWimLETrQQQRCxUDsbK3+IYOWCiFU06IQz356ZuffOvXdm4A28ze585OxDsLDZnR3zs1pf+rHavXhKWdpY2/Mf50HKEMgV+4cs/1z8/v6OMiTYm9Zfsz5M42r9VQNdLqArBXSlgK4U0JUCulKLgrb39aW7ObQY6PXl/S3Qrs6e1f3ULQZaMYfS/dTZ2xYDvff6g9tS7ge6YEBXCuhKAV0poCsFdKWArtQk0G9e3Tt9dnLc2+dPD1sboCOzv2Ool8/vujsFBtpJMYfydgoMtFMqWOpuLtnbgC6YvQ3ogtnbgC6YvQ3ogtnbgC6YvQ3ogtnbgC6YvQ3ogtnboqCvHR20xn11/UKF6gNL3Y1JP0dXV68fbG01+3wUtP6yvp4+OXZ3CtUHlrpL7ew/tvRz9KV7zT4LtGmW0O+/fnRr3l86tH4u/Xwhv88+C7QJ6MhdakBH7lIDOnKXGtCRu9SAjtylBnTkLjWgI3e67evnt7fnG6BH7EJqdkCP2IXU7IAesft169DN2wE9YqfAQDt35NgpMNDOHTl2Cgy0c0eOnQID7dxhXwvJ2ykw0M4d9rWQvJ0CA+3cYV8LydspMNDOHfa1C/cfuQ3tFBho5w77mgID/f99oCeGDsnbKXBp6JDUR7PPAm12QO8CvVXzfhe0QoWC6fOhOwUOhX7w4rGbt+vKPgu02QE9YqfAi4Meai7QITU7oEfsQmp2s4S+cfumW/P+XKDvXFm7ebtZQusBeshcoL8c7rt5O6BH7BQYaOeOHDsFBtq5I8dOgYF27sixU2CgnTty7BQYaOeOHDsFBtq5I8dOgRcHPVQXdEhT7Wb536RDAQ30Vs1uNtAUF9CVArpSQFcK6EoBXSmgK9WG5qtQi2RNV803KsuLlDn7RcpgF6qF3Pz8fWOjD1JyrS9g/wOlHj3Oru4PcQAAAABJRU5ErkJggg=="/>
  </div>
</a>


<a href="jquery-in-depth.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 18px;color: #333;top: 20px;">jQuery In-Depth</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 65px;" src='data:image/png;base64,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'/>
  </div>
</a>



<a href='javascript.htm'><div class='book-cover' style='background-color: #f9f6f1;color: #111111;border: 1px solid #ccc;display: flex;justify-content: center;align-items: center;text-align: center;'>More Javascript Books</div></a>
</div>
</div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
  
  <script>
    function copyCode(button) {
      const code = button.nextElementSibling.innerText;
      navigator.clipboard.writeText(code).then(() => {
        button.textContent = 'Copied!';
        setTimeout(() => { button.textContent = 'Copy'; }, 1500);
      });
    }
  </script>  
<div id="floatingLog" aria-live="polite" role="alert"></div>
<footer class="page-footer">
    <nav>
      <a href="https://readbytes.github.io">Home</a> | 
      Email:<script language="JavaScript" type="text/javascript">
var part1 = 'yinpeng';var part6 = '263';var part2 = Math.pow(2,6);var part3 = String.fromCharCode(part2);var part4 = 'hotmail dot com';var part5 = part1 + String.fromCharCode(part2) + part4;document.write(part1 + part6 + part3 + part4);
</script>
    </nav>
  <p>© 2025 — All rights reserved.</p>    
  </footer>

</body>
</html>