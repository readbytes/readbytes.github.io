<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>C Pointers Function Pointers in Depth</title>
<link rel='shortcut icon' href='https://java2s.com/style/favicon.ico'>
<link href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" rel="stylesheet" />
<link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />


  <script>
  const mode = localStorage.getItem('mode') || 'light';
  document.documentElement.classList.add(`${mode}-mode`);
  </script>   
<style> 
html {
  scroll-behavior: smooth;
}

body {
  font-family: 'Merriweather', serif;
  margin: 0;
  padding: 2rem 1rem;
  font-size: 15px;
  line-height: 1.5;
  transition: background-color 0.3s, color 0.3s;
}

.container {
  max-width: 700px;
  margin: 0 auto;
  padding: 1rem 2rem;
  box-shadow: 0 0 15px rgba(0,0,0,0.1);
}

h1, h2, h3 {
  font-weight: 600;
  margin-top: 2.5rem;
  margin-bottom: 1rem;
  line-height: 1.2;
}

h1 { font-size: 1.8rem; }
h2 { font-size: 1.4rem; }
h3 { font-size: 1.2rem; }

table {
  width: 100%;
  border-collapse: collapse;
  font-family: sans-serif;
  font-size: 1em;
  margin: 1em 0;
}

th, td {
  padding: 0.6em 1em;
  text-align: left;
  border: 1px solid;
}

tr:nth-child(even) {
  background-color: inherit;
}

tr:hover {
  background-color: inherit;
}

a {
  text-decoration: none;
  transition: color 0.2s;
}

a:hover {
  text-decoration: underline;
}

code {
  color: #d35400;
}

.book-title-chapter {
  font-family: 'Merriweather', serif;
  font-size: 2rem;
  font-weight: bold;
  text-align: center;
  margin-bottom: 2rem;
  border-bottom: 2px solid;
  padding-bottom: 0.5rem;
}

.book-subtitle-chapter {
  text-align: center;
  font-size: 1rem;
  margin-top: -1rem;
  margin-bottom: 2rem;
}

.related-books {
  margin-top: 40px;
}

.related-book-list {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
}

    .book-cover {
      width: 130px;
      height: 180px;
      font-family: Arial, sans-serif;
      position: relative;
      overflow: hidden;      
      line-height: normal;
      box-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }
    .book-cover-bottom-stripe {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 5px;
      width: 100%;
    }
    .book-cover-title {
      position: absolute;
      width: 100%;
      text-align: center;
      font-weight: bold;
    }
     
    .book-cover-icon {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      align-items: center;
      justify-content: center; 
    }

    .book-cover-author {
      position: absolute;
      bottom: 10px;
      width: 100%;
      text-align: center;
      font-size: 8px;
      color: #333;
    }

.page-footer {
  margin-top: 4rem;
  padding: 1rem 0;
  text-align: center;
  font-size: 0.85rem;
  border-top: 1px solid;
}

.chapter-navi-section {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-bottom: 10px;
}

.nav-link {
  color: inherit;
  text-decoration: none;
  opacity: 0.5;
  transition: opacity 0.3s ease, text-decoration 0.3s ease;
}

.nav-link:hover {
  opacity: 0.9;
  text-decoration: underline;
}

.prev { text-align: left; }
.toc-link { text-align: center; }
.next { text-align: right; }

.download-section {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 2rem;
  padding: 2rem 1rem;
  max-width: 600px;
  margin: 3rem auto;
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

.download-info h2 {
  margin: 0 0 0.5rem;
  font-size: 1.2rem;
}

.format-label {
  margin: 0 0 0.5rem;
  font-size: 0.95rem;
}

.download-buttons {
  display: flex;
  gap: 1rem;
}

.download-button {
  background-color: #4A90E2;
  color: white;
  padding: 0.5em 1.2em;
  border-radius: 25px;
  font-size: 0.95rem;
  text-decoration: none;
  transition: background-color 0.3s ease;
}

.download-button:hover {
  background-color: #357ABD;
}

.code-block {
  position: relative;
  margin-bottom: 1em;
}

.copy-button {
  background: transparent;
  color: white;
  position: absolute;
  top: 8px;
  right: 8px;
  border: none;
  padding: 4px 8px;
  font-size: 12px;
  border-radius: 4px;
  cursor: pointer;
  z-index: 1;
}

.copy-button:hover {
  background-color: #0056b3;
}

.snippet-container {
  overflow: hidden;
}

.snippet-header {
  padding: 0.75rem 1rem;
  cursor: pointer;
  font-size: 1rem;
    background-color: #eeeeee;
    color:  #111111; 
    border-radius: 8px;
    cursor: pointer;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);  
}

.snippet-body {
  display: none;
  font-family: monospace;
}

.snippet-container.open .snippet-body {
  display: block;
}

.CodeMirror {
  border: 2px solid #ccc;
  border-radius: 4px;
  resize: vertical;
}

/* === Light Mode === */
html.light-mode {
  background-color: #f8f7f5;
  color: #333;
}

html.light-mode .container {
  background: white;
}

html.light-mode .book-title-chapter {
  color: #2c3e50;
  border-color: #ccc;
}
html.light-mode .book-subtitle-chapter{
  color: #888;
}

html.light-mode .page-footer,
html.light-mode .series-name,
html.light-mode .book-subtitle,
html.light-mode .format-label {
  color: #888;
}

html.light-mode .related-books h2 {
  color: #333;
  border-bottom: 2px solid #eee;
}

html.light-mode .book-title {
  color: #fff;
}

html.light-mode .book-cover {
  border: 1px solid #ccc;
}

html.light-mode th {
  background-color: #f2f2f2;
}

html.light-mode tr:nth-child(even) {
  background-color: #fafafa;
}

html.light-mode tr:hover {
  background-color: #e6f7ff;
}

html.light-mode a,
html.light-mode .page-footer a {
  color: #000;
}

/* === Dark Mode === */
html.dark-mode {
  background-color: #181818;
  color: #e0e0e0;
}

html.dark-mode .container {
  background: #222;
}

html.dark-mode .book-title-chapter {
  color: #ddd;
  border-color: #444;
}

html.dark-mode .snippet-header {
    background-color: #333;
    color:  #ddd; 
}


html.dark-mode .book-subtitle-chapter,
html.dark-mode .page-footer,
html.dark-mode .series-name,
html.dark-mode .book-subtitle,
html.dark-mode .book-footer,
html.dark-mode .format-label {
  color: #aaa;
}

html.dark-mode .related-books h2 {
  color: #ddd;
  border-bottom: 2px solid #333;
}

html.dark-mode .book-title {
  color: #fff;
}

html.dark-mode .book-cover {
  border: 1px solid #555;
}

html.dark-mode th {
  background-color: #333;
  color: #fff;
}

html.dark-mode td {
  border-color: #444;
}

html.dark-mode tr:nth-child(even) {
  background-color: #2a2a2a;
}

html.dark-mode tr:hover {
  background-color: #2c3e50;
}

html.dark-mode a,
html.dark-mode .page-footer a {
  color: #eee;
}

    .dialog-backdrop {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 10;
    }

    .dialog {
      background: white;
      padding: 20px;
      width: 90vw;
      height: 80vh;
      border-radius: 8px;
      box-shadow: 0 0 20px rgba(0,0,0,0.3);
      display: flex;
      flex-direction: column;
    }
    .dialog-content {
      display: flex;
      flex: 1;
      gap: 20px;
      margin-top: 10px;
    }
    .dialog h2 {
      margin-top: 0;
    }

    .textarea_dialog {
      width: 50%;
      height: 100%;
      resize: none;
      font-family: monospace;
      font-size: 14px;
      padding: 10px;
      box-sizing: border-box;
      border: 1px solid #ccc;
    }

    .iframe_dialog {
      width: 50%;
      height: 100%;
      border: 1px solid #ccc;
    }
    .controls_dialog {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
    }    
    button { padding: 0.5em 1em; background: green; color: white; border: none; cursor: pointer; }
    button:hover { background: #1e7e34; }
    .result_iframe { width:99%; height:200px; margin-top: 1em;  resize: both;border:1px solid #ccc;}        
</style>
</head>
<body> 
  <div class="container">
    <div class = "chapter-navi-section">
<a href="c-pointers-pointers-and-data-structures.htm" class="nav-button prev">‚Üê</a>
<a href='c-pointers.htm#function-pointers-in-depth' class="nav-button toc-link">Index</a>
<a href="c-pointers-pointers-and-system-programming.htm" class="nav-button next">‚Üí</a>
</div>

    <h1 class="book-title-chapter" id = 'top'>Function Pointers in Depth</h1>
    <h3 class="book-subtitle-chapter">C Pointers</h3>   
    <!-- <h1 class ="chapter-title"></h1> -->
    <h2 id='passing-functions-as-arguments'>12.1 Passing Functions as Arguments</h2><p>In C, functions are not just standalone blocks of code‚Äîthey can also be <strong>passed as arguments</strong> to other functions using <strong>function pointers</strong>. This powerful feature enables <strong>callbacks</strong> and <strong>higher-order functions</strong>, allowing you to write flexible, reusable, and modular code.</p><h3 id="what-is-a-function-pointer">What is a Function Pointer?</h3><p>A <strong>function pointer</strong> holds the address of a function, much like a regular pointer holds the address of a variable. However, function pointers have a special syntax because they must match the signature (return type and parameter types) of the function they point to.</p><h3 id="why-pass-functions-as-arguments">Why Pass Functions as Arguments?</h3><p>Passing functions as arguments allows you to:</p><ul>
 <li><strong>Decouple behavior</strong> from a general algorithm.</li>
 <li>Write <strong>generic functions</strong> that can perform different tasks based on the function passed.</li>
 <li>Implement <strong>callbacks</strong> where a function calls another function provided by the caller.</li>
 <li>Enable <strong>event-driven programming</strong>, where actions depend on dynamic inputs.</li>
</ul><h3 id="syntax-for-passing-function-pointers-as-parameters">Syntax for Passing Function Pointers as Parameters</h3><p>Suppose you have a function that takes two integers and returns an integer:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">‚ñØ</button>
 <pre><code class="language-c">int add(int a, int b) {
    return a + b;
}</code></pre>
</div><p>To pass this function as an argument, you declare the receiving function like this:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">‚ñØ</button>
 <pre><code class="language-c">int compute(int x, int y, int (*operation)(int, int)) {
    return operation(x, y);  // Call the passed-in function
}</code></pre>
</div><p>Here:</p><ul>
 <li><code>int (*operation)(int, int)</code> declares a pointer named <code>operation</code> to a function taking two <code>int</code> parameters and returning an <code>int</code>.</li>
 <li>Inside <code>compute</code>, you invoke the function pointer as if it were a function: <code>operation(x, y)</code>.</li>
</ul><h3 id="calling-the-function-with-a-function-pointer">Calling the Function with a Function Pointer</h3><div class="code-block"><button class="copy-button" onclick="copyCode(this)">üìã</button>
 <pre><code class="language-c">#include &lt;stdio.h&gt;

int add(int a, int b) {
    return a + b;
}

int multiply(int a, int b) {
    return a * b;
}

int compute(int x, int y, int (*operation)(int, int)) {
    return operation(x, y);
}

int main() {
    int a = 5, b = 10;

    // Pass 'add' function pointer
    int sum = compute(a, b, add);
    printf("Sum: %d\n", sum);

    // Pass 'multiply' function pointer
    int product = compute(a, b, multiply);
    printf("Product: %d\n", product);

    return 0;
}</code></pre>
</div><p><strong>Output:</strong></p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">‚ñØ</button>
 <pre><code class="language-bash">Sum: 15
Product: 50</code></pre>
</div><h3 id="explanation">Explanation</h3><ul>
 <li>The <code>compute</code> function receives a pointer to a function matching the signature <code>int(int, int)</code>.</li>
 <li>At runtime, <code>compute</code> calls whichever function pointer it received (<code>add</code> or <code>multiply</code>).</li>
 <li>This way, <code>compute</code> becomes a <strong>higher-order function</strong>, capable of performing different operations without modification.</li>
</ul><h3 id="key-takeaways">Key Takeaways</h3><ul>
 <li>Function pointers enable <strong>passing behavior as data</strong>.</li>
 <li>The syntax requires careful declaration of function pointer parameters to match the expected signature.</li>
 <li>Using function pointers allows creating <strong>flexible, reusable code</strong> with minimal duplication.</li>
 <li>This technique is foundational for <strong>callbacks, event handling, and generic algorithms</strong> in C.</li>
</ul><div class = "chapter-navi-section">
<a href="#top" class="nav-button prev">‚Üë</a>
<a href='c-pointers.htm#function-pointers-in-depth' class="nav-button toc-link">Index</a>
<a href="#bottom" class="nav-button next">‚Üì</a>
</div>
<h2 id='callback-mechanisms-and-event-driven-programming'>12.2 Callback Mechanisms and Event-Driven Programming</h2><p>Function pointers are a fundamental building block for implementing <strong>callback mechanisms</strong> and <strong>event-driven programming</strong> in C. These concepts allow your program to respond dynamically to events, user actions, or asynchronous conditions by invoking specific functions when those events occur.</p><h3 id="what-is-a-callback">What is a Callback?</h3><p>A <strong>callback</strong> is a function passed as an argument to another function, intended to be called ("called back") at a later point‚Äîusually when a particular event or condition happens.</p><p>This lets you:</p><ul>
 <li>Customize behavior without changing the original code.</li>
 <li>Decouple event detection from event handling.</li>
 <li>Write reusable libraries that can execute user-defined functions.</li>
</ul><h3 id="event-driven-programming-in-c">Event-Driven Programming in C</h3><p>In an <strong>event-driven</strong> design, the program flow depends on external or internal events (e.g., timers, user inputs, sensor signals). Rather than following a fixed sequence, the program waits for events and calls associated callbacks.</p><p>C does not have built-in event-driven frameworks, but function pointers make it possible to implement these systems manually.</p><h3 id="common-patterns-using-callbacks">Common Patterns Using Callbacks</h3><ol>
 <li><p><strong>Timer Callbacks</strong> Functions that get called when a timer expires.</p></li>
 <li><p><strong>UI Event Handlers</strong> Functions triggered by user actions like button clicks or key presses.</p></li>
 <li><p><strong>Asynchronous I/O Callbacks</strong> Functions called when data is available or an operation completes.</p></li>
</ol><h3 id="example-simple-timer-callback-system">Example: Simple Timer Callback System</h3><p>Let's illustrate a minimal timer callback mechanism where a function pointer is called after a simulated "timer" event.</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">üìã</button>
 <pre><code class="language-c">#include &lt;stdio.h&gt;

// Define a type for callback functions taking no arguments
typedef void (*TimerCallback)(void);

// A function that "waits" and then calls the callback
void set_timer(int seconds, TimerCallback callback) {
    printf("Timer started for %d seconds...\n", seconds);
    // For illustration, we simulate a timer using a simple loop
    // (In real systems, you'd use OS timers or hardware interrupts)
    for (int i = 0; i &lt; seconds * 100000000; i++) {
        // Busy wait (not recommended in real code)
    }
    printf("Timer expired! Executing callback...\n");
    callback();  // Call the function pointer
}

// A sample callback function
void on_timer_expired() {
    printf("Timer callback executed: Time is up!\n");
}

int main() {
    // Set a timer and pass the callback function
    set_timer(1, on_timer_expired);

    return 0;
}</code></pre>
</div><p><strong>Output:</strong></p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">‚ñØ</button>
 <pre><code class="language-bash">Timer started for 1 seconds...
Timer expired! Executing callback...
Timer callback executed: Time is up!</code></pre>
</div><h3 id="how-it-works">How It Works</h3><ul>
 <li><code>set_timer</code> accepts a function pointer <code>callback</code> of type <code>TimerCallback</code>.</li>
 <li>After the "timer" expires, it calls the function pointed to by <code>callback</code>.</li>
 <li>The <code>on_timer_expired</code> function is passed as the callback, defining custom behavior after the timer.</li>
</ul><h3 id="real-world-uses-of-callbacks">Real-World Uses of Callbacks</h3><ul>
 <li><strong>GUI Programming:</strong> Assigning functions to buttons or menu selections.</li>
 <li><strong>Signal Handling:</strong> Functions invoked upon receiving system signals.</li>
 <li><strong>Networking:</strong> Handling incoming data or connection events.</li>
 <li><strong>Multithreading:</strong> Notification functions when threads complete tasks.</li>
</ul><h3 id="benefits-of-callback-based-design">Benefits of Callback-Based Design</h3><ul>
 <li><strong>Modularity:</strong> Separates event detection from handling.</li>
 <li><strong>Reusability:</strong> Same event system can work with different callbacks.</li>
 <li><strong>Flexibility:</strong> Behavior can be changed by passing different functions.</li>
</ul><h3 id="summary">Summary</h3><p>Function pointers enable callbacks‚Äîfunctions executed in response to events. This pattern is key for <strong>event-driven programming</strong> in C, allowing programs to be responsive and flexible. By passing pointers to functions as arguments and invoking them on demand, you gain powerful control over program flow, essential in embedded systems, GUIs, networking, and more.</p><div class = "chapter-navi-section">
<a href="#top" class="nav-button prev">‚Üë</a>
<a href='c-pointers.htm#function-pointers-in-depth' class="nav-button toc-link">Index</a>
<a href="#bottom" class="nav-button next">‚Üì</a>
</div>
<h2 id='storing-and-invoking-functions-dynamically'>12.3 Storing and Invoking Functions Dynamically</h2><p>Function pointers can be stored in <strong>arrays or tables</strong>, allowing your program to invoke different functions dynamically at runtime. This technique is essential for building flexible systems like <strong>plugin architectures</strong>, <strong>command dispatchers</strong>, or <strong>event handlers</strong> where the exact function to call depends on user input or program state.</p><h3 id="why-store-function-pointers">Why Store Function Pointers?</h3><ul>
 <li><strong>Dynamic dispatch:</strong> Call different functions based on conditions without writing long <code>if</code> or <code>switch</code> statements.</li>
 <li><strong>Plugin-like behavior:</strong> Easily add new functions by updating the table.</li>
 <li><strong>Compact and efficient:</strong> Lookup tables speed up function calls and simplify control flow.</li>
 <li><strong>Maintainable code:</strong> Improves readability by organizing related function pointers in one place.</li>
</ul><h3 id="syntax-declaring-an-array-of-function-pointers">Syntax: Declaring an Array of Function Pointers</h3><p>Suppose you have functions matching this signature:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">‚ñØ</button>
 <pre><code class="language-c">void action(void);</code></pre>
</div><p>An array of function pointers looks like:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">‚ñØ</button>
 <pre><code class="language-c">void (*action_table[])(void) = { func1, func2, func3 };</code></pre>
</div><ul>
 <li>Each element is a pointer to a function returning <code>void</code> and taking no parameters.</li>
 <li>You can index this array to call any function dynamically.</li>
</ul><h3 id="example-command-dispatcher-using-function-pointer-array">Example: Command Dispatcher Using Function Pointer Array</h3><div class="code-block"><button class="copy-button" onclick="copyCode(this)">üìã</button>
 <pre><code class="language-c">#include &lt;stdio.h&gt;

// Define some command functions
void cmd_hello() {
    printf("Hello!\n");
}

void cmd_goodbye() {
    printf("Goodbye!\n");
}

void cmd_unknown() {
    printf("Unknown command.\n");
}

// Define an array of function pointers
typedef void (*CommandFunc)(void);

CommandFunc commands[] = { cmd_hello, cmd_goodbye };

// Function to execute command by index
void execute_command(int cmd_index) {
    int num_commands = sizeof(commands) / sizeof(commands[0]);
    if (cmd_index &gt;= 0 &amp;&amp; cmd_index &lt; num_commands) {
        commands[cmd_index]();  // Call function via pointer
    } else {
        cmd_unknown();
    }
}

int main() {
    int choice;

    printf("Enter 0 for Hello, 1 for Goodbye: ");
    scanf("%d", &amp;choice);

    execute_command(choice);

    return 0;
}</code></pre>
</div><p><strong>Output example:</strong></p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">‚ñØ</button>
 <pre><code class="language-bash">Enter 0 for Hello, 1 for Goodbye: 0
Hello!</code></pre>
</div><h3 id="how-it-works">How It Works</h3><ul>
 <li><code>commands</code> is an array holding pointers to functions.</li>
 <li><code>execute_command</code> selects and calls a function based on user input.</li>
 <li>If an invalid index is entered, a default function is called.</li>
</ul><h3 id="advanced-usage-tables-with-parameters">Advanced Usage: Tables with Parameters</h3><p>Function pointers can point to functions with parameters too. For example:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">‚ñØ</button>
 <pre><code class="language-c">typedef int (*CompareFunc)(const void *, const void *);

int compare_asc(const void *a, const void *b) {
    return (*(int*)a - *(int*)b);
}

int compare_desc(const void *a, const void *b) {
    return (*(int*)b - *(int*)a);
}

CompareFunc comparators[] = { compare_asc, compare_desc };

void sort_with_comparator(int *arr, int size, CompareFunc cmp) {
    // Imagine a sorting implementation that uses cmp for comparisons
}

int main() {
    int arr[] = {5, 2, 9, 1};
    int size = sizeof(arr)/sizeof(arr[0]);

    // Pick comparator dynamically
    sort_with_comparator(arr, size, comparators[0]);  // Ascending sort
}</code></pre>
</div><h3 id="summary">Summary</h3><p>Storing function pointers in arrays or tables empowers your C programs to call functions dynamically, supporting scalable and modular designs. This technique simplifies command dispatching, plugin systems, and callback management by enabling easy addition and invocation of functions without cumbersome control structures.</p><p>In the next section, we‚Äôll apply these ideas by building a <strong>sorting function</strong> that accepts different comparison functions through pointers‚Äîillustrating real-world use of dynamic function invocation.</p><div class = "chapter-navi-section">
<a href="#top" class="nav-button prev">‚Üë</a>
<a href='c-pointers.htm#function-pointers-in-depth' class="nav-button toc-link">Index</a>
<a href="#bottom" class="nav-button next">‚Üì</a>
</div>
<h2 id='examples-sorting-with-function-pointer-comparators'>12.4 Examples: Sorting with Function Pointer Comparators</h2><p>One of the most common and powerful uses of function pointers is to pass <strong>custom comparator functions</strong> to sorting algorithms. This allows you to <strong>generalize sorting logic</strong> for different data types or criteria without rewriting the sorting code itself.</p><h3 id="using-qsort-from-the-c-standard-library">Using <code>qsort</code> from the C Standard Library</h3><p>The C standard library provides <code>qsort()</code>, a generic sorting function that uses a function pointer to a comparator to decide the order of elements.</p><p><strong>Function signature:</strong></p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">‚ñØ</button>
 <pre><code class="language-c">void qsort(void *base, size_t nitems, size_t size,
           int (*compar)(const void *, const void *));</code></pre>
</div><ul>
 <li><code>base</code> ‚Äî pointer to the first element of the array.</li>
 <li><code>nitems</code> ‚Äî number of elements.</li>
 <li><code>size</code> ‚Äî size of each element in bytes.</li>
 <li><code>compar</code> ‚Äî pointer to the comparator function.</li>
</ul><h3 id="comparator-function-signature">Comparator Function Signature</h3><p>A comparator takes two <code>const void*</code> arguments (pointers to elements), compares them, and returns:</p><ul>
 <li>A negative value if the first element is less than the second.</li>
 <li>Zero if they are equal.</li>
 <li>A positive value if the first element is greater.</li>
</ul><h3 id="example-1-sorting-integers-in-ascending-and-descending-order">Example 1: Sorting Integers in Ascending and Descending Order</h3><div class="code-block"><button class="copy-button" onclick="copyCode(this)">üìã</button>
 <pre><code class="language-c">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

// Comparator for ascending order
int compare_asc(const void *a, const void *b) {
    int int_a = *(const int *)a;
    int int_b = *(const int *)b;
    return int_a - int_b;
}

// Comparator for descending order
int compare_desc(const void *a, const void *b) {
    int int_a = *(const int *)a;
    int int_b = *(const int *)b;
    return int_b - int_a;
}

void print_array(int *arr, size_t size) {
    for (size_t i = 0; i &lt; size; i++) {
        printf("%d ", arr[i]);
    }
    printf("\n");
}

int main() {
    int numbers[] = { 4, 2, 9, 1, 5 };
    size_t n = sizeof(numbers) / sizeof(numbers[0]);

    printf("Original array: ");
    print_array(numbers, n);

    // Sort ascending
    qsort(numbers, n, sizeof(int), compare_asc);
    printf("Sorted ascending: ");
    print_array(numbers, n);

    // Sort descending
    qsort(numbers, n, sizeof(int), compare_desc);
    printf("Sorted descending: ");
    print_array(numbers, n);

    return 0;
}</code></pre>
</div><p><strong>Output:</strong></p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">‚ñØ</button>
 <pre><code class="language-bash">Original array: 4 2 9 1 5 
Sorted ascending: 1 2 4 5 9 
Sorted descending: 9 5 4 2 1</code></pre>
</div><h3 id="example-2-sorting-strings-alphabetically-or-by-length">Example 2: Sorting Strings Alphabetically or by Length</h3><p>You can also use <code>qsort</code> with arrays of strings (<code>char *</code>) by providing different comparator functions.</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">üìã</button>
 <pre><code class="language-c">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

// Comparator for alphabetical order
int compare_alpha(const void *a, const void *b) {
    const char *str_a = *(const char **)a;
    const char *str_b = *(const char **)b;
    return strcmp(str_a, str_b);
}

// Comparator for string length
int compare_length(const void *a, const void *b) {
    const char *str_a = *(const char **)a;
    const char *str_b = *(const char **)b;
    return (int)(strlen(str_a) - strlen(str_b));
}

void print_strings(char *arr[], size_t n) {
    for (size_t i = 0; i &lt; n; i++) {
        printf("%s\n", arr[i]);
    }
    printf("\n");
}

int main() {
    char *words[] = { "apple", "banana", "kiwi", "cherry", "date" };
    size_t n = sizeof(words) / sizeof(words[0]);

    printf("Original strings:\n");
    print_strings(words, n);

    // Sort alphabetically
    qsort(words, n, sizeof(char *), compare_alpha);
    printf("Sorted alphabetically:\n");
    print_strings(words, n);

    // Sort by length
    qsort(words, n, sizeof(char *), compare_length);
    printf("Sorted by length:\n");
    print_strings(words, n);

    return 0;
}</code></pre>
</div><p><strong>Output:</strong></p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">‚ñØ</button>
 <pre><code class="language-bash">Original strings:
apple
banana
kiwi
cherry
date

Sorted alphabetically:
apple
banana
cherry
date
kiwi

Sorted by length:
kiwi
date
apple
banana
cherry</code></pre>
</div><h3 id="summary">Summary</h3><ul>
 <li>Function pointers let you <strong>pass custom comparator functions</strong> to generic sorting routines like <code>qsort</code>.</li>
 <li>This <strong>decouples sorting logic from comparison logic</strong>, enabling code reuse for different data types and sorting criteria.</li>
 <li>Always ensure your comparator matches the expected signature: it must accept <code>const void *</code> pointers and return an integer indicating order.</li>
</ul><p>Using function pointers for comparators is a powerful technique that greatly enhances the flexibility of your C programs.</p><div class = "chapter-navi-section">
<a href="c-pointers-pointers-and-data-structures.htm" class="nav-button prev">‚Üê</a>
<a href='c-pointers.htm#function-pointers-in-depth' class="nav-button toc-link">Index</a>
<a href="c-pointers-pointers-and-system-programming.htm" class="nav-button next">‚Üí</a>
</div>
<section class="download-section">
  <div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 22px;color: #333;top: 20px;">C Pointers</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 70px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAD5ElEQVR4Xu2dwYoUVxhGr7hQn0F8AyH4Cq5cCwFxk2cQ3GXR1TK+QN5AssnWrRsfwWR0LbhJxKXoIhBQK2Olb5/v1tdV0/fHOPwHDtj/PbdudYHOuKpSkiRJkovFUP744qevvuSyZSin1d5TLlvGs85/7re553OzO3DfJXDPRd97bobylxy49HC2tZvylvkem/Je9uz8wHyPTfmzsWeng23toXs+Ch5GHWypgy11sKUOtjQMHkQdbKmDLXWwpQ62NAweRB1sqYMtdbClDrY0DB5EHWypgy11sKUOtjQMHkQdbKmDLXWwpQ62NAweRB1sqYMtdbClDrY0DB5EHWypgy11sKUOtjQMHkQdbKmDLXWwpQ62NAweRB1sqYMtdbClDrY0SZIkSZI18CdpGqMM0hhlkMYogzRGGaQxyiCNUQZpjDJIY5RBGqMM0hhlkMYogzRGGaQxyiCNUQZpjDJIY5RBT5fAPfO+W7xvabe2PUYZ9HQpQ7kjeynh+lzLNbqmPUYZ9NR/iYcH1uevdagnXJ/8pVxZ1PVQBj1d8iUmfi7XZW3ns+pKO7TTc3t0PZRBT5d8ibVNDTvXsxnKr0waTT9l0NMlX2Ji/GvMNTZDeYrP/0hbr9ecp+mpDHp66EscWh/dlgfS1LCv14fypPrz3ar5u5rXvV6rlzLo6Rq4t3WNafZjuSyz1p6zB31J2pr9Xq/VSxn0dAlDuSr7WtfYltfN+fj79dye8UHvf/4dn9nr+b2UQU9rlszpo/LDbFczt8YHTbTXe+ilDHpaU8+35adq/lj2tfY75vZND7p1raF8lDVep6cy6GnNmrVW4xjK8+Y+/6Bbvd5DL2XQ0xqujb8FTGzKfVl/UK5Ve180rWmdWz/oobz5b74p92Z63mM/ZdDTGq4dWndrkyflRrPZzeoHPf6bf+tfeZ3WNXorg57WcO3M29X6zebeuf+UaHfSmO0/6Dl3va71UgY9reGaa1qzOVvtxKb8Jn1L7o9QBmmMMkhjlEEaowzSGGWQxiiDNEYZpDHKII1RBmmMMkhjlEEaowzSGGWQxiiDNEYZpDHKII0xSZIkSZI18CcpdbClDrbUwZY62NIweBB1sKUOttTBljrY0jB4EHWwpQ621MGWOtjSMHgQdbClDrbUwZY62NIweBB1sKUOttTBljrY0jB4EHWwpQ621MGWOtjSMHgQdbClDrbUwZY62NIweBB1sKUOttTBljrY0jB4EHWwpQ621MGWOtjSMKJeSjZe13HMS8m23+NLyUZ44JIbnuCei773aPZfpLjuJYzbI17CeNyLI+tzX3HZsn/uuntOkiRJ/vd8BnnbnC2TD9qmAAAAAElFTkSuQmCC"/>
  </div>
  <div class="download-info">
    <h2 id='bottom'>Download This Ebook</h2>
    <p class="format-label">Available formats:</p>
    <div class="download-buttons">
      <a href="c-pointers.pdf" class="download-button">üìÑ PDF</a>
      <a href="c-pointers.epub" class="download-button">üìò EPUB</a>
    </div>
  </div>
</section><div class='related-books'>
<h2>C Introduction Books</h2>
<div class='related-book-list'>
<a href="c-for-beginners.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 18px;color: #333;top: 20px;">C for Beginners</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 70px;" src="data:image/png;base64,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"/>
  </div>
</a>


<a href="c-pointers.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 22px;color: #333;top: 20px;">C Pointers</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 70px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAD5ElEQVR4Xu2dwYoUVxhGr7hQn0F8AyH4Cq5cCwFxk2cQ3GXR1TK+QN5AssnWrRsfwWR0LbhJxKXoIhBQK2Olb5/v1tdV0/fHOPwHDtj/PbdudYHOuKpSkiRJkovFUP744qevvuSyZSin1d5TLlvGs85/7re553OzO3DfJXDPRd97bobylxy49HC2tZvylvkem/Je9uz8wHyPTfmzsWeng23toXs+Ch5GHWypgy11sKUOtjQMHkQdbKmDLXWwpQ62NAweRB1sqYMtdbClDrY0DB5EHWypgy11sKUOtjQMHkQdbKmDLXWwpQ62NAweRB1sqYMtdbClDrY0DB5EHWypgy11sKUOtjQMHkQdbKmDLXWwpQ62NAweRB1sqYMtdbClDrY0SZIkSZI18CdpGqMM0hhlkMYogzRGGaQxyiCNUQZpjDJIY5RBGqMM0hhlkMYogzRGGaQxyiCNUQZpjDJIY5RBT5fAPfO+W7xvabe2PUYZ9HQpQ7kjeynh+lzLNbqmPUYZ9NR/iYcH1uevdagnXJ/8pVxZ1PVQBj1d8iUmfi7XZW3ns+pKO7TTc3t0PZRBT5d8ibVNDTvXsxnKr0waTT9l0NMlX2Ji/GvMNTZDeYrP/0hbr9ecp+mpDHp66EscWh/dlgfS1LCv14fypPrz3ar5u5rXvV6rlzLo6Rq4t3WNafZjuSyz1p6zB31J2pr9Xq/VSxn0dAlDuSr7WtfYltfN+fj79dye8UHvf/4dn9nr+b2UQU9rlszpo/LDbFczt8YHTbTXe+ilDHpaU8+35adq/lj2tfY75vZND7p1raF8lDVep6cy6GnNmrVW4xjK8+Y+/6Bbvd5DL2XQ0xqujb8FTGzKfVl/UK5Ve180rWmdWz/oobz5b74p92Z63mM/ZdDTGq4dWndrkyflRrPZzeoHPf6bf+tfeZ3WNXorg57WcO3M29X6zebeuf+UaHfSmO0/6Dl3va71UgY9reGaa1qzOVvtxKb8Jn1L7o9QBmmMMkhjlEEaowzSGGWQxiiDNEYZpDHKII1RBmmMMkhjlEEaowzSGGWQxiiDNEYZpDHKII0xSZIkSZI18CcpdbClDrbUwZY62NIweBB1sKUOttTBljrY0jB4EHWwpQ621MGWOtjSMHgQdbClDrbUwZY62NIweBB1sKUOttTBljrY0jB4EHWwpQ621MGWOtjSMHgQdbClDrbUwZY62NIweBB1sKUOttTBljrY0jB4EHWwpQ621MGWOtjSMKJeSjZe13HMS8m23+NLyUZ44JIbnuCei773aPZfpLjuJYzbI17CeNyLI+tzX3HZsn/uuntOkiRJ/vd8BnnbnC2TD9qmAAAAAElFTkSuQmCC"/>
  </div>
</a>



<a href='c.htm'><div class='book-cover' style='background-color: #f9f6f1;color: #111111;border: 1px solid #ccc;display: flex;justify-content: center;align-items: center;text-align: center;'>More C Books</div></a>
</div>
</div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
  
  <script>
    function copyCode(button) {
      const code = button.nextElementSibling.innerText;
      navigator.clipboard.writeText(code).then(() => {
        button.textContent = 'Copied!';
        setTimeout(() => { button.textContent = 'Copy'; }, 1500);
      });
    }
  </script>  
<div id="floatingLog" aria-live="polite" role="alert"></div>
<footer class="page-footer">
    <nav>
      <a href="https://readbytes.github.io">Home</a> | 
      Email:<script language="JavaScript" type="text/javascript">
var part1 = 'yinpeng';var part6 = '263';var part2 = Math.pow(2,6);var part3 = String.fromCharCode(part2);var part4 = 'hotmail dot com';var part5 = part1 + String.fromCharCode(part2) + part4;document.write(part1 + part6 + part3 + part4);
</script>
    </nav>
  <p>¬© 2025 ‚Äî All rights reserved.</p>    
  </footer>

</body>
</html>