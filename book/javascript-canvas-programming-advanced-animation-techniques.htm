<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>JavaScript Canvas Programming Advanced Animation Techniques</title>
<link rel='shortcut icon' href='https://java2s.com/style/favicon.ico'>
<link href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" rel="stylesheet" />
<link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/material.css"> <!-- Dark theme -->
<script src="https://cdn.jsdelivr.net/npm/typescript@5/lib/typescript.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/htmlmixed/htmlmixed.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/xml/xml.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/css/css.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/typescript.min.js"></script>
<style>
    #floatingLog {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(20, 20, 20, 0.95);
      color: white;
      font-family: monospace;
      font-size: 14px;
      padding: 16px 20px;
      border-radius: 8px;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);
      max-width: 80%;
      max-height: 200px;
      overflow-y: auto;
      display: none;
      z-index: 9999;
      pointer-events: none;
      white-space: pre-wrap;
      text-align: center;
    }
</style>
<script>
  const codeMirrorMap = new Map();
  const iframeMap = new Map();
  
 

  let dismissTimer;
  function showFloatingLog(message) {
	const floatingLog = document.getElementById('floatingLog');

    if (floatingLog.style.display !== 'block') {
      floatingLog.textContent = '';
      floatingLog.style.display = 'block'; 
    }

    floatingLog.textContent += message + '\n';
    floatingLog.scrollTop = floatingLog.scrollHeight; 
    clearTimeout(dismissTimer);
    dismissTimer = setTimeout(() => {
      floatingLog.style.display = 'none';
      floatingLog.textContent = '';
    }, 2000);
  }
  window.addEventListener('message', (event) => {
	    if (!iframeMap.has(event.source)) return;

	    if (event.data?.type === 'console-log') {
	      showFloatingLog(event.data.message);
	    }
  });  
  function renderIframe(button,textarea_id, iframe_id) {
      const html = codeMirrorMap.get(textarea_id).getValue();
      const iframe = document.getElementById(iframe_id);
  
      const oldIframe = iframe;
      const newIframe = document.createElement('iframe');
      newIframe.className ="result_iframe";
      
      newIframe.id = iframe_id;
      oldIframe.replaceWith(newIframe);
 

      // Track the iframe in the map
      iframeMap.set(newIframe.contentWindow, button);

      const overrideScript = `
        <script>
          (function() {
            const originalLog = console.log;
            console.log = function(...args) {
              originalLog.apply(console, args);
              window.parent.postMessage({
                type: 'console-log',
                message: args.map(a => {
                  try { return JSON.stringify(a); }
                  catch { return String(a); }
                }).join(' ')
              }, '*');
            };
          })();
        <\/script>
      `;

      const iframeHTML = `
        <!DOCTYPE html>
        <html>
        <body>
          ${overrideScript}
          ${html}
        </body>
        </html>
      `;
 
      const doc = newIframe.contentDocument || newIframe.contentWindow.document;
      doc.open();
      doc.write(iframeHTML);
      doc.close();

      
      setTimeout(() => {
    	  newIframe.style.height = '0px';
    	   let contentHeight = Math.max(doc.body.scrollHeight,doc.documentElement.scrollHeight);
 
    	   if(contentHeight < 150 || contentHeight > 600){
    		   contentHeight = 600;
    	   } 
    	   newIframe.style.height = contentHeight + 'px';
    	}, 50);      
      
  }
  function renderIframeForClientTypescript(textarea_id, iframe_id) {
      let code = codeMirrorMap.get(textarea_id).getValue();
      code = ts.transpile(code);
      const iframe = document.getElementById(iframe_id);
      const doc = iframe.contentDocument || iframe.contentWindow.document;

const html = `
  <!DOCTYPE html>
  <html>
    <head>
      <title>Output</title>
      <style>
        body { font-family: monospace; padding: 1em; background: #f4f4f4; color: #222; }
        pre { white-space: pre-wrap; word-break: break-word; }
        .error { color: red; }
      </style>
    </head>
    <body>
      <pre id="log"></pre>
      <script>
        (function(){
          const logEl = document.getElementById('log');
          const origLog = console.log;
          const origError = console.error;

          console.log = (...args) => {
            logEl.textContent += args.join(' ') + '\\n';
            origLog.apply(console, args);
          };
          console.table = (...args) => {
            logEl.textContent += args.join(' ') + '\\n';
            origLog.apply(console, args);
          };

          console.error = (...args) => {
            logEl.innerHTML +='<span class="error">' + args.join(' ') + '</span>';
            origError.apply(console, args);
          };
          window.addEventListener("error", function (event) {
              console.error("Caught by event listener:", event.message);
          });    
          try {             
              ${code};
          } catch (err) {
            console.error(err.stack || err.message);
          }
        })();
      <\/script>
    </body>
  </html>
`;

      iframe.style.display = "block";
      iframe.srcdoc = html;  
  }

    function renderIframeForClientJavascript(textarea_id, iframe_id) {
        const code = codeMirrorMap.get(textarea_id).getValue();
        const iframe = document.getElementById(iframe_id);
        const doc = iframe.contentDocument || iframe.contentWindow.document;

  const html = `
    <!DOCTYPE html>
    <html>
      <head>
        <title>Output</title>
        <style>
          body { font-family: monospace; padding: 1em; background: #1e1e1e; color: #eee; }
          pre { white-space: pre-wrap; word-break: break-word; }
          .error { color: red; }
        </style>
      </head>
      <body>
        <pre id="log"></pre>
        <script>
          (function(){
            const logEl = document.getElementById('log');
            const origLog = console.log;
            const origError = console.error;

            console.log = (...args) => {
              logEl.textContent += args.join(' ') + '\\n';
              origLog.apply(console, args);
            };
            console.table = (...args) => {
              logEl.textContent += args.join(' ') + '\\n';
              origLog.apply(console, args);
            };

            console.error = (...args) => {
              logEl.innerHTML +='<span class="error">' + args.join(' ') + '</span>';
              origError.apply(console, args);
            };
            window.addEventListener("error", function (event) {
                console.error("Caught by event listener:", event.message);
            });    
            try {
             ${code}; 
            } catch (err) {
              console.error(err.stack || err.message);
            }
          })();
        <\/script>
      </body>
    </html>
  `;
        iframe.style.display = "block";
        iframe.srcdoc = html;  
    }
    function toggleSnippetAndRefresh(id, textarea_id) {
      const box = document.getElementById(id);
      box.classList.toggle("open");
      codeMirrorMap.get(textarea_id).refresh();
    }

  </script>
  <script>
  const mode = localStorage.getItem('mode') || 'light';
  document.documentElement.classList.add(`${mode}-mode`);
  </script>   
<style> 
html {
  scroll-behavior: smooth;
}

body {
  font-family: 'Merriweather', serif;
  margin: 0;
  padding: 2rem 1rem;
  font-size: 15px;
  line-height: 1.5;
  transition: background-color 0.3s, color 0.3s;
}

.container {
  max-width: 700px;
  margin: 0 auto;
  padding: 1rem 2rem;
  box-shadow: 0 0 15px rgba(0,0,0,0.1);
}

h1, h2, h3 {
  font-weight: 600;
  margin-top: 2.5rem;
  margin-bottom: 1rem;
  line-height: 1.2;
}

h1 { font-size: 1.8rem; }
h2 { font-size: 1.4rem; }
h3 { font-size: 1.2rem; }

table {
  width: 100%;
  border-collapse: collapse;
  font-family: sans-serif;
  font-size: 1em;
  margin: 1em 0;
}

th, td {
  padding: 0.6em 1em;
  text-align: left;
  border: 1px solid;
}

tr:nth-child(even) {
  background-color: inherit;
}

tr:hover {
  background-color: inherit;
}

a {
  text-decoration: none;
  transition: color 0.2s;
}

a:hover {
  text-decoration: underline;
}

code {
  color: #d35400;
}

.book-title-chapter {
  font-family: 'Merriweather', serif;
  font-size: 2rem;
  font-weight: bold;
  text-align: center;
  margin-bottom: 2rem;
  border-bottom: 2px solid;
  padding-bottom: 0.5rem;
}

.book-subtitle-chapter {
  text-align: center;
  font-size: 1rem;
  margin-top: -1rem;
  margin-bottom: 2rem;
}

.related-books {
  margin-top: 40px;
}

.related-book-list {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
}

    .book-cover {
      width: 130px;
      height: 180px;
      font-family: Arial, sans-serif;
      position: relative;
      overflow: hidden;      
      line-height: normal;
      box-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }
    .book-cover-bottom-stripe {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 5px;
      width: 100%;
    }
    .book-cover-title {
      position: absolute;
      width: 100%;
      text-align: center;
      font-weight: bold;
    }
     
    .book-cover-icon {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      align-items: center;
      justify-content: center; 
    }

    .book-cover-author {
      position: absolute;
      bottom: 10px;
      width: 100%;
      text-align: center;
      font-size: 8px;
      color: #333;
    }

.page-footer {
  margin-top: 4rem;
  padding: 1rem 0;
  text-align: center;
  font-size: 0.85rem;
  border-top: 1px solid;
}

.chapter-navi-section {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-bottom: 10px;
}

.nav-link {
  color: inherit;
  text-decoration: none;
  opacity: 0.5;
  transition: opacity 0.3s ease, text-decoration 0.3s ease;
}

.nav-link:hover {
  opacity: 0.9;
  text-decoration: underline;
}

.prev { text-align: left; }
.toc-link { text-align: center; }
.next { text-align: right; }

.download-section {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 2rem;
  padding: 2rem 1rem;
  max-width: 600px;
  margin: 3rem auto;
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

.download-info h2 {
  margin: 0 0 0.5rem;
  font-size: 1.2rem;
}

.format-label {
  margin: 0 0 0.5rem;
  font-size: 0.95rem;
}

.download-buttons {
  display: flex;
  gap: 1rem;
}

.download-button {
  background-color: #4A90E2;
  color: white;
  padding: 0.5em 1.2em;
  border-radius: 25px;
  font-size: 0.95rem;
  text-decoration: none;
  transition: background-color 0.3s ease;
}

.download-button:hover {
  background-color: #357ABD;
}

.code-block {
  position: relative;
  margin-bottom: 1em;
}

.copy-button {
  background: transparent;
  color: white;
  position: absolute;
  top: 8px;
  right: 8px;
  border: none;
  padding: 4px 8px;
  font-size: 12px;
  border-radius: 4px;
  cursor: pointer;
  z-index: 1;
}

.copy-button:hover {
  background-color: #0056b3;
}

.snippet-container {
  overflow: hidden;
}

.snippet-header {
  padding: 0.75rem 1rem;
  cursor: pointer;
  font-size: 1rem;
    background-color: #eeeeee;
    color:  #111111; 
    border-radius: 8px;
    cursor: pointer;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);  
}

.snippet-body {
  display: none;
  font-family: monospace;
}

.snippet-container.open .snippet-body {
  display: block;
}

.CodeMirror {
  border: 2px solid #ccc;
  border-radius: 4px;
  resize: vertical;
}

/* === Light Mode === */
html.light-mode {
  background-color: #f8f7f5;
  color: #333;
}

html.light-mode .container {
  background: white;
}

html.light-mode .book-title-chapter {
  color: #2c3e50;
  border-color: #ccc;
}
html.light-mode .book-subtitle-chapter{
  color: #888;
}

html.light-mode .page-footer,
html.light-mode .series-name,
html.light-mode .book-subtitle,
html.light-mode .format-label {
  color: #888;
}

html.light-mode .related-books h2 {
  color: #333;
  border-bottom: 2px solid #eee;
}

html.light-mode .book-title {
  color: #fff;
}

html.light-mode .book-cover {
  border: 1px solid #ccc;
}

html.light-mode th {
  background-color: #f2f2f2;
}

html.light-mode tr:nth-child(even) {
  background-color: #fafafa;
}

html.light-mode tr:hover {
  background-color: #e6f7ff;
}

html.light-mode a,
html.light-mode .page-footer a {
  color: #000;
}

/* === Dark Mode === */
html.dark-mode {
  background-color: #181818;
  color: #e0e0e0;
}

html.dark-mode .container {
  background: #222;
}

html.dark-mode .book-title-chapter {
  color: #ddd;
  border-color: #444;
}

html.dark-mode .snippet-header {
    background-color: #333;
    color:  #ddd; 
}


html.dark-mode .book-subtitle-chapter,
html.dark-mode .page-footer,
html.dark-mode .series-name,
html.dark-mode .book-subtitle,
html.dark-mode .book-footer,
html.dark-mode .format-label {
  color: #aaa;
}

html.dark-mode .related-books h2 {
  color: #ddd;
  border-bottom: 2px solid #333;
}

html.dark-mode .book-title {
  color: #fff;
}

html.dark-mode .book-cover {
  border: 1px solid #555;
}

html.dark-mode th {
  background-color: #333;
  color: #fff;
}

html.dark-mode td {
  border-color: #444;
}

html.dark-mode tr:nth-child(even) {
  background-color: #2a2a2a;
}

html.dark-mode tr:hover {
  background-color: #2c3e50;
}

html.dark-mode a,
html.dark-mode .page-footer a {
  color: #eee;
}

    .dialog-backdrop {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 10;
    }

    .dialog {
      background: white;
      padding: 20px;
      width: 90vw;
      height: 80vh;
      border-radius: 8px;
      box-shadow: 0 0 20px rgba(0,0,0,0.3);
      display: flex;
      flex-direction: column;
    }
    .dialog-content {
      display: flex;
      flex: 1;
      gap: 20px;
      margin-top: 10px;
    }
    .dialog h2 {
      margin-top: 0;
    }

    .textarea_dialog {
      width: 50%;
      height: 100%;
      resize: none;
      font-family: monospace;
      font-size: 14px;
      padding: 10px;
      box-sizing: border-box;
      border: 1px solid #ccc;
    }

    .iframe_dialog {
      width: 50%;
      height: 100%;
      border: 1px solid #ccc;
    }
    .controls_dialog {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
    }    
    button { padding: 0.5em 1em; background: green; color: white; border: none; cursor: pointer; }
    button:hover { background: #1e7e34; }
    .result_iframe { width:99%; height:200px; margin-top: 1em;  resize: both;border:1px solid #ccc;}        
</style>
</head>
<body> 
  <div class="container">
    <div class = "chapter-navi-section">
<a href="javascript-canvas-programming-animation-basics.htm" class="nav-button prev">←</a>
<a href='javascript-canvas-programming.htm#advanced-animation-techniques' class="nav-button toc-link">Index</a>
<a href="javascript-canvas-programming-user-interaction-and-event-handling.htm" class="nav-button next">→</a>
</div>

    <h1 class="book-title-chapter" id = 'top'>Advanced Animation Techniques</h1>
    <h3 class="book-subtitle-chapter">JavaScript Canvas Programming</h3>   
    <!-- <h1 class ="chapter-title"></h1> -->
    <h2 id='frame-rate-control-and-time-based-animation'>8.1 Frame Rate Control and Time-Based Animation</h2><p>When creating animations, one common challenge is ensuring smooth and consistent motion regardless of how fast or slow the animation loop runs. This section explains how to control animation timing effectively by using <strong>time-based animation</strong> and managing <strong>frame rate variance</strong>.</p><h3 id="fixed-step-vs-time-based-animation">Fixed-Step vs. Time-Based Animation</h3><h4 id="fixed-step-animation">Fixed-Step Animation</h4><ul>
 <li>Updates object positions by a fixed amount every frame.</li>
 <li>Assumes a constant frame rate (e.g., 60 frames per second).</li>
 <li>If the actual frame rate varies, animation speed will appear inconsistent — objects move faster on faster devices or slower on laggy ones.</li>
</ul><p>Example fixed-step update:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">x += 5; // move 5 pixels per frame, no timing adjustment</code></pre>
</div><h4 id="time-based-animation">Time-Based Animation</h4><ul>
 <li>Updates movement based on the actual <strong>elapsed time</strong> between frames (<code>deltaTime</code>).</li>
 <li>Ensures consistent motion speed even if frame rates fluctuate.</li>
 <li>Object movement is proportional to time passed, not frames rendered.</li>
</ul><p>Example time-based update:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">x += speed * deltaTime; // speed is pixels per millisecond, deltaTime in ms</code></pre>
</div><h3 id="using-requestanimationframe-timestamps">Using <code>requestAnimationFrame</code> Timestamps</h3><p>The <code>requestAnimationFrame</code> callback receives a high-resolution <strong>timestamp</strong> parameter representing the current time in milliseconds.</p><p>You can calculate the time elapsed since the previous frame like this:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">let lastTime = 0;

function animate(currentTime) {
  if (!lastTime) lastTime = currentTime; // initialize lastTime

  const deltaTime = currentTime - lastTime; // time elapsed since last frame (ms)
  lastTime = currentTime;

  // Use deltaTime for smooth animation updates here

  requestAnimationFrame(animate);
}

requestAnimationFrame(animate);</code></pre>
</div><h3 id="why-use-deltatime">Why Use <code>deltaTime</code>?</h3><p>When frame rates vary (e.g., due to system load), <code>deltaTime</code> changes accordingly. Using it to scale movements keeps objects moving at the same <strong>real-world speed</strong>, regardless of frame rate.</p><p>For example, if an object moves at 100 pixels per second:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const speed = 0.1; // pixels per millisecond

x += speed * deltaTime;</code></pre>
</div><ul>
 <li>If <code>deltaTime</code> is 16 ms (~60 FPS), object moves ~1.6 pixels this frame.</li>
 <li>If <code>deltaTime</code> spikes to 33 ms (~30 FPS), object moves ~3.3 pixels this frame.</li>
 <li>This keeps motion uniform in real time.</li>
</ul><h3 id="example-logging-frame-intervals-and-smooth-movement">Example: Logging Frame Intervals and Smooth Movement</h3><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

let x = 0;
const speed = 0.2; // pixels per millisecond

let lastTime = 0;

function animate(timestamp) {
  if (!lastTime) lastTime = timestamp;

  const deltaTime = timestamp - lastTime;
  lastTime = timestamp;

  // Clear canvas
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Move object based on deltaTime
  x += speed * deltaTime;

  // Wrap around
  if (x &gt; canvas.width) x = -50;

  // Draw rectangle
  ctx.fillStyle = 'purple';
  ctx.fillRect(x, 50, 50, 50);

  // Log deltaTime (frame interval)
  console.log(`Frame interval: ${deltaTime.toFixed(2)} ms`);

  requestAnimationFrame(animate);
}

requestAnimationFrame(animate);</code></pre>
</div><ul>
 <li>This example logs frame intervals so you can see the variation.</li>
 <li>The rectangle moves smoothly at the same speed regardless of frame rate changes.</li>
 <li>Try throttling your browser or switching tabs to observe effects on <code>deltaTime</code>.</li>
</ul><div class="snippet-container" id="iul8N">
 <div id="3E08J_Dialog" class="dialog-backdrop">
  <div class="dialog">
   <h2>Dialog 1</h2>
   <div class="controls"><button onclick="renderIframe(this,'RqMMc_Textarea','3E08J_IFrame')">Run</button> <button onclick="closeAll()">Close</button>
   </div>
   <div class="dialog-content"><textarea id="RqMMc_Textarea" class="textarea_dialog" placeholder="Type HTML here...">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;canvas id="myCanvas" width="400" height="200" style="border:1px solid #ccc;"&gt;&lt;/canvas&gt;

&lt;script&gt;
  const canvas = document.getElementById("myCanvas");
  const ctx = canvas.getContext("2d");

let x = 0;
const speed = 0.2; // pixels per millisecond

let lastTime = 0;

function animate(timestamp) {
  if (!lastTime) lastTime = timestamp;

  const deltaTime = timestamp - lastTime;
  lastTime = timestamp;

  // Clear canvas
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Move object based on deltaTime
  x += speed * deltaTime;

  // Wrap around
  if (x &gt; canvas.width) x = -50;

  // Draw rectangle
  ctx.fillStyle = 'purple';
  ctx.fillRect(x, 50, 50, 50);

  // Log deltaTime (frame interval)
  console.log(`Frame interval: ${deltaTime.toFixed(2)} ms`);

  requestAnimationFrame(animate);
}

requestAnimationFrame(animate);
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</textarea> <iframe id="3E08J_IFrame" class="iframe_dialog"></iframe>
   </div>
  </div>
 </div>
 <div class="snippet-header" onclick="toggleSnippetAndRefresh('iul8N','RqMMc')">
  Click to Try it <!--<span onclick="toggleSnippetAndRefresh('iul8N','RqMMc')">Click
			to Try it</span> --> <!-- <span onclick="openDialog('3E08J_Dialog')">Dialog</span> -->
 </div>
 <div class="snippet-body"><textarea id="RqMMc">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;canvas id="myCanvas" width="400" height="200" style="border:1px solid #ccc;"&gt;&lt;/canvas&gt;

&lt;script&gt;
  const canvas = document.getElementById("myCanvas");
  const ctx = canvas.getContext("2d");

let x = 0;
const speed = 0.2; // pixels per millisecond

let lastTime = 0;

function animate(timestamp) {
  if (!lastTime) lastTime = timestamp;

  const deltaTime = timestamp - lastTime;
  lastTime = timestamp;

  // Clear canvas
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Move object based on deltaTime
  x += speed * deltaTime;

  // Wrap around
  if (x &gt; canvas.width) x = -50;

  // Draw rectangle
  ctx.fillStyle = 'purple';
  ctx.fillRect(x, 50, 50, 50);

  // Log deltaTime (frame interval)
  console.log(`Frame interval: ${deltaTime.toFixed(2)} ms`);

  requestAnimationFrame(animate);
}

requestAnimationFrame(animate);
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</textarea> <br> <button onclick="renderIframe(this,'RqMMc','3E08J')">Run</button>
  <div id="3E08J_FloatingLog" class="floatingLog" aria-live="polite" role="alert"></div> <iframe id="3E08J" class="result_iframe" style="display: none;"></iframe>
  <script>
			{
				let editor = CodeMirror.fromTextArea(document
						.getElementById("RqMMc"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    const mode = localStorage.getItem("mode") || "light";  
			    const newTheme = mode === "dark" ? "material" : "default";
			    editor.setOption("theme", newTheme);
			    
				codeMirrorMap.set("RqMMc", editor);

				let editor1 = CodeMirror.fromTextArea(document.getElementById("RqMMc_Textarea"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    editor1.setOption("theme", newTheme);				
				
				codeMirrorMap.set("RqMMc_Textarea", editor1);
			}
		    function openDialog(id) {
		        closeAll();
		        document.getElementById(id).style.display = 'flex';
		        setTimeout(() => {
		        	 codeMirrorMap.get("RqMMc_Textarea").refresh();
		        }, 100); // 100ms 
		      }

		      function closeAll() {
		        document.querySelectorAll('.dialog-backdrop').forEach(el => {
		          el.style.display = 'none';
		        });
		      }			
		</script>
 </div>
</div><h3 id="summary">Summary</h3><ul>
 <li><strong>Fixed-step animations</strong> can produce inconsistent speeds if frame rate varies.</li>
 <li>Use the <strong>timestamp parameter</strong> from <code>requestAnimationFrame</code> to calculate <code>deltaTime</code> — the elapsed time since the last frame.</li>
 <li>Apply <code>deltaTime</code> to your motion updates to ensure <strong>time-based, consistent animation speed</strong>.</li>
 <li>This technique is fundamental for professional, smooth, and responsive animations.</li>
</ul><p>Next, we'll explore how to create smooth easing effects and tweening animations using mathematical functions!</p><div class = "chapter-navi-section">
<a href="#top" class="nav-button prev">↑</a>
<a href='javascript-canvas-programming.htm#advanced-animation-techniques' class="nav-button toc-link">Index</a>
<a href="#bottom" class="nav-button next">↓</a>
</div>
<h2 id='easing-functions-and-tweening'>8.2 Easing Functions and Tweening</h2><p>In real-world motion, objects rarely move at a constant speed. Instead, they <strong>accelerate</strong>, <strong>decelerate</strong>, or follow smooth, natural curves when starting or stopping. This is where <strong>easing functions</strong> and <strong>tweening</strong> come into play, making your animations feel polished and lifelike.</p><h3 id="what-is-easing">What is Easing?</h3><p>Easing controls the rate of change of a parameter over time. Instead of linear (constant speed) motion, easing creates more interesting effects:</p><ul>
 <li><strong>Linear:</strong> Constant speed, no acceleration or deceleration.</li>
 <li><strong>Ease-In:</strong> Starts slow and accelerates.</li>
 <li><strong>Ease-Out:</strong> Starts fast and decelerates.</li>
 <li><strong>Ease-In-Out:</strong> Combines ease-in and ease-out — slow start, fast middle, slow end.</li>
</ul><h3 id="tweening-explained">Tweening Explained</h3><p><strong>Tweening</strong> (short for "in-betweening") means calculating intermediate values between a start and an end state over time, using easing to shape the transition.</p><p>For example, moving a shape’s position from <code>x = 0</code> to <code>x = 100</code> over 1 second, applying easing to control speed.</p><h3 id="basic-tweening-functions">Basic Tweening Functions</h3><p>Here are some common easing functions, where <code>t</code> is the normalized time between 0 and 1:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">// Linear: no easing, constant speed
function linear(t) {
  return t;
}

// Ease-in (quadratic): slow start, accelerating
function easeInQuad(t) {
  return t * t;
}

// Ease-out (quadratic): fast start, slowing down
function easeOutQuad(t) {
  return t * (2 - t);
}

// Ease-in-out (quadratic): slow start and end
function easeInOutQuad(t) {
  return t &lt; 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;
}</code></pre>
</div><h3 id="applying-tweening-in-animation">Applying Tweening in Animation</h3><p>Here’s a simple example animating a circle’s horizontal position with different easing functions:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

let startTime = null;
const duration = 2000; // 2 seconds

const startX = 50;
const endX = 350;
const y = 100;
const radius = 30;

// Choose easing function here:
const easing = easeInOutQuad;

function animate(timestamp) {
  if (!startTime) startTime = timestamp;

  let elapsed = timestamp - startTime;
  let t = Math.min(elapsed / duration, 1); // normalize time 0 to 1

  // Calculate eased progress
  let progress = easing(t);

  // Calculate current x position
  let currentX = startX + (endX - startX) * progress;

  // Clear canvas
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Draw circle
  ctx.beginPath();
  ctx.arc(currentX, y, radius, 0, Math.PI * 2);
  ctx.fillStyle = 'steelblue';
  ctx.fill();

  if (t &lt; 1) {
    requestAnimationFrame(animate);
  }
}

requestAnimationFrame(animate);</code></pre>
</div><div class="snippet-container" id="XmCfc">
 <div id="tiQir_Dialog" class="dialog-backdrop">
  <div class="dialog">
   <h2>Dialog 1</h2>
   <div class="controls"><button onclick="renderIframe(this,'mAQuC_Textarea','tiQir_IFrame')">Run</button> <button onclick="closeAll()">Close</button>
   </div>
   <div class="dialog-content"><textarea id="mAQuC_Textarea" class="textarea_dialog" placeholder="Type HTML here...">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;Easing Animation Demo&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;canvas id="myCanvas" width="400" height="200" style="border:1px solid #ccc;"&gt;&lt;/canvas&gt;

&lt;script&gt;
  const canvas = document.getElementById("myCanvas");
  const ctx = canvas.getContext("2d");

  let startTime = null;
  const duration = 2000; // 2 seconds

  const startX = 50;
  const endX = 350;
  const y = 100;
  const radius = 30;

  // Easing function: easeInOutQuad
  function easeInOutQuad(t) {
    return t &lt; 0.5
      ? 2 * t * t
      : -1 + (4 - 2 * t) * t;
  }

  function animate(timestamp) {
    if (!startTime) startTime = timestamp;

    let elapsed = timestamp - startTime;
    let t = Math.min(elapsed / duration, 1); // normalize time 0 to 1

    // Calculate eased progress
    let progress = easeInOutQuad(t);

    // Calculate current x position
    let currentX = startX + (endX - startX) * progress;

    // Clear canvas
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Draw circle
    ctx.beginPath();
    ctx.arc(currentX, y, radius, 0, Math.PI * 2);
    ctx.fillStyle = 'steelblue';
    ctx.fill();

    if (t &lt; 1) {
      requestAnimationFrame(animate);
    }
  }

  requestAnimationFrame(animate);
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</textarea> <iframe id="tiQir_IFrame" class="iframe_dialog"></iframe>
   </div>
  </div>
 </div>
 <div class="snippet-header" onclick="toggleSnippetAndRefresh('XmCfc','mAQuC')">
  Click to Try it <!--<span onclick="toggleSnippetAndRefresh('XmCfc','mAQuC')">Click
			to Try it</span> --> <!-- <span onclick="openDialog('tiQir_Dialog')">Dialog</span> -->
 </div>
 <div class="snippet-body"><textarea id="mAQuC">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;Easing Animation Demo&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;canvas id="myCanvas" width="400" height="200" style="border:1px solid #ccc;"&gt;&lt;/canvas&gt;

&lt;script&gt;
  const canvas = document.getElementById("myCanvas");
  const ctx = canvas.getContext("2d");

  let startTime = null;
  const duration = 2000; // 2 seconds

  const startX = 50;
  const endX = 350;
  const y = 100;
  const radius = 30;

  // Easing function: easeInOutQuad
  function easeInOutQuad(t) {
    return t &lt; 0.5
      ? 2 * t * t
      : -1 + (4 - 2 * t) * t;
  }

  function animate(timestamp) {
    if (!startTime) startTime = timestamp;

    let elapsed = timestamp - startTime;
    let t = Math.min(elapsed / duration, 1); // normalize time 0 to 1

    // Calculate eased progress
    let progress = easeInOutQuad(t);

    // Calculate current x position
    let currentX = startX + (endX - startX) * progress;

    // Clear canvas
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Draw circle
    ctx.beginPath();
    ctx.arc(currentX, y, radius, 0, Math.PI * 2);
    ctx.fillStyle = 'steelblue';
    ctx.fill();

    if (t &lt; 1) {
      requestAnimationFrame(animate);
    }
  }

  requestAnimationFrame(animate);
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</textarea> <br> <button onclick="renderIframe(this,'mAQuC','tiQir')">Run</button>
  <div id="tiQir_FloatingLog" class="floatingLog" aria-live="polite" role="alert"></div> <iframe id="tiQir" class="result_iframe" style="display: none;"></iframe>
  <script>
			{
				let editor = CodeMirror.fromTextArea(document
						.getElementById("mAQuC"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    const mode = localStorage.getItem("mode") || "light";  
			    const newTheme = mode === "dark" ? "material" : "default";
			    editor.setOption("theme", newTheme);
			    
				codeMirrorMap.set("mAQuC", editor);

				let editor1 = CodeMirror.fromTextArea(document.getElementById("mAQuC_Textarea"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    editor1.setOption("theme", newTheme);				
				
				codeMirrorMap.set("mAQuC_Textarea", editor1);
			}
		    function openDialog(id) {
		        closeAll();
		        document.getElementById(id).style.display = 'flex';
		        setTimeout(() => {
		        	 codeMirrorMap.get("mAQuC_Textarea").refresh();
		        }, 100); // 100ms 
		      }

		      function closeAll() {
		        document.querySelectorAll('.dialog-backdrop').forEach(el => {
		          el.style.display = 'none';
		        });
		      }			
		</script>
 </div>
</div><h3 id="visualizing-easing-curves">Visualizing Easing Curves</h3><p>Try swapping out the <code>easing</code> function with <code>linear</code>, <code>easeInQuad</code>, <code>easeOutQuad</code>, or others to see how the motion changes.</p><h3 id="tweaking-easing-curves">Tweaking Easing Curves</h3><ul>
 <li>Experiment by adjusting the math inside easing functions.</li>
 <li>Use easing libraries like <a href="https://easings.net/">Robert Penner’s easing functions</a> or built-in options from animation frameworks.</li>
 <li>Combine multiple easing functions for complex effects.</li>
</ul><h3 id="summary">Summary</h3><ul>
 <li><strong>Easing</strong> makes animations feel smooth and natural by controlling speed over time.</li>
 <li><strong>Tweening</strong> calculates intermediate animation states using easing.</li>
 <li>Implementing easing functions enhances realism and user experience.</li>
 <li>Try animating different properties like size, color, or position with easing to master this technique.</li>
</ul><p>In the next section, we'll explore animating multiple objects and handling their interactions!</p><div class = "chapter-navi-section">
<a href="#top" class="nav-button prev">↑</a>
<a href='javascript-canvas-programming.htm#advanced-animation-techniques' class="nav-button toc-link">Index</a>
<a href="#bottom" class="nav-button next">↓</a>
</div>
<h2 id='multiple-object-animations-and-interactions'>8.3 Multiple Object Animations and Interactions</h2><p>Animating multiple objects simultaneously opens up a world of possibilities—from bubbles floating up the screen, to interactive games with many sprites. In this section, we'll explore how to manage many independent objects efficiently, update their states, render them in the correct order, and handle basic interactions.</p><h3 id="managing-multiple-objects">Managing Multiple Objects</h3><p>The most common way to handle multiple animated objects is to store them in an <strong>array</strong> or use an <strong>object-oriented</strong> approach where each object has its own properties and methods.</p><h3 id="example-array-of-bubble-objects">Example: Array of Bubble Objects</h3><p>Each bubble can have properties like position, velocity, size, and color. In each animation frame, you update all bubbles and then draw them.</p><h3 id="structure-of-the-animation-loop">Structure of the Animation Loop</h3><ol>
 <li><strong>Update Phase:</strong> Update the position, velocity, or other state properties for each object.</li>
 <li><strong>Render Phase:</strong> Draw all objects on the canvas in the desired order.</li>
 <li><strong>Interaction Handling:</strong> Check for collisions or user interactions (e.g., mouse clicks).</li>
</ol><h3 id="demo-animated-bubbles-with-interaction">Demo: Animated Bubbles with Interaction</h3><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-html">&lt;canvas id="canvas" width="500" height="400" style="border:1px solid #ccc;"&gt;&lt;/canvas&gt;</code></pre>
</div><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

class Bubble {
  constructor(x, y, radius, vx, vy, color) {
    this.x = x;
    this.y = y;
    this.radius = radius;
    this.vx = vx;
    this.vy = vy;
    this.color = color;
  }

  update() {
    this.x += this.vx;
    this.y += this.vy;

    // Bounce off walls
    if (this.x + this.radius &gt; canvas.width || this.x - this.radius &lt; 0) {
      this.vx = -this.vx;
    }
    if (this.y + this.radius &gt; canvas.height || this.y - this.radius &lt; 0) {
      this.vy = -this.vy;
    }
  }

  draw() {
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
    ctx.fillStyle = this.color;
    ctx.fill();
    ctx.strokeStyle = 'black';
    ctx.stroke();
  }

  isPointInside(px, py) {
    const dx = px - this.x;
    const dy = py - this.y;
    return dx * dx + dy * dy &lt;= this.radius * this.radius;
  }
}

// Create bubbles
const bubbles = [];
for (let i = 0; i &lt; 20; i++) {
  bubbles.push(
    new Bubble(
      Math.random() * canvas.width,
      Math.random() * canvas.height,
      15 + Math.random() * 10,
      (Math.random() - 0.5) * 4,
      (Math.random() - 0.5) * 4,
      `hsl(${Math.random() * 360}, 70%, 60%)`
    )
  );
}

// Handle clicks to pop bubbles
canvas.addEventListener('click', (e) =&gt; {
  const rect = canvas.getBoundingClientRect();
  const mouseX = e.clientX - rect.left;
  const mouseY = e.clientY - rect.top;

  for (let i = bubbles.length - 1; i &gt;= 0; i--) {
    if (bubbles[i].isPointInside(mouseX, mouseY)) {
      bubbles.splice(i, 1); // Remove popped bubble
      break;
    }
  }
});

function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Update and draw all bubbles
  bubbles.forEach(bubble =&gt; {
    bubble.update();
    bubble.draw();
  });

  requestAnimationFrame(animate);
}

animate();</code></pre>
</div><div class="snippet-container" id="wUJuL">
 <div id="QOOK7_Dialog" class="dialog-backdrop">
  <div class="dialog">
   <h2>Dialog 1</h2>
   <div class="controls"><button onclick="renderIframe(this,'LA0Ev_Textarea','QOOK7_IFrame')">Run</button> <button onclick="closeAll()">Close</button>
   </div>
   <div class="dialog-content"><textarea id="LA0Ev_Textarea" class="textarea_dialog" placeholder="Type HTML here...">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;canvas id="myCanvas" width="400" height="200" style="border:1px solid #ccc;"&gt;&lt;/canvas&gt;

&lt;script&gt;
  const canvas = document.getElementById("myCanvas");
  const ctx = canvas.getContext("2d");

class Bubble {
  constructor(x, y, radius, vx, vy, color) {
    this.x = x;
    this.y = y;
    this.radius = radius;
    this.vx = vx;
    this.vy = vy;
    this.color = color;
  }

  update() {
    this.x += this.vx;
    this.y += this.vy;

    // Bounce off walls
    if (this.x + this.radius &gt; canvas.width || this.x - this.radius &lt; 0) {
      this.vx = -this.vx;
    }
    if (this.y + this.radius &gt; canvas.height || this.y - this.radius &lt; 0) {
      this.vy = -this.vy;
    }
  }

  draw() {
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
    ctx.fillStyle = this.color;
    ctx.fill();
    ctx.strokeStyle = 'black';
    ctx.stroke();
  }

  isPointInside(px, py) {
    const dx = px - this.x;
    const dy = py - this.y;
    return dx * dx + dy * dy &lt;= this.radius * this.radius;
  }
}

// Create bubbles
const bubbles = [];
for (let i = 0; i &lt; 20; i++) {
  bubbles.push(
    new Bubble(
      Math.random() * canvas.width,
      Math.random() * canvas.height,
      15 + Math.random() * 10,
      (Math.random() - 0.5) * 4,
      (Math.random() - 0.5) * 4,
      `hsl(${Math.random() * 360}, 70%, 60%)`
    )
  );
}

// Handle clicks to pop bubbles
canvas.addEventListener('click', (e) =&gt; {
  const rect = canvas.getBoundingClientRect();
  const mouseX = e.clientX - rect.left;
  const mouseY = e.clientY - rect.top;

  for (let i = bubbles.length - 1; i &gt;= 0; i--) {
    if (bubbles[i].isPointInside(mouseX, mouseY)) {
      bubbles.splice(i, 1); // Remove popped bubble
      break;
    }
  }
});

function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Update and draw all bubbles
  bubbles.forEach(bubble =&gt; {
    bubble.update();
    bubble.draw();
  });

  requestAnimationFrame(animate);
}

animate();
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</textarea> <iframe id="QOOK7_IFrame" class="iframe_dialog"></iframe>
   </div>
  </div>
 </div>
 <div class="snippet-header" onclick="toggleSnippetAndRefresh('wUJuL','LA0Ev')">
  Click to Try it <!--<span onclick="toggleSnippetAndRefresh('wUJuL','LA0Ev')">Click
			to Try it</span> --> <!-- <span onclick="openDialog('QOOK7_Dialog')">Dialog</span> -->
 </div>
 <div class="snippet-body"><textarea id="LA0Ev">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;canvas id="myCanvas" width="400" height="200" style="border:1px solid #ccc;"&gt;&lt;/canvas&gt;

&lt;script&gt;
  const canvas = document.getElementById("myCanvas");
  const ctx = canvas.getContext("2d");

class Bubble {
  constructor(x, y, radius, vx, vy, color) {
    this.x = x;
    this.y = y;
    this.radius = radius;
    this.vx = vx;
    this.vy = vy;
    this.color = color;
  }

  update() {
    this.x += this.vx;
    this.y += this.vy;

    // Bounce off walls
    if (this.x + this.radius &gt; canvas.width || this.x - this.radius &lt; 0) {
      this.vx = -this.vx;
    }
    if (this.y + this.radius &gt; canvas.height || this.y - this.radius &lt; 0) {
      this.vy = -this.vy;
    }
  }

  draw() {
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
    ctx.fillStyle = this.color;
    ctx.fill();
    ctx.strokeStyle = 'black';
    ctx.stroke();
  }

  isPointInside(px, py) {
    const dx = px - this.x;
    const dy = py - this.y;
    return dx * dx + dy * dy &lt;= this.radius * this.radius;
  }
}

// Create bubbles
const bubbles = [];
for (let i = 0; i &lt; 20; i++) {
  bubbles.push(
    new Bubble(
      Math.random() * canvas.width,
      Math.random() * canvas.height,
      15 + Math.random() * 10,
      (Math.random() - 0.5) * 4,
      (Math.random() - 0.5) * 4,
      `hsl(${Math.random() * 360}, 70%, 60%)`
    )
  );
}

// Handle clicks to pop bubbles
canvas.addEventListener('click', (e) =&gt; {
  const rect = canvas.getBoundingClientRect();
  const mouseX = e.clientX - rect.left;
  const mouseY = e.clientY - rect.top;

  for (let i = bubbles.length - 1; i &gt;= 0; i--) {
    if (bubbles[i].isPointInside(mouseX, mouseY)) {
      bubbles.splice(i, 1); // Remove popped bubble
      break;
    }
  }
});

function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Update and draw all bubbles
  bubbles.forEach(bubble =&gt; {
    bubble.update();
    bubble.draw();
  });

  requestAnimationFrame(animate);
}

animate();
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</textarea> <br> <button onclick="renderIframe(this,'LA0Ev','QOOK7')">Run</button>
  <div id="QOOK7_FloatingLog" class="floatingLog" aria-live="polite" role="alert"></div> <iframe id="QOOK7" class="result_iframe" style="display: none;"></iframe>
  <script>
			{
				let editor = CodeMirror.fromTextArea(document
						.getElementById("LA0Ev"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    const mode = localStorage.getItem("mode") || "light";  
			    const newTheme = mode === "dark" ? "material" : "default";
			    editor.setOption("theme", newTheme);
			    
				codeMirrorMap.set("LA0Ev", editor);

				let editor1 = CodeMirror.fromTextArea(document.getElementById("LA0Ev_Textarea"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    editor1.setOption("theme", newTheme);				
				
				codeMirrorMap.set("LA0Ev_Textarea", editor1);
			}
		    function openDialog(id) {
		        closeAll();
		        document.getElementById(id).style.display = 'flex';
		        setTimeout(() => {
		        	 codeMirrorMap.get("LA0Ev_Textarea").refresh();
		        }, 100); // 100ms 
		      }

		      function closeAll() {
		        document.querySelectorAll('.dialog-backdrop').forEach(el => {
		          el.style.display = 'none';
		        });
		      }			
		</script>
 </div>
</div><h3 id="key-points-in-this-example">Key Points in This Example</h3><ul>
 <li><strong>Object-oriented design:</strong> Each bubble encapsulates its properties and behavior.</li>
 <li><strong>Array management:</strong> All bubbles are stored in an array for easy iteration.</li>
 <li><strong>Collision with canvas edges:</strong> Velocity reverses on boundary hits.</li>
 <li><strong>Interaction:</strong> Clicking on a bubble removes it from the array.</li>
 <li><strong>Efficient looping:</strong> Updating and rendering are done separately but in sequence for clarity and performance.</li>
</ul><h3 id="organizing-for-performance-and-scalability">Organizing for Performance and Scalability</h3><ul>
 <li><strong>Batch updates and renders:</strong> Avoid redundant calculations inside loops.</li>
 <li><strong>Spatial partitioning:</strong> For many objects, optimize collision checks using grids or quadtrees.</li>
 <li><strong>Use <code>requestAnimationFrame</code>:</strong> Synchronizes drawing with browser refresh for smooth animations.</li>
 <li><strong>Offscreen canvases:</strong> For complex static backgrounds or repeated patterns.</li>
</ul><h3 id="summary">Summary</h3><p>Animating multiple objects requires:</p><ul>
 <li>Managing collections (arrays or objects) of independent entities.</li>
 <li>Updating each object's state and rendering them every frame.</li>
 <li>Handling interactions like collisions or user input.</li>
 <li>Writing organized, modular code to keep updates and rendering clear and maintainable.</li>
</ul><p>Next, we'll put these concepts together in a fun <strong>Simple Particle System</strong> example that demonstrates many moving particles with interaction and effects!</p><div class = "chapter-navi-section">
<a href="#top" class="nav-button prev">↑</a>
<a href='javascript-canvas-programming.htm#advanced-animation-techniques' class="nav-button toc-link">Index</a>
<a href="#bottom" class="nav-button next">↓</a>
</div>
<h2 id='practical-example-simple-particle-system'>8.4 Practical Example: Simple Particle System</h2><p>Particle systems are a classic way to create visually appealing effects like fireworks, smoke, rain, or explosions. In this example, we’ll build a simple particle system where particles are emitted from a point, move in random directions, and fade out over time.</p><h3 id="whats-happening-here">Whats Happening Here?</h3><ul>
 <li>Particles are created at an <strong>emitter point</strong>.</li>
 <li>Each particle has random velocity, color, and lifespan.</li>
 <li>Particles move each frame, gradually becoming more transparent.</li>
 <li>When a particle’s lifespan ends, it is removed from the system.</li>
 <li>We use an array to store particles and manage their life cycle.</li>
</ul><h3 id="step-by-step-code">Step-by-Step Code</h3><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-html">&lt;canvas id="canvas" width="500" height="400" style="border:1px solid #ccc;"&gt;&lt;/canvas&gt;</code></pre>
</div><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

class Particle {
  constructor(x, y) {
    this.x = x;
    this.y = y;
    this.radius = 5 + Math.random() * 5;
    this.vx = (Math.random() - 0.5) * 4; // random velocity X
    this.vy = (Math.random() - 0.5) * 4; // random velocity Y
    this.alpha = 1; // opacity
    this.life = 100 + Math.random() * 50; // lifespan in frames
    this.color = `hsl(${Math.random() * 360}, 70%, 60%)`;
  }

  update() {
    this.x += this.vx;
    this.y += this.vy;

    // Optional: Gravity effect
    this.vy += 0.05;

    // Fade out
    this.alpha -= 1 / this.life;

    // Reduce radius slowly (optional)
    this.radius *= 0.98;
  }

  draw() {
    ctx.save();
    ctx.globalAlpha = Math.max(this.alpha, 0); // prevent negative opacity
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
    ctx.fillStyle = this.color;
    ctx.fill();
    ctx.restore();
  }

  isAlive() {
    return this.alpha &gt; 0 &amp;&amp; this.radius &gt; 0.5;
  }
}

// Particle system array
const particles = [];
const emitterX = canvas.width / 2;
const emitterY = canvas.height / 2;

function emitParticles(count) {
  for (let i = 0; i &lt; count; i++) {
    particles.push(new Particle(emitterX, emitterY));
  }
}

function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Emit new particles continuously
  emitParticles(3);

  // Update and draw particles
  for (let i = particles.length - 1; i &gt;= 0; i--) {
    const p = particles[i];
    p.update();
    p.draw();

    // Remove dead particles
    if (!p.isAlive()) {
      particles.splice(i, 1);
    }
  }

  requestAnimationFrame(animate);
}

animate();</code></pre>
</div><div class="snippet-container" id="lEcsA">
 <div id="AvUw3_Dialog" class="dialog-backdrop">
  <div class="dialog">
   <h2>Dialog 1</h2>
   <div class="controls"><button onclick="renderIframe(this,'GcGQp_Textarea','AvUw3_IFrame')">Run</button> <button onclick="closeAll()">Close</button>
   </div>
   <div class="dialog-content"><textarea id="GcGQp_Textarea" class="textarea_dialog" placeholder="Type HTML here...">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;canvas id="myCanvas" width="500" height="400" style="border:1px solid #ccc;"&gt;&lt;/canvas&gt;

&lt;script&gt;
  const canvas = document.getElementById("myCanvas");
  const ctx = canvas.getContext("2d");

class Particle {
  constructor(x, y) {
    this.x = x;
    this.y = y;
    this.radius = 5 + Math.random() * 5;
    this.vx = (Math.random() - 0.5) * 4; // random velocity X
    this.vy = (Math.random() - 0.5) * 4; // random velocity Y
    this.alpha = 1; // opacity
    this.life = 100 + Math.random() * 50; // lifespan in frames
    this.color = `hsl(${Math.random() * 360}, 70%, 60%)`;
  }

  update() {
    this.x += this.vx;
    this.y += this.vy;

    // Optional: Gravity effect
    this.vy += 0.05;

    // Fade out
    this.alpha -= 1 / this.life;

    // Reduce radius slowly (optional)
    this.radius *= 0.98;
  }

  draw() {
    ctx.save();
    ctx.globalAlpha = Math.max(this.alpha, 0); // prevent negative opacity
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
    ctx.fillStyle = this.color;
    ctx.fill();
    ctx.restore();
  }

  isAlive() {
    return this.alpha &gt; 0 &amp;&amp; this.radius &gt; 0.5;
  }
}

// Particle system array
const particles = [];
const emitterX = canvas.width / 2;
const emitterY = canvas.height / 2;

function emitParticles(count) {
  for (let i = 0; i &lt; count; i++) {
    particles.push(new Particle(emitterX, emitterY));
  }
}

function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Emit new particles continuously
  emitParticles(3);

  // Update and draw particles
  for (let i = particles.length - 1; i &gt;= 0; i--) {
    const p = particles[i];
    p.update();
    p.draw();

    // Remove dead particles
    if (!p.isAlive()) {
      particles.splice(i, 1);
    }
  }

  requestAnimationFrame(animate);
}

animate();
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</textarea> <iframe id="AvUw3_IFrame" class="iframe_dialog"></iframe>
   </div>
  </div>
 </div>
 <div class="snippet-header" onclick="toggleSnippetAndRefresh('lEcsA','GcGQp')">
  Click to Try it <!--<span onclick="toggleSnippetAndRefresh('lEcsA','GcGQp')">Click
			to Try it</span> --> <!-- <span onclick="openDialog('AvUw3_Dialog')">Dialog</span> -->
 </div>
 <div class="snippet-body"><textarea id="GcGQp">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;canvas id="myCanvas" width="500" height="400" style="border:1px solid #ccc;"&gt;&lt;/canvas&gt;

&lt;script&gt;
  const canvas = document.getElementById("myCanvas");
  const ctx = canvas.getContext("2d");

class Particle {
  constructor(x, y) {
    this.x = x;
    this.y = y;
    this.radius = 5 + Math.random() * 5;
    this.vx = (Math.random() - 0.5) * 4; // random velocity X
    this.vy = (Math.random() - 0.5) * 4; // random velocity Y
    this.alpha = 1; // opacity
    this.life = 100 + Math.random() * 50; // lifespan in frames
    this.color = `hsl(${Math.random() * 360}, 70%, 60%)`;
  }

  update() {
    this.x += this.vx;
    this.y += this.vy;

    // Optional: Gravity effect
    this.vy += 0.05;

    // Fade out
    this.alpha -= 1 / this.life;

    // Reduce radius slowly (optional)
    this.radius *= 0.98;
  }

  draw() {
    ctx.save();
    ctx.globalAlpha = Math.max(this.alpha, 0); // prevent negative opacity
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
    ctx.fillStyle = this.color;
    ctx.fill();
    ctx.restore();
  }

  isAlive() {
    return this.alpha &gt; 0 &amp;&amp; this.radius &gt; 0.5;
  }
}

// Particle system array
const particles = [];
const emitterX = canvas.width / 2;
const emitterY = canvas.height / 2;

function emitParticles(count) {
  for (let i = 0; i &lt; count; i++) {
    particles.push(new Particle(emitterX, emitterY));
  }
}

function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Emit new particles continuously
  emitParticles(3);

  // Update and draw particles
  for (let i = particles.length - 1; i &gt;= 0; i--) {
    const p = particles[i];
    p.update();
    p.draw();

    // Remove dead particles
    if (!p.isAlive()) {
      particles.splice(i, 1);
    }
  }

  requestAnimationFrame(animate);
}

animate();
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</textarea> <br> <button onclick="renderIframe(this,'GcGQp','AvUw3')">Run</button>
  <div id="AvUw3_FloatingLog" class="floatingLog" aria-live="polite" role="alert"></div> <iframe id="AvUw3" class="result_iframe" style="display: none;"></iframe>
  <script>
			{
				let editor = CodeMirror.fromTextArea(document
						.getElementById("GcGQp"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    const mode = localStorage.getItem("mode") || "light";  
			    const newTheme = mode === "dark" ? "material" : "default";
			    editor.setOption("theme", newTheme);
			    
				codeMirrorMap.set("GcGQp", editor);

				let editor1 = CodeMirror.fromTextArea(document.getElementById("GcGQp_Textarea"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    editor1.setOption("theme", newTheme);				
				
				codeMirrorMap.set("GcGQp_Textarea", editor1);
			}
		    function openDialog(id) {
		        closeAll();
		        document.getElementById(id).style.display = 'flex';
		        setTimeout(() => {
		        	 codeMirrorMap.get("GcGQp_Textarea").refresh();
		        }, 100); // 100ms 
		      }

		      function closeAll() {
		        document.querySelectorAll('.dialog-backdrop').forEach(el => {
		          el.style.display = 'none';
		        });
		      }			
		</script>
 </div>
</div><h3 id="how-it-works">How It Works</h3><ul>
 <li><strong>Particle creation:</strong> The <code>emitParticles</code> function adds new particles every frame at the emitter position.</li>
 <li><strong>Randomness:</strong> Each particle has random velocity, size, color, and lifespan for a natural look.</li>
 <li><strong>Movement and gravity:</strong> Velocity changes position; gravity pulls particles downward.</li>
 <li><strong>Fading out:</strong> The alpha transparency gradually decreases until the particle disappears.</li>
 <li><strong>Cleanup:</strong> Dead particles are removed from the array to keep the system efficient.</li>
</ul><h3 id="experiment-and-extend">Experiment and Extend</h3><ul>
 <li><strong>Gravity:</strong> Modify gravity strength (<code>this.vy += 0.05</code>) or invert it for floating effects.</li>
 <li><strong>Explosion:</strong> Emit many particles once in a burst instead of continuously.</li>
 <li><strong>Mouse emitter:</strong> Update <code>emitterX</code> and <code>emitterY</code> based on mouse position.</li>
 <li><strong>Color &amp; size variations:</strong> Change how colors and sizes evolve over time.</li>
 <li><strong>Add collision or bouncing:</strong> Make particles bounce off canvas edges.</li>
</ul><h3 id="summary">Summary</h3><p>This simple particle system illustrates core animation concepts:</p><ul>
 <li>Managing multiple independent objects in an array.</li>
 <li>Using randomness for natural variation.</li>
 <li>Updating position, velocity, and opacity each frame.</li>
 <li>Removing expired particles to optimize performance.</li>
</ul><p>Particle systems are powerful building blocks for visual effects — tweak parameters and build on this foundation to create impressive animations!</p><div class = "chapter-navi-section">
<a href="javascript-canvas-programming-animation-basics.htm" class="nav-button prev">←</a>
<a href='javascript-canvas-programming.htm#advanced-animation-techniques' class="nav-button toc-link">Index</a>
<a href="javascript-canvas-programming-user-interaction-and-event-handling.htm" class="nav-button next">→</a>
</div>
<section class="download-section">
  <div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 16px;color: #333;top: 10px;">JavaScript Canvas Programming</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 80px;height: 80px;top: 70px;" src='data:image/png;base64,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'/>
  </div>
  <div class="download-info">
    <h2 id='bottom'>Download This Ebook</h2>
    <p class="format-label">Available formats:</p>
    <div class="download-buttons">
      <a href="javascript-canvas-programming.pdf" class="download-button">📄 PDF</a>
      <a href="javascript-canvas-programming.epub" class="download-button">📘 EPUB</a>
    </div>
  </div>
</section><div class='related-books'>
<h2>Javascript Web Front Books</h2>
<div class='related-book-list'>
<a href="javascript-canvas-programming.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 16px;color: #333;top: 10px;">JavaScript Canvas Programming</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 80px;height: 80px;top: 70px;" src='data:image/png;base64,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'/>
  </div>
</a>


<a href="javascript-dom-programming.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 16px;color: #333;top: 20px;">JavaScript DOM Programming</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 60px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAADUklEQVR4Xu2dv47TQBDGI0RDczY9rwMlrwEFBweC/t4EXRwaXuI6WiSaOLkCIZ6BCqTgPRFr8zkbnPF4Zuydn/RVuzsz33eSlX/2LRYRm1Xxe1MVOzY19eL6/6NzfqCw/ilEvXc2Mwh7pNiuyks8O1T1snyNfVLgWQ5hjxbcyCHskaJelVd4drCW5Vvsk6JzlkHYo6XXph5Q6hwEfUZASDhLqUOZ+Ri96vTa1ANKHQ+aAKWOB02AUseDJkCp40EToNTxoAlQ6njQBCh1PGgClDrZBs0l7JEi23eGXMIeKTbVxSs8O1Trm4tL7JMCz3IIe7Rsq+IXbh6iUA97nALPDxXWP4W29w5xMVwbG67rOBVR76LNAA9aiKyCbq49L0QbRmgGHXuul8VLXB+F3IPGtdGIm0o21gpay+89Gs01gtbwecDPz08eSQ8hHTT6C55xjwh3q+IZDhO0u148wL0cSAR93cyOfoKCV9wryu528RCHmpuCR/StRvOy7w8OOHUFT+jTDHdV+RwHnpqCB/SVFRLXaGfhQYvhQQvhQQvhQQvhQf8DXyZNXehPnW+fisc45FwUvKFfNXC4uQn9qvD1Y1maG4qB2NP3xiOui1NX5Zv9QNuq+IDrU6Xx8n7vq16WV7guTvxKYH1TvsP1qWLOl7mBmDDny9xATJjzZW4gJsz5MjcQE+Z8mRuICXO+zA3EhDlf5gZiwpwvcwMxYc6XuYGYMOfL3EBMmPNlbiAmzPkyNxAT5nyZG4gJc778Y1Ih/IN/QeKh5ij0q8acv5z9YenL2T045NSF/rIhfiWQ9Q9oxsaDFsKDFsKDFsKDFsKDjqj9ZqFx8dvfRubWb+gcn+Yv/hSHuh9swrcoh9nRT5DaLcpf/KZ7GXAIXB8D6aADGj5btJprBB3Q8nvQGNfGRCvogLjntT+8SubhVVohBzSDDoh6F20GeNBCzCZo7Qeh4vmhwvqnEPWOmzmEPVJk9Vhj3Mgh7JHi4LLApTMuL52zDMIeLb029YBSh+v6G85S6lBmPkavOr029YBSx4MmQKnjQROg1PGgCVDqeNAEKHU8aAKUOh40AUodD5oApU62QXMJe6TI9p0hl7BHitz+XTX3j2DO+gHKkfODhPVPsRnZ+1+tJg8Iaaje6wAAAABJRU5ErkJggg=="/>
  </div>
</a>


<a href="javascript-data-visualization.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 16px;color: #333;top: 20px;">JavaScript Data Visualization</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 60px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAC0UlEQVR4Xu3dMWsUURSG4fwr2U6zJI0WKZSAaa0EG7tU2giWimLETrQQQRCxUDsbK3+IYOWCiFU06IQz356ZuffOvXdm4A28ze585OxDsLDZnR3zs1pf+rHavXhKWdpY2/Mf50HKEMgV+4cs/1z8/v6OMiTYm9Zfsz5M42r9VQNdLqArBXSlgK4U0JUCulKLgrb39aW7ObQY6PXl/S3Qrs6e1f3ULQZaMYfS/dTZ2xYDvff6g9tS7ge6YEBXCuhKAV0poCsFdKWArtQk0G9e3Tt9dnLc2+dPD1sboCOzv2Ool8/vujsFBtpJMYfydgoMtFMqWOpuLtnbgC6YvQ3ogtnbgC6YvQ3ogtnbgC6YvQ3ogtnbgC6YvQ3ogtnboqCvHR20xn11/UKF6gNL3Y1JP0dXV68fbG01+3wUtP6yvp4+OXZ3CtUHlrpL7ew/tvRz9KV7zT4LtGmW0O+/fnRr3l86tH4u/Xwhv88+C7QJ6MhdakBH7lIDOnKXGtCRu9SAjtylBnTkLjWgI3e67evnt7fnG6BH7EJqdkCP2IXU7IAesft169DN2wE9YqfAQDt35NgpMNDOHTl2Cgy0c0eOnQID7dxhXwvJ2ykw0M4d9rWQvJ0CA+3cYV8LydspMNDOHfa1C/cfuQ3tFBho5w77mgID/f99oCeGDsnbKXBp6JDUR7PPAm12QO8CvVXzfhe0QoWC6fOhOwUOhX7w4rGbt+vKPgu02QE9YqfAi4Meai7QITU7oEfsQmp2s4S+cfumW/P+XKDvXFm7ebtZQusBeshcoL8c7rt5O6BH7BQYaOeOHDsFBtq5I8dOgYF27sixU2CgnTty7BQYaOeOHDsFBtq5I8dOgRcHPVQXdEhT7Wb536RDAQ30Vs1uNtAUF9CVArpSQFcK6EoBXSmgK9WG5qtQi2RNV803KsuLlDn7RcpgF6qF3Pz8fWOjD1JyrS9g/wOlHj3Oru4PcQAAAABJRU5ErkJggg=="/>
  </div>
</a>


<a href="jquery-in-depth.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 18px;color: #333;top: 20px;">jQuery In-Depth</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 65px;" src='data:image/png;base64,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'/>
  </div>
</a>



<a href='javascript.htm'><div class='book-cover' style='background-color: #f9f6f1;color: #111111;border: 1px solid #ccc;display: flex;justify-content: center;align-items: center;text-align: center;'>More Javascript Books</div></a>
</div>
</div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
  
  <script>
    function copyCode(button) {
      const code = button.nextElementSibling.innerText;
      navigator.clipboard.writeText(code).then(() => {
        button.textContent = 'Copied!';
        setTimeout(() => { button.textContent = 'Copy'; }, 1500);
      });
    }
  </script>  
<div id="floatingLog" aria-live="polite" role="alert"></div>
<footer class="page-footer">
    <nav>
      <a href="https://readbytes.github.io">Home</a> | 
      Email:<script language="JavaScript" type="text/javascript">
var part1 = 'yinpeng';var part6 = '263';var part2 = Math.pow(2,6);var part3 = String.fromCharCode(part2);var part4 = 'hotmail dot com';var part5 = part1 + String.fromCharCode(part2) + part4;document.write(part1 + part6 + part3 + part4);
</script>
    </nav>
  <p>© 2025 — All rights reserved.</p>    
  </footer>

</body>
</html>