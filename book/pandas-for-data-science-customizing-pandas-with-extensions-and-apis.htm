<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Pandas for Data Science Customizing Pandas with Extensions and APIs</title>
<link rel='shortcut icon' href='https://readbytes.github.io/images/favicon.ico'>
<link href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" rel="stylesheet" />
<link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/dracula.min.css"><style>
html {scroll-behavior: smooth;}  
body {font-family: 'Merriweather', serif;;margin: 0;padding: 2rem 1rem;font-size: 15px;line-height: 1.5;transition: background-color 0.3s, color 0.3s;}
.container {max-width: 750px;margin: 0 auto;padding: 1rem 2rem;}
.light-mode {background-color: #f8f7f5;color: #333;} 
.dark-mode {background-color: #121212;color: #e0e0e0;}
a { text-decoration: none;transition: color 0.2s;}
a:hover {text-decoration: underline;}
.light-mode a {color: #555;}
.dark-mode a {color: #aaa;}
</style><style>
.related-book-list {display: flex;flex-wrap: wrap;gap: 20px;}
.related-books {margin-top: 40px;}
.related-books h2 {font-size: 22px;margin-bottom: 20px;border-bottom: 2px solid #eee;padding-bottom: 8px;}
.light-mode .related-books h2 {color: #333;border-color: #eee;}
.dark-mode .related-books h2 {color: #ddd;border-color: #333;}
</style><style>
.book-cover {width: 130px;height: 180px;font-family: Arial, sans-serif;position: relative;overflow: hidden;box-shadow: 2px 2px 4px rgba(0,0,0,0.1);}
.book-cover-bottom-stripe {position: absolute;bottom: 0;left: 0;height: 5px;width: 100%;}
.book-cover-title {position: absolute;width: 100%;text-align: center;font-weight: bold;}
.book-cover-icon {position: absolute;left: 50%;transform: translateX(-50%);display: flex;align-items: center;justify-content: center;}
.book-cover-author {position: absolute;bottom: 10px;width: 100%;text-align: center;font-size: 8px;color: #333;}
</style><style>
.book-title-toc {font-size: 32px;font-weight: bold; }
.book-subtitle-toc {font-size: 18px;margin-top: 8px;font-style: italic;}
.book-header {text-align: center;margin-bottom: 40px;}

.toc-container {border-radius: 10px;padding: 30px;margin-bottom: 40px;box-shadow: 0 8px 20px rgba(0,0,0,0.05);}
h1 {font-size: 24px;text-align: center;margin-bottom: 30px;letter-spacing: 1px;padding-bottom: 10px;}
.toc-list,.toc-section-list {list-style: none;padding: 0;margin: 0;}
.toc-section-list {padding-left: 18px;margin-top: 6px;margin-bottom: 20px; }
.toc-chapter {padding: 20px 0;}
.chapter-title,.toc-section {display: flex;justify-content: space-between;padding-top: 4px;}
.chapter-title {font-size: 17px;font-weight: bold;}
.chapter-page,.section-page {font-style: italic;}
 
 
.light-mode .book-title-toc,.light-mode .chapter-title,.light-mode .book-name {color: #222;}
.light-mode .book-subtitle-toc,.light-mode .book-sub,.light-mode .chapter-page,.light-mode .section-page {color: #666;}
.light-mode .toc-container { background: #fff;border: 1px solid #ddd;}
.light-mode h1 {border-bottom: 2px solid #eee;color: #222;}
.light-mode .toc-section {  color: #444;}

.light-mode .book-cover { border: 1px solid #ccc;box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);}
.light-mode .book-title,.light-mode .series-name {color: #fff;}
.light-mode .book-subtitle,.light-mode .book-footer {color: #aaa;}

.dark-mode .book-title-toc,.dark-mode .chapter-title,.dark-mode .book-name {color: #f5f5f5;}
.dark-mode .book-subtitle-toc,.dark-mode .book-sub,.dark-mode .chapter-page,.dark-mode .section-page {color: #aaa;}
.dark-mode .toc-container {background: #1e1e1e;border: 1px solid #444;}

.dark-mode h1 {border-bottom: 2px solid #333;color: #eee;}
.dark-mode .toc-section {color: #bbb;}

.dark-mode .related-books h2 {color: #ddd;border-bottom: 2px solid #333;}
.dark-mode .book-title,.dark-mode .series-name {color: #fff;}
.dark-mode .book-subtitle,.dark-mode .book-footer {color: #bbb;}
.dark-mode .toc-section {color: #ddd;}

@media (max-width: 600px) {
  .chapter-title,
  .toc-section {
    flex-direction: column;
    align-items: flex-start;
  }

  .chapter-page,
  .section-page {
    margin-top: 4px;
  }
}

</style><style>
.light-mode .container {box-shadow: 0 0 15px rgba(0,0,0,0.1);}
.dark-mode .container {box-shadow: 0 0 15px rgba(255, 255, 255, 0.05);}

h1, h2, h3 {font-weight: 600;margin-top: 2.5rem;margin-bottom: 1rem;line-height: 1.2;}
h1 { font-size: 1.8rem; }
h2 { font-size: 1.4rem; }
h3 { font-size: 1.2rem; }

table {width: 100%;border-collapse: collapse;font-family: sans-serif;font-size: 1em;margin: 1em 0;}
th, td {padding: 0.6em 1em;text-align: left;border: 1px solid;}
tr:nth-child(even) {  background-color: inherit;}
tr:hover { background-color: inherit;}

code {color: #d35400;}

.chapter-navi-section {display: flex;justify-content: space-between;align-items: center;padding-bottom: 10px;padding-top: 10px;}
.nav-link {color: inherit;text-decoration: none;opacity: 0.5;transition: opacity 0.3s ease, text-decoration 0.3s ease;}
.nav-link:hover {opacity: 0.9;text-decoration: underline;}
.prev { text-align: left; }
.toc-link { text-align: center; }
.next { text-align: right; }

.download-section {display: flex;align-items: center;justify-content: center;gap: 2rem;padding: 2rem 1rem;max-width: 600px;margin: 3rem auto;border-radius: 12px;box-shadow: 0 4px 10px rgba(0,0,0,0.05);}
.download-info h2 {margin: 0 0 0.5rem;font-size: 1.2rem;}
.format-label {margin: 0 0 0.5rem;font-size: 0.95rem;}
.download-buttons {display: flex;gap: 1rem;}
.download-button {background-color: #4A90E2;color: white;padding: 0.5em 1.2em;border-radius: 25px;font-size: 0.95rem;text-decoration: none;transition: background-color 0.3s ease;}
.download-button:hover {background-color: #357ABD;}

.code-block {position: relative;margin-bottom: 1em;}
.copy-button {background: transparent;color: white;position: absolute;top: 8px;right: 8px;border: none;padding: 4px 8px;font-size: 12px;border-radius: 4px;cursor: pointer;z-index: 1;}
.copy-button:hover {background-color: #0056b3;}

.snippet-container {overflow: hidden;}
.snippet-header {padding: 0.75rem 1rem;cursor: pointer;font-size: 1rem;background-color: #eeeeee;color:  #111111; border-radius: 8px;cursor: pointer;box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
.snippet-body {display: none;font-family: monospace;}
.snippet-container.open .snippet-body {display: block;}

.CodeMirror {border: 2px solid #ccc;border-radius: 4px;resize: vertical;}

.light-mode .format-label {color: #888;}
.light-mode th {background-color: #f2f2f2;}
.light-mode tr:nth-child(even) {background-color: #fafafa;}
.light-mode tr:hover {background-color: #e6f7ff;}

.dark-mode .snippet-header {background-color: #333;color:  #ddd; }
.dark-mode .format-label {color: #aaa;}
.dark-mode th {background-color: #333;color: #fff;}
.dark-mode td {border-color: #444;}
.dark-mode tr:nth-child(even) {background-color: #2a2a2a;}
.dark-mode tr:hover {background-color: #2c3e50;}


.button-group-run-edit {display: flex;width: 100%;gap: 1rem;}
.button-run-edit {flex: 1;padding: 1rem;font-size: 1rem;font-weight: 600;border: none;border-radius: 8px;cursor: pointer;transition: background 0.3s, color 0.3s;}

.light-mode .button-run-edit {background-color: #f0f0f0;color: #222;box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);}
.light-mode .button-run-edit:hover {background-color: #e0e0e0;}

.dark-mode .button-run-edit {background-color: #2a2a2a;color: #f5f5f5;box-shadow: 0 0 10px rgba(255, 255, 255, 0.05);}
.dark-mode .button-run-edit:hover {background-color: #3a3a3a;}

button { padding: 0.5em 1em; background: green; color: white; border: none; cursor: pointer; }
button:hover { background: #1e7e34; }
.result_iframe { width:99%; margin-top: 1em;  resize: both;background-color: #515b63;border:1px solid #ccc;}   

.dialog-backdrop {position: fixed;top: 0;left: 0;width: 100vw;height: 100vh;background: rgba(0,0,0,0.5);display: none;justify-content: center;align-items: center;z-index: 10;}
.dialog {background: #90979e;padding: 20px;width: 90vw;height: 80vh;border-radius: 8px;box-shadow: 0 0 20px rgba(0,0,0,0.3);display: flex;flex-direction: column;}
.dialog-content {display: flex;gap: 20px;margin-top: 10px;height: calc(100% - 40px);}
.editor-container, .preview-container {flex: 1;height: 100%;max-height: 100%;overflow: hidden; }
.result_iframe_dialog {width: 100%;height: 100%;resize: both;border:1px solid #ccc;overflow: auto; }   
.CodeMirror {width: 100% !important;height: 100% !important;}
</style><script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/python.min.js"></script>
<script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>
<script>
const pythonCodeMirrorMap = new Map();
let pyodide = null;
let pyodideReady = false;
async function main() {
    pyodide = await loadPyodide();
    await pyodide.loadPackage(['numpy','pandas','matplotlib']);
    pyodideReady = true;
}
main();

 async function runPythonCode(button,textarea_id, iframe_id) {
        let code = pythonCodeMirrorMap.get(textarea_id).getValue();
        const iframe = document.getElementById(iframe_id);
        let doc = iframe.contentDocument || iframe.contentWindow.document;
 
        let result = "";

    if (!pyodideReady) {
      result = "Pyodide is still loading... Wait for a while and click Run again.";
    }else{
    try {
      await pyodide.runPythonAsync(`
import sys
from js import console

class CaptureOutput:
    def __init__(self):
        self.data = []
    def write(self, msg):
        self.data.append(msg)
    def flush(self):
        pass

sys.stdout = sys.stderr = capture = CaptureOutput()

${code}

output = "".join(capture.data)
`);
      result = pyodide.globals.get('output');
 
      
    } catch (err) {
      result = "Error:\n" + err;
 
    }
    }

 

      const html = `
    <!DOCTYPE html>
    <html>
      <head>
        <title>Output</title>
        <style>
          body { font-family: monospace; padding: 1em; background: #1e1e1e; color: #eee; }
          pre { white-space: pre-wrap; word-break: break-word; }
          .error { color: red; }
        </style>
      </head>
      <body>
        <pre id="log">${result} </pre>
      </body>
    </html>
  `;
        iframe.style.display = "block";
        iframe.srcdoc = html;  
        

iframe.onload = function () {
  const doc = iframe.contentDocument || iframe.contentWindow.document;
  const contentHeight = Math.max(
    doc.body.scrollHeight,
    doc.documentElement.scrollHeight
  );
  iframe.style.height = contentHeight + 'px';
};

    }
function openEditPythonCodeDialog(id, textarea_id) {
		        closeAllPythonCodeDialog();
		        document.getElementById(id).style.display = 'flex';
         
 	        setTimeout(() => {
		        	 pythonCodeMirrorMap.get(textarea_id).refresh();
                   
 	        }, 100); // 100ms 
}

function closeAllPythonCodeDialog() {
		        document.querySelectorAll('.dialog-backdrop').forEach(el => {
		          el.style.display = 'none';
		        });
}		
</script>
</head>
<body>
<script>const mode = localStorage.getItem('mode') || 'light';document.documentElement.classList.add(`${mode}-mode`);</script>  
<div class="container"><div class = "chapter-navi-section">
<a href="pandas-for-data-science-advanced-indexing-and-multiindex.htm" class="nav-button prev">←</a>
<a href='pandas-for-data-science.htm#customizing-pandas-with-extensions-and-apis' class="nav-button toc-link">Index</a>
<a href="pandas-for-data-science-real-world-data-science-projects-with-pandas.htm" class="nav-button next">→</a>
</div>
<div class='book-header'><h1 class='book-title-toc' id = 'top'>Customizing Pandas with Extensions and APIs</h1><h3 class='book-subtitle-toc'>Pandas for Data Science</h3></div><h2 id='creating-custom-accessors-and-extensions'>14.1 Creating Custom Accessors and Extensions</h2><p>Pandas is a powerful library, but sometimes your project demands specialized functionality tailored to your domain or workflow. To accommodate this, pandas offers <strong>extension points</strong> — ways to add your own custom methods to DataFrames or Series through <strong>custom accessors</strong>. These allow you to enrich pandas objects with domain-specific features while keeping the core API clean and consistent.</p><h3 id="what-are-custom-accessors">What Are Custom Accessors?</h3><p>A <strong>custom accessor</strong> is a user-defined attribute attached to a pandas <code>DataFrame</code> or <code>Series</code> that groups related methods together. For example, pandas provides <code>.str</code> for string operations or <code>.dt</code> for datetime methods. You can create your own accessor, such as <code>.geo</code> for geographic computations or <code>.finance</code> for financial calculations, enabling intuitive syntax like:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">df.geo.calculate_distance()
df.finance.calculate_roi()</code></pre>
</div><p>This makes your code cleaner and your extensions discoverable through auto-completion.</p><h3 id="how-to-create-a-custom-dataframe-accessor">How to Create a Custom DataFrame Accessor</h3><p>Pandas provides a decorator to register your accessor:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">@pd.api.extensions.register_dataframe_accessor("your_accessor_name")</code></pre>
</div><p>Your accessor class must:</p><ul>
 <li>Take the pandas object (DataFrame or Series) as input on initialization.</li>
 <li>Store the object (usually as <code>self._obj</code>).</li>
 <li>Define any methods you want to expose under the accessor namespace.</li>
</ul><h3 id="step-by-step-example-a-simple-accessor-for-dataframe-summary">Step-by-Step Example: A Simple Accessor for DataFrame Summary</h3><p>Let’s create a custom accessor called <code>.summary</code> that provides an overview of numeric columns, including their mean, median, and standard deviation.</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">import pandas as pd

@pd.api.extensions.register_dataframe_accessor("summary")
class SummaryAccessor:
    def __init__(self, pandas_obj):
        self._obj = pandas_obj

    def stats(self):
        """Return a DataFrame with mean, median, and std for numeric columns."""
        numeric = self._obj.select_dtypes(include='number')
        summary_df = pd.DataFrame({
            'mean': numeric.mean(),
            'median': numeric.median(),
            'std': numeric.std()
        })
        return summary_df</code></pre>
</div><h3 id="using-the-custom-accessor">Using the Custom Accessor</h3><p>Create a sample DataFrame and try the new <code>.summary.stats()</code> method:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">data = {
    'A': [10, 20, 30, 40],
    'B': [1.5, 2.5, 3.5, 4.5],
    'C': ['x', 'y', 'z', 'w']  # Non-numeric column
}
df = pd.DataFrame(data)

print(df.summary.stats())</code></pre>
</div><p>Output:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-bash">mean  median       std
A  25.000000    25.0  12.909944
B   3.000000     3.0   1.290994</code></pre>
</div><p>Notice that only numeric columns are included in the summary, and the accessor neatly groups related functionality.</p><h3 id="benefits-of-custom-accessors">Benefits of Custom Accessors</h3><ul>
 <li><strong>Namespace clarity</strong>: Keep your extensions grouped under meaningful attributes rather than cluttering the global namespace.</li>
 <li><strong>Reusability</strong>: Package custom accessors as modules and share across projects.</li>
 <li><strong>Integration</strong>: Work seamlessly with pandas objects, preserving the natural API feel.</li>
 <li><strong>Discoverability</strong>: Users can find your custom methods via standard attribute access and tab completion.</li>
</ul><h3 id="tips-and-considerations">Tips and Considerations</h3><ul>
 <li>You can also create <strong>Series accessors</strong> with <code>@pd.api.extensions.register_series_accessor</code>.</li>
 <li>Accessors should <strong>not mutate</strong> the original DataFrame directly. Instead, return new DataFrames or values.</li>
 <li>Ensure your methods handle edge cases (empty DataFrames, missing data).</li>
 <li>You can bundle multiple related methods in one accessor for richer domain-specific APIs.</li>
</ul><h3 id="summary">Summary</h3><p>Custom accessors unlock powerful ways to extend pandas with your own tailored methods, enhancing readability and maintainability. By using <code>@pd.api.extensions.register_dataframe_accessor</code>, you can easily inject domain-specific logic directly into the pandas API, making your data analysis workflows more expressive and efficient.</p><div class = "chapter-navi-section">
<a href="#top" class="nav-button prev">↑</a>
<a href='pandas-for-data-science.htm#customizing-pandas-with-extensions-and-apis' class="nav-button toc-link">Index</a>
<a href="#bottom" class="nav-button next">↓</a>
</div>
<h2 id='using-pandas-with-numpy-and-other-libraries'>14.2 Using Pandas with NumPy and Other Libraries</h2><p>Pandas is built on top of NumPy, which means it naturally integrates with NumPy arrays and many other popular Python data science libraries like SciPy, statsmodels, and scikit-learn. Understanding how to leverage this interoperability lets you combine pandas’ rich data manipulation capabilities with powerful numerical, statistical, and machine learning tools efficiently.</p><h3 id="pandas-and-numpy-seamless-interchange">Pandas and NumPy: Seamless Interchange</h3><p>At its core, a pandas <code>Series</code> or <code>DataFrame</code> stores data in NumPy arrays. You can access the underlying NumPy array with the <code>.values</code> or <code>.to_numpy()</code> methods:</p><div>
 <div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
  <pre><code class="language-python">import pandas as pd
import numpy as np

df = pd.DataFrame({
    'A': [1, 2, 3],
    'B': [4, 5, 6]
})

# Extract NumPy array
arr = df.values
print(arr)
# Output:
# [[1 4]
#  [2 5]
#  [3 6]]

# Using .to_numpy() (recommended for newer code)
arr2 = df.to_numpy()
print(arr2)</code></pre>
 </div>
 <div class="snippet-container">
  <div class="button-group-run-edit"><button class="button-run-edit" onclick="runPythonCode(this,'eb4mH','jnJYC')">Run</button> <button class="button-run-edit" onclick="openEditPythonCodeDialog('jnJYC_Dialog','eb4mH')">Edit</button>
  </div> <iframe id="jnJYC" class="result_iframe" style="display: none;"></iframe>
  <div id="jnJYC_Dialog" class="dialog-backdrop">
   <div class="dialog">
    <div class="controls"><button onclick="runPythonCode(this,'eb4mH','jnJYC_IFrame')">Run</button> <button onclick="closeAllPythonCodeDialog()">Close</button>
    </div>
    <div class="dialog-content">
     <div class="editor-container">
      <textarea id="eb4mH" class="textarea_dialog" placeholder="Type HTML here...">import pandas as pd
import numpy as np

df = pd.DataFrame({
    'A': [1, 2, 3],
    'B': [4, 5, 6]
})

# Extract NumPy array
arr = df.values
print(arr)
# Output:
# [[1 4]
#  [2 5]
#  [3 6]]

# Using .to_numpy() (recommended for newer code)
arr2 = df.to_numpy()
print(arr2)</textarea>
     </div>
     <div class="preview-container">
      <iframe id="jnJYC_IFrame" class="result_iframe_dialog" style="border: none;"></iframe>
     </div>
    </div>
   </div>
  </div>
  <script>
{
let editor = CodeMirror.fromTextArea(document.getElementById("eb4mH"), {
					mode : "python",
					lineNumbers : false,
          lineWrapping: true,
					tabSize : 2
});
const darkmode = localStorage.getItem("mode") || "light";  
const newTheme = darkmode === "dark" ? "dracula" : "default";
editor.setSize("50%", "100%");
editor.setOption("theme", newTheme);
pythonCodeMirrorMap.set("eb4mH", editor);

}


</script>
 </div>
</div><p>This seamless exchange allows you to use pandas data directly with NumPy functions for fast numerical computations:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python"># Compute row sums with NumPy
row_sums = np.sum(df.to_numpy(), axis=1)
print(row_sums)  # Output: [5 7 9]</code></pre>
</div><h3 id="when-to-use-pandas-vs-numpy">When to Use Pandas vs NumPy</h3><ul>
 <li>Use <strong>pandas</strong> for <strong>labeled</strong> data manipulation, easy filtering, missing data handling, and integration with heterogeneous data types.</li>
 <li>Use <strong>NumPy</strong> when you need fast, vectorized numeric computations on homogeneous data arrays, or for functions not yet available in pandas.</li>
</ul><p>Example: Computing rolling means is straightforward in pandas with <code>.rolling()</code>, but complex linear algebra routines require NumPy or SciPy.</p><h3 id="interoperability-with-scipy-and-statsmodels">Interoperability with SciPy and statsmodels</h3><p>SciPy and statsmodels focus on advanced statistical and scientific computing. These libraries often expect NumPy arrays as input, but pandas data can be converted easily:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">from scipy import stats
import statsmodels.api as sm

# Using pandas Series with SciPy
data = df['A']
z_scores = stats.zscore(data)
print(z_scores)

# Using DataFrame with statsmodels for regression
X = sm.add_constant(df['A'])  # Add intercept term
model = sm.OLS(df['B'], X).fit()
print(model.summary())</code></pre>
</div><p>Passing pandas Series or DataFrames directly to these libraries typically works well, but be mindful that some functions might drop labels and return NumPy arrays, requiring you to handle indices manually afterward.</p><h3 id="using-pandas-with-scikit-learn">Using Pandas with scikit-learn</h3><p>scikit-learn is the go-to library for machine learning in Python. While it expects NumPy arrays as input, pandas DataFrames can be passed directly without issue, retaining column names for convenience in later steps (e.g., feature importance):</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">from sklearn.linear_model import LinearRegression

X = df[['A']]  # Predictor
y = df['B']    # Target

model = LinearRegression()
model.fit(X, y)

print("Coefficient:", model.coef_)
print("Intercept:", model.intercept_)</code></pre>
</div><p>Here, pandas DataFrames and Series act as natural containers for features and targets, but under the hood, scikit-learn works with NumPy arrays.</p><h3 id="converting-between-pandas-and-other-libraries">Converting Between pandas and Other Libraries</h3><ul>
 <li><strong>Pandas → NumPy</strong>: Use <code>.to_numpy()</code> for efficient conversion.</li>
 <li><strong>NumPy → pandas</strong>: Use <code>pd.Series()</code> or <code>pd.DataFrame()</code> with optional index and columns.</li>
</ul><p>Example:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">arr = np.array([10, 20, 30])
series = pd.Series(arr, index=['a', 'b', 'c'])
print(series)</code></pre>
</div><h3 id="summary">Summary</h3><ul>
 <li>Pandas is tightly integrated with NumPy, enabling fast numerical operations on labeled data.</li>
 <li>Use pandas for convenient data wrangling; NumPy, SciPy, statsmodels, and scikit-learn for specialized scientific, statistical, or machine learning tasks.</li>
 <li>Convert pandas objects to NumPy arrays using <code>.to_numpy()</code> when needed.</li>
 <li>Passing pandas data directly to external libraries is usually seamless, but watch out for losing index/column labels.</li>
</ul><p>Leveraging these libraries together lets you build powerful and efficient data science workflows combining the best features of each tool.</p><div class = "chapter-navi-section">
<a href="#top" class="nav-button prev">↑</a>
<a href='pandas-for-data-science.htm#customizing-pandas-with-extensions-and-apis' class="nav-button toc-link">Index</a>
<a href="#bottom" class="nav-button next">↓</a>
</div>
<h2 id='pandas-api-for-window-and-rolling-functions'>14.3 Pandas API for Window and Rolling Functions</h2><p>Pandas offers powerful window functions that allow you to compute statistics over sliding or expanding windows in your data. These functions are essential for time series analysis, smoothing noisy data, detecting anomalies, and calculating financial indicators. The key window methods are <code>.rolling()</code>, <code>.expanding()</code>, and <code>.ewm()</code>, each suited to different use cases.</p><h3 id="rolling-moving-window-calculations"><code>.rolling()</code>: Moving Window Calculations</h3><p>The <code>.rolling()</code> method creates a rolling window over your data, allowing you to apply aggregation functions like mean, sum, or custom functions on fixed-size subsets.</p><p><strong>Key parameters:</strong></p><ul>
 <li><code>window</code>: size of the moving window (number of observations)</li>
 <li><code>min_periods</code>: minimum number of observations required in window to have a value</li>
 <li><code>center</code>: whether the label is at the center or right edge of the window (default is right)</li>
</ul><p><strong>Example: Moving average smoothing</strong></p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">import pandas as pd
import numpy as np

dates = pd.date_range('2024-01-01', periods=10)
data = pd.Series([2, 3, 5, 8, 13, 21, 34, 55, 89, 144], index=dates)

# 3-day moving average
rolling_mean = data.rolling(window=3).mean()
print(rolling_mean)</code></pre>
</div><p>This smooths the series by averaging every 3 consecutive values, which is useful to reduce noise or highlight trends.</p><h3 id="expanding-cumulative-calculations"><code>.expanding()</code>: Cumulative Calculations</h3><p>The <code>.expanding()</code> method computes aggregates over an expanding window, starting from the first element and including all prior data points up to the current one.</p><p><strong>Example: Cumulative sum and mean</strong></p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">cumulative_sum = data.expanding(min_periods=1).sum()
cumulative_mean = data.expanding(min_periods=1).mean()

print(cumulative_sum)
print(cumulative_mean)</code></pre>
</div><p>This is useful for understanding cumulative totals or averages over time, for example, cumulative sales or average temperature.</p><h3 id="ewm-exponentially-weighted-functions"><code>.ewm()</code>: Exponentially Weighted Functions</h3><p>The <code>.ewm()</code> method calculates exponentially weighted metrics, which give more weight to recent observations and less to older ones. This is particularly useful for financial indicators and anomaly detection where recent values are more important.</p><p><strong>Key parameters:</strong></p><ul>
 <li><code>span</code>, <code>halflife</code>, or <code>alpha</code>: control the decay of weights</li>
 <li><code>adjust</code>: whether to adjust weights (default True)</li>
</ul><p><strong>Example: Exponential weighted moving average (EWMA)</strong></p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">ewm_mean = data.ewm(span=3, adjust=False).mean()
print(ewm_mean)</code></pre>
</div><p>EWMA reacts faster to recent changes compared to a simple moving average, which makes it useful for tracking trends and volatility in stock prices.</p><h3 id="practical-use-cases">Practical Use Cases</h3><ul>
 <li><strong>Smoothing noisy sensor data:</strong> Use <code>.rolling()</code> mean or median to smooth out fluctuations.</li>
 <li><strong>Financial analysis:</strong> Calculate moving averages, EWMA, and rolling volatility to identify trends and risks.</li>
 <li><strong>Anomaly detection:</strong> Identify points that deviate significantly from rolling averages or exponentially weighted means.</li>
 <li><strong>Cumulative metrics:</strong> Track total sales or accumulated values over time using <code>.expanding()</code>.</li>
</ul><h3 id="combining-window-functions-with-other-operations">Combining Window Functions with Other Operations</h3><p>Window functions return pandas objects, so you can chain methods:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python"># 7-day rolling average, then difference
data.rolling(window=7).mean().diff()</code></pre>
</div><p>This computes a smoothed series and then its change, useful for momentum analysis.</p><h3 id="summary">Summary</h3><ul>
 <li><code>.rolling(window)</code>: Fixed-size moving window for calculations like mean, sum, std.</li>
 <li><code>.expanding()</code>: Growing window starting at the first data point for cumulative stats.</li>
 <li><code>.ewm()</code>: Exponential weighting to prioritize recent data.</li>
 <li>Use these window functions to smooth data, detect anomalies, calculate financial indicators, and summarize evolving statistics.</li>
</ul><p>Mastering these tools will empower you to extract meaningful insights from time-dependent data efficiently and effectively.</p><div class = "chapter-navi-section">
<a href="#top" class="nav-button prev">↑</a>
<a href='pandas-for-data-science.htm#customizing-pandas-with-extensions-and-apis' class="nav-button toc-link">Index</a>
<a href="#bottom" class="nav-button next">↓</a>
</div>
<h2 id='practical-examples-extending-pandas-functionality'>14.4 Practical Examples: Extending Pandas Functionality</h2><p>In this section, we'll explore a practical project where creating custom pandas extensions and leveraging advanced APIs enhances your data workflow. By building reusable utilities and domain-specific validations, you can streamline complex data tasks, reduce errors, and improve code readability.</p><h3 id="scenario-financial-data-validation-and-transformation">Scenario: Financial Data Validation and Transformation</h3><p>Suppose you regularly work with financial datasets containing columns like <code>"Date"</code>, <code>"Price"</code>, and <code>"Volume"</code>. You want to:</p><ul>
 <li>Validate data integrity (e.g., no negative prices or volumes).</li>
 <li>Add domain-specific transformations (e.g., calculate daily returns).</li>
 <li>Easily reuse these functions across multiple DataFrames.</li>
</ul><p>Custom pandas accessors and extension APIs allow you to embed these capabilities directly on your DataFrames, making your workflow elegant and consistent.</p><h3 id="step-1-create-a-custom-accessor-for-financial-data">Step 1: Create a Custom Accessor for Financial Data</h3><p>Use the <code>@pd.api.extensions.register_dataframe_accessor</code> decorator to add a <code>.finance</code> namespace:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">import pandas as pd
import numpy as np

@pd.api.extensions.register_dataframe_accessor("finance")
class FinanceAccessor:
    def __init__(self, pandas_obj):
        self._obj = pandas_obj
        
    def validate(self):
        """Check for negative prices or volumes."""
        if (self._obj['Price'] &lt; 0).any():
            raise ValueError("Negative prices found!")
        if (self._obj['Volume'] &lt; 0).any():
            raise ValueError("Negative volumes found!")
        print("Validation passed: No negative values.")
        
    def daily_returns(self):
        """Calculate daily returns from Price column."""
        returns = self._obj['Price'].pct_change()
        return returns.fillna(0)
        
    def add_daily_returns(self):
        """Add daily returns as a new column."""
        self._obj['Daily_Return'] = self.daily_returns()
        return self._obj</code></pre>
</div><h3 id="step-2-use-the-custom-accessor-in-practice">Step 2: Use the Custom Accessor in Practice</h3><p>Create a sample financial DataFrame:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">data = {
    'Date': pd.date_range('2024-01-01', periods=5),
    'Price': [100, 102, 101, 105, 107],
    'Volume': [200, 220, 210, 230, 240]
}
df = pd.DataFrame(data).set_index('Date')</code></pre>
</div><p>Now use the <code>.finance</code> accessor to validate and add daily returns:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">df.finance.validate()
df = df.finance.add_daily_returns()
print(df)</code></pre>
</div><p>Output:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-bash">Validation passed: No negative values.
            Price  Volume  Daily_Return
Date                                    
2024-01-01    100     200      0.000000
2024-01-02    102     220      0.020000
2024-01-03    101     210     -0.009804
2024-01-04    105     230      0.039604
2024-01-05    107     240      0.019048</code></pre>
</div><h3 id="step-3-integrate-with-external-tools-numpy-matplotlib">Step 3: Integrate with External Tools (NumPy &amp; Matplotlib)</h3><p>You can also extend functionality by integrating NumPy for custom statistics or Matplotlib for quick visualizations within your accessor:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">import matplotlib.pyplot as plt

@pd.api.extensions.register_dataframe_accessor("finance")
class FinanceAccessor:
    def __init__(self, pandas_obj):
        self._obj = pandas_obj
        
    # (previous methods omitted for brevity)
    
    def volatility(self, window=3):
        """Calculate rolling volatility (std dev of returns)."""
        returns = self.daily_returns()
        vol = returns.rolling(window=window).std()
        return vol.fillna(0)
    
    def plot_price_and_returns(self):
        """Plot Price and Daily Returns on twin axes."""
        fig, ax1 = plt.subplots(figsize=(8,4))
        ax1.set_title("Price and Daily Returns")
        ax1.plot(self._obj.index, self._obj['Price'], 'b-', label='Price')
        ax1.set_ylabel('Price', color='b')
        
        ax2 = ax1.twinx()
        ax2.plot(self._obj.index, self._obj['Daily_Return'], 'r--', label='Daily Return')
        ax2.set_ylabel('Return', color='r')
        
        plt.show()</code></pre>
</div><p>Usage:</p><div class="code-block">
 <button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-python">df.finance.add_daily_returns()
volatility = df.finance.volatility()
print("Volatility:\n", volatility)

df.finance.plot_price_and_returns()</code></pre>
</div><h3 id="benefits-of-this-approach">Benefits of This Approach</h3><ul>
 <li><strong>Encapsulation</strong>: Group domain-specific methods logically, avoiding scattered functions.</li>
 <li><strong>Reusability</strong>: Easily reuse and share custom accessors across projects.</li>
 <li><strong>Readability</strong>: Improve code clarity by calling <code>.finance.method()</code> on any DataFrame.</li>
 <li><strong>Integration</strong>: Seamlessly combine pandas data manipulation with external libraries like NumPy and Matplotlib.</li>
</ul><h3 id="final-thoughts">Final Thoughts</h3><p>Extending pandas with custom accessors transforms repetitive and complex operations into simple, expressive commands tailored to your domain. Combine this with pandas’ built-in APIs and external libraries to build robust, maintainable data pipelines.</p><div class = "chapter-navi-section">
<a href="pandas-for-data-science-advanced-indexing-and-multiindex.htm" class="nav-button prev">←</a>
<a href='pandas-for-data-science.htm#customizing-pandas-with-extensions-and-apis' class="nav-button toc-link">Index</a>
<a href="pandas-for-data-science-real-world-data-science-projects-with-pandas.htm" class="nav-button next">→</a>
</div>
<section class="download-section">
  <div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 18px;color: #333;top: 20px;">Pandas for Data Science</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 70px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAG4ElEQVR4Xu3dS2hcVRzH8ZnpzCTTOE6sM0mbVNKQNCpIikYaJOiyC0vBBxVBhWwEX4WCj5Vgiha6UNCFG8GFSxc+qgh1XUGwIrhw0eIDQXBTabsptbQZz42ZcPL9nzv33Dvnntyb3sWHwplz/v///TWdyWQy01K3291RSF+JC4V0FEF7UgTtycBB12q1F0ulUjeha51OZ5Y1t6PYQR89erRhCMyVm+y3XVgHXS6XzxqCSc34+Pg0Z8izyKAbjcYiQ/CJ8wyiUql8oGr+ZUt9cf1Qr9efYZ0k+gbNi94q6oJPc7Y4VI3zrJkUa9sKDZoNMuAyZ7RlqDWoG+wRxRi0oXAmDA0NPcpZo7CGS+zVjwj62LFjQyxoq7pzV3fulXPdA6e6RvMnr3f3PfeFOBcH543C866xXxgRNAv10146LsJMolQui9ph1P3115y5H/UA+DZrOHaRPU0SBX3g1KoIy4WJw++KXiacOQrPu8Z+JvGCVl95DCcNom+CCyN17grruMR+FC/oUvDVLINxjT2JM6dN9VzlDMQzFDvowPzJf0U4Lkw+9qHoZcKZfeAMxP2UKOieanOPCCu+VVE3Cmf2hXPolpaWmty/6axYMBSxVa7s6O5aWDaE+b/5d651q7eNiXNxcWZfOIcu6qeQToP2hTP7wjl07XZ7jvs3nRULhiJZw5l94Ry6ImiHOIeuCNohzqErgnaIc+icBm2zZxDlcvlCUF/9+RVv03FmXziHLpWgdeuvIV7iXkt/sF5ABf2NYe8G7veFc+icBj0yMjLP/WlgX+J+XziHzmnQ62K/uhCHoZ/AM75wDl0aQfc4+9WAuC828LwvnEOXZtCbqPvVc6wVptVqzagz/7CGLdbzhXPovAXtE2f2hXPopqenx7l/01mxYCiSNZzZF84RZ6Yi6Jg4S6Berz/NfVQEnYB6PDqzPov1NwRF0J7ECnr99qtcd6lWq72Q1afgg4gdtC74loZ7kjhy5MhOvW4RtKFAmNnZ2c7u3bv3dTqd/RMTE3ctLi7ezj1hVNA/sXfSObIiVtCBmZmZMZ5xSfX4nT2JZ/IgdtA9wVcrzw5CfRV/xh5heDYPTEHHfrCrVqunWMeGCvcX1orCGnkhgl5bNFxgVnDWuNSTiyfVX/DfrEuVSuUtnh2EMei5ubk2G2cB54wyPDz8MGsMQoX/KXvYMgYdGB0dvZ+NthLnCxP8cIdn06BC/5i9+wkNemODoYlvnMlkampqD895cp2zmEQGHVD3ad8ZGqQueD2Ss5jw3FbgTGQVdE+z2VxigzSsrKzU2TsMz26lkZGRQ5xvY04u2FIPNI+w0SDiPHPsYY0sCJ4Fc861WbkwiMnJyb3qQeJN1fAyBwiou6Dzzt4gaaifFZx1bV4u5AUvLsrE4ffErxHbuPeN30QtC1fFvFzIA8OFGe194iMR3KDYI4yYmQt5wIuinXsfFAG5FLxfkj1JzMyFPOBF6ep3TIlg0sLet1TQgfKOmgjFpftOXBE9SczMhTzgRYW58+DzIqRBsUcYMTMX8oAXZaM5d0iEZmP/S9+LWjbEzFwI0ysQvLeat/nGi8oiMTMXqBTyoSLc5xNnySIxMxeIBTRXuNcXwyyZI2bmgk7dTbzPAv2K+cI5skjMzAVduVz+lQX6FfOFc2SRmJkLujwGHXxwCtfSUK1WX+OaTszMBV1eg7bdG5cK94RtbTEzF3R5DFr5kft1CwsLLXVdFwznNmk0Gks8SzyjE3u5oMtp0F3uTwN7ktjPBV1eg05zPlX3T/YxEee4oMt70D3qOr5ljTjq9fpTrBmFNW6JoMOo6/tSPcCt1Gq14+rP19Xzhk/U+kXuS0LMzAXddg86TWJmLuiKoJMTM3NBVwSdnJiZCzoV9M8s0K+YL5wji8TMXNCpR9tnWaBfMV84RxaJmblALACr3O+DYY4Nvafgy8vLw7zNhVar9YDNHGJmLhALmPBM2thfx5919AS/z6du+5z7I1xqt9t3s5bNHGIvF4gFXGM/G6xB3J+GUsTnlYr9XDBhEdfYLwrPm6gnH6/ynCvsZSLOcMFEHbzBQi6pf9Jn2LOfcsQbPsHJ40jUq03E81ZBr200FHOJ/aLwfBzqu6nHgwdL1uxpNBoHSwN8cEvwiTqsaR302mZDUUesPyWgJ/iPFQx1MoGzBmIFvXbA0Q9ddOxhqxTye9hbiTNuzMoFW2yQlM2HivSj7q9Ps+ZW4Wy6xEHrgg+pHhsbm2k2m/fYivoMorh40T6p+/SHOA85CTorgv/IjCGkSf1rOssZwmyroHUqiJsMxhXbt+VtmocL21HwsfAqoGsMzFatVnuZNeO6JYLOgiJoT4qgPSmC9uQ/gS8NJkYj0bwAAAAASUVORK5CYII="/>
  </div>
  <div class="download-info">
    <h2 id='bottom'>Download This Ebook</h2>
    <p class="format-label">Available formats:</p>
    <div class="download-buttons">
      <a href="pandas-for-data-science.pdf" class="download-button">📄 PDF</a>
      <a href="pandas-for-data-science.epub" class="download-button">📘 EPUB</a>
    </div>
  </div>
</section><div class='related-books'>
<h2>Python Data Science Books</h2>
<div class='related-book-list'>
<a href="pandas-for-data-science.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 18px;color: #333;top: 20px;">Pandas for Data Science</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 70px;" src="data:image/png;base64,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"/>
  </div>
</a>



<a href='python.htm'><div class='book-cover' style='background-color: #f9f6f1;color: #111111;border: 1px solid #ccc;display: flex;justify-content: center;align-items: center;text-align: center;'>More Python Books</div></a>
</div>
</div><script>
function copyCode(button) {const code = button.nextElementSibling.innerText;navigator.clipboard.writeText(code).then(() => {button.textContent = 'Copied!';setTimeout(() => { button.textContent = 'Copy'; }, 1500);});}
</script></div>
<style>
.site-footer {margin-top: 60px;padding: 20px 0;border-top: 1px solid #eee;text-align: center;font-size: 14px;}
.site-footer a {text-decoration: none;}
.light-mode .site-footer {color: #777;border-color: #eee;}
.dark-mode .site-footer {color: #888;border-color: #333;}
.light-mode .site-footer a {color: #555;}
.dark-mode .site-footer a {color: #aaa;}
.site-footer a:hover {text-decoration: underline;}    
</style>
<footer class="site-footer">
<nav><a href="https://readbytes.github.io">Home</a> |Email:<script type="text/javascript">
var part1 = 'yinpeng';var part6 = '263';var part2 = Math.pow(2,6);var part3 = String.fromCharCode(part2);var part4 = 'hotmail dot com';var part5 = part1 + String.fromCharCode(part2) + part4;document.write(part1 + part6 + part3 + part4);
</script>
| <a id="mode-toggle" href="#">Toggle Dark Mode</a>
</nav><p>© 2025 — All rights reserved.</p></footer>
<script>
const toggleButton = document.getElementById('mode-toggle');
const body = document.body;
const savedMode = localStorage.getItem('mode') || 'light';
body.classList.add(savedMode + '-mode');
toggleButton.addEventListener('click', () => {
      const isDark = body.classList.contains('dark-mode');
      body.classList.toggle('dark-mode', !isDark);
      body.classList.toggle('light-mode', isDark);
      localStorage.setItem('mode', isDark ? 'light' : 'dark');
});
function copyCode(button) {const code = button.nextElementSibling.innerText;navigator.clipboard.writeText(code).then(() => {button.textContent = 'Copied!';setTimeout(() => { button.textContent = 'Copy'; }, 1500);});}
</script>
</body>
</html>