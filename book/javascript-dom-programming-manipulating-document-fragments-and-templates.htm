<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>JavaScript DOM Programming Manipulating Document Fragments and Templates</title>
<link rel='shortcut icon' href='https://java2s.com/style/favicon.ico'>
<link href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" rel="stylesheet" />
<link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/material.css"> <!-- Dark theme -->
<script src="https://cdn.jsdelivr.net/npm/typescript@5/lib/typescript.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/htmlmixed/htmlmixed.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/xml/xml.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/css/css.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/typescript.min.js"></script>
<style>
    #floatingLog {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(20, 20, 20, 0.95);
      color: white;
      font-family: monospace;
      font-size: 14px;
      padding: 16px 20px;
      border-radius: 8px;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);
      max-width: 80%;
      max-height: 200px;
      overflow-y: auto;
      display: none;
      z-index: 9999;
      pointer-events: none;
      white-space: pre-wrap;
      text-align: center;
    }
</style>
<script>
  const codeMirrorMap = new Map();
  const iframeMap = new Map();
  
 

  let dismissTimer;
  function showFloatingLog(message) {
	const floatingLog = document.getElementById('floatingLog');

    if (floatingLog.style.display !== 'block') {
      floatingLog.textContent = '';
      floatingLog.style.display = 'block'; 
    }

    floatingLog.textContent += message + '\n';
    floatingLog.scrollTop = floatingLog.scrollHeight; 
    clearTimeout(dismissTimer);
    dismissTimer = setTimeout(() => {
      floatingLog.style.display = 'none';
      floatingLog.textContent = '';
    }, 2000);
  }
  window.addEventListener('message', (event) => {
	    if (!iframeMap.has(event.source)) return;

	    if (event.data?.type === 'console-log') {
	      showFloatingLog(event.data.message);
	    }
  });  
  function renderIframe(button,textarea_id, iframe_id) {
      const html = codeMirrorMap.get(textarea_id).getValue();
      const iframe = document.getElementById(iframe_id);
  
      const oldIframe = iframe;
      const newIframe = document.createElement('iframe');
      newIframe.className ="result_iframe";
      
      newIframe.id = iframe_id;
      oldIframe.replaceWith(newIframe);
 

      // Track the iframe in the map
      iframeMap.set(newIframe.contentWindow, button);

      const overrideScript = `
        <script>
          (function() {
            const originalLog = console.log;
            console.log = function(...args) {
              originalLog.apply(console, args);
              window.parent.postMessage({
                type: 'console-log',
                message: args.map(a => {
                  try { return JSON.stringify(a); }
                  catch { return String(a); }
                }).join(' ')
              }, '*');
            };
          })();
        <\/script>
      `;

      const iframeHTML = `
        <!DOCTYPE html>
        <html>
        <body>
          ${overrideScript}
          ${html}
        </body>
        </html>
      `;
 
      const doc = newIframe.contentDocument || newIframe.contentWindow.document;
      doc.open();
      doc.write(iframeHTML);
      doc.close();

      
      setTimeout(() => {
    	  newIframe.style.height = '0px';
    	   let contentHeight = Math.max(doc.body.scrollHeight,doc.documentElement.scrollHeight);
 
    	   if(contentHeight < 150 || contentHeight > 600){
    		   contentHeight = 600;
    	   } 
    	   newIframe.style.height = contentHeight + 'px';
    	}, 50);      
      
  }
  function renderIframeForClientTypescript(textarea_id, iframe_id) {
      let code = codeMirrorMap.get(textarea_id).getValue();
      code = ts.transpile(code);
      const iframe = document.getElementById(iframe_id);
      const doc = iframe.contentDocument || iframe.contentWindow.document;

const html = `
  <!DOCTYPE html>
  <html>
    <head>
      <title>Output</title>
      <style>
        body { font-family: monospace; padding: 1em; background: #f4f4f4; color: #222; }
        pre { white-space: pre-wrap; word-break: break-word; }
        .error { color: red; }
      </style>
    </head>
    <body>
      <pre id="log"></pre>
      <script>
        (function(){
          const logEl = document.getElementById('log');
          const origLog = console.log;
          const origError = console.error;

          console.log = (...args) => {
            logEl.textContent += args.join(' ') + '\\n';
            origLog.apply(console, args);
          };
          console.table = (...args) => {
            logEl.textContent += args.join(' ') + '\\n';
            origLog.apply(console, args);
          };

          console.error = (...args) => {
            logEl.innerHTML +='<span class="error">' + args.join(' ') + '</span>';
            origError.apply(console, args);
          };
          window.addEventListener("error", function (event) {
              console.error("Caught by event listener:", event.message);
          });    
          try {             
              ${code};
          } catch (err) {
            console.error(err.stack || err.message);
          }
        })();
      <\/script>
    </body>
  </html>
`;

      iframe.style.display = "block";
      iframe.srcdoc = html;  
  }

    function renderIframeForClientJavascript(textarea_id, iframe_id) {
        const code = codeMirrorMap.get(textarea_id).getValue();
        const iframe = document.getElementById(iframe_id);
        const doc = iframe.contentDocument || iframe.contentWindow.document;

  const html = `
    <!DOCTYPE html>
    <html>
      <head>
        <title>Output</title>
        <style>
          body { font-family: monospace; padding: 1em; background: #1e1e1e; color: #eee; }
          pre { white-space: pre-wrap; word-break: break-word; }
          .error { color: red; }
        </style>
      </head>
      <body>
        <pre id="log"></pre>
        <script>
          (function(){
            const logEl = document.getElementById('log');
            const origLog = console.log;
            const origError = console.error;

            console.log = (...args) => {
              logEl.textContent += args.join(' ') + '\\n';
              origLog.apply(console, args);
            };
            console.table = (...args) => {
              logEl.textContent += args.join(' ') + '\\n';
              origLog.apply(console, args);
            };

            console.error = (...args) => {
              logEl.innerHTML +='<span class="error">' + args.join(' ') + '</span>';
              origError.apply(console, args);
            };
            window.addEventListener("error", function (event) {
                console.error("Caught by event listener:", event.message);
            });    
            try {
             ${code}; 
            } catch (err) {
              console.error(err.stack || err.message);
            }
          })();
        <\/script>
      </body>
    </html>
  `;
        iframe.style.display = "block";
        iframe.srcdoc = html;  
    }
    function toggleSnippetAndRefresh(id, textarea_id) {
      const box = document.getElementById(id);
      box.classList.toggle("open");
      codeMirrorMap.get(textarea_id).refresh();
    }

  </script>
  <script>
  const mode = localStorage.getItem('mode') || 'light';
  document.documentElement.classList.add(`${mode}-mode`);
  </script>   
<style> 
html {
  scroll-behavior: smooth;
}

body {
  font-family: 'Merriweather', serif;
  margin: 0;
  padding: 2rem 1rem;
  font-size: 15px;
  line-height: 1.5;
  transition: background-color 0.3s, color 0.3s;
}

.container {
  max-width: 700px;
  margin: 0 auto;
  padding: 1rem 2rem;
  box-shadow: 0 0 15px rgba(0,0,0,0.1);
}

h1, h2, h3 {
  font-weight: 600;
  margin-top: 2.5rem;
  margin-bottom: 1rem;
  line-height: 1.2;
}

h1 { font-size: 1.8rem; }
h2 { font-size: 1.4rem; }
h3 { font-size: 1.2rem; }

table {
  width: 100%;
  border-collapse: collapse;
  font-family: sans-serif;
  font-size: 1em;
  margin: 1em 0;
}

th, td {
  padding: 0.6em 1em;
  text-align: left;
  border: 1px solid;
}

tr:nth-child(even) {
  background-color: inherit;
}

tr:hover {
  background-color: inherit;
}

a {
  text-decoration: none;
  transition: color 0.2s;
}

a:hover {
  text-decoration: underline;
}

code {
  color: #d35400;
}

.book-title-chapter {
  font-family: 'Merriweather', serif;
  font-size: 2rem;
  font-weight: bold;
  text-align: center;
  margin-bottom: 2rem;
  border-bottom: 2px solid;
  padding-bottom: 0.5rem;
}

.book-subtitle-chapter {
  text-align: center;
  font-size: 1rem;
  margin-top: -1rem;
  margin-bottom: 2rem;
}

.related-books {
  margin-top: 40px;
}

.related-book-list {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
}

    .book-cover {
      width: 130px;
      height: 180px;
      font-family: Arial, sans-serif;
      position: relative;
      overflow: hidden;      
      line-height: normal;
      box-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }
    .book-cover-bottom-stripe {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 5px;
      width: 100%;
    }
    .book-cover-title {
      position: absolute;
      width: 100%;
      text-align: center;
      font-weight: bold;
    }
     
    .book-cover-icon {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      align-items: center;
      justify-content: center; 
    }

    .book-cover-author {
      position: absolute;
      bottom: 10px;
      width: 100%;
      text-align: center;
      font-size: 8px;
      color: #333;
    }

.page-footer {
  margin-top: 4rem;
  padding: 1rem 0;
  text-align: center;
  font-size: 0.85rem;
  border-top: 1px solid;
}

.chapter-navi-section {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-bottom: 10px;
}

.nav-link {
  color: inherit;
  text-decoration: none;
  opacity: 0.5;
  transition: opacity 0.3s ease, text-decoration 0.3s ease;
}

.nav-link:hover {
  opacity: 0.9;
  text-decoration: underline;
}

.prev { text-align: left; }
.toc-link { text-align: center; }
.next { text-align: right; }

.download-section {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 2rem;
  padding: 2rem 1rem;
  max-width: 600px;
  margin: 3rem auto;
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

.download-info h2 {
  margin: 0 0 0.5rem;
  font-size: 1.2rem;
}

.format-label {
  margin: 0 0 0.5rem;
  font-size: 0.95rem;
}

.download-buttons {
  display: flex;
  gap: 1rem;
}

.download-button {
  background-color: #4A90E2;
  color: white;
  padding: 0.5em 1.2em;
  border-radius: 25px;
  font-size: 0.95rem;
  text-decoration: none;
  transition: background-color 0.3s ease;
}

.download-button:hover {
  background-color: #357ABD;
}

.code-block {
  position: relative;
  margin-bottom: 1em;
}

.copy-button {
  background: transparent;
  color: white;
  position: absolute;
  top: 8px;
  right: 8px;
  border: none;
  padding: 4px 8px;
  font-size: 12px;
  border-radius: 4px;
  cursor: pointer;
  z-index: 1;
}

.copy-button:hover {
  background-color: #0056b3;
}

.snippet-container {
  overflow: hidden;
}

.snippet-header {
  padding: 0.75rem 1rem;
  cursor: pointer;
  font-size: 1rem;
    background-color: #eeeeee;
    color:  #111111; 
    border-radius: 8px;
    cursor: pointer;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);  
}

.snippet-body {
  display: none;
  font-family: monospace;
}

.snippet-container.open .snippet-body {
  display: block;
}

.CodeMirror {
  border: 2px solid #ccc;
  border-radius: 4px;
  resize: vertical;
}

/* === Light Mode === */
html.light-mode {
  background-color: #f8f7f5;
  color: #333;
}

html.light-mode .container {
  background: white;
}

html.light-mode .book-title-chapter {
  color: #2c3e50;
  border-color: #ccc;
}
html.light-mode .book-subtitle-chapter{
  color: #888;
}

html.light-mode .page-footer,
html.light-mode .series-name,
html.light-mode .book-subtitle,
html.light-mode .format-label {
  color: #888;
}

html.light-mode .related-books h2 {
  color: #333;
  border-bottom: 2px solid #eee;
}

html.light-mode .book-title {
  color: #fff;
}

html.light-mode .book-cover {
  border: 1px solid #ccc;
}

html.light-mode th {
  background-color: #f2f2f2;
}

html.light-mode tr:nth-child(even) {
  background-color: #fafafa;
}

html.light-mode tr:hover {
  background-color: #e6f7ff;
}

html.light-mode a,
html.light-mode .page-footer a {
  color: #000;
}

/* === Dark Mode === */
html.dark-mode {
  background-color: #181818;
  color: #e0e0e0;
}

html.dark-mode .container {
  background: #222;
}

html.dark-mode .book-title-chapter {
  color: #ddd;
  border-color: #444;
}

html.dark-mode .snippet-header {
    background-color: #333;
    color:  #ddd; 
}


html.dark-mode .book-subtitle-chapter,
html.dark-mode .page-footer,
html.dark-mode .series-name,
html.dark-mode .book-subtitle,
html.dark-mode .book-footer,
html.dark-mode .format-label {
  color: #aaa;
}

html.dark-mode .related-books h2 {
  color: #ddd;
  border-bottom: 2px solid #333;
}

html.dark-mode .book-title {
  color: #fff;
}

html.dark-mode .book-cover {
  border: 1px solid #555;
}

html.dark-mode th {
  background-color: #333;
  color: #fff;
}

html.dark-mode td {
  border-color: #444;
}

html.dark-mode tr:nth-child(even) {
  background-color: #2a2a2a;
}

html.dark-mode tr:hover {
  background-color: #2c3e50;
}

html.dark-mode a,
html.dark-mode .page-footer a {
  color: #eee;
}

    .dialog-backdrop {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 10;
    }

    .dialog {
      background: white;
      padding: 20px;
      width: 90vw;
      height: 80vh;
      border-radius: 8px;
      box-shadow: 0 0 20px rgba(0,0,0,0.3);
      display: flex;
      flex-direction: column;
    }
    .dialog-content {
      display: flex;
      flex: 1;
      gap: 20px;
      margin-top: 10px;
    }
    .dialog h2 {
      margin-top: 0;
    }

    .textarea_dialog {
      width: 50%;
      height: 100%;
      resize: none;
      font-family: monospace;
      font-size: 14px;
      padding: 10px;
      box-sizing: border-box;
      border: 1px solid #ccc;
    }

    .iframe_dialog {
      width: 50%;
      height: 100%;
      border: 1px solid #ccc;
    }
    .controls_dialog {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
    }    
    button { padding: 0.5em 1em; background: green; color: white; border: none; cursor: pointer; }
    button:hover { background: #1e7e34; }
    .result_iframe { width:99%; height:200px; margin-top: 1em;  resize: both;border:1px solid #ccc;}        
</style>
</head>
<body> 
  <div class="container">
    <div class = "chapter-navi-section">
<a href="javascript-dom-programming-dom-storage-and-state-persistence.htm" class="nav-button prev">←</a>
<a href='javascript-dom-programming.htm#manipulating-document-fragments-and-templates' class="nav-button toc-link">Index</a>
<a href="javascript-dom-programming-working-with-shadow-dom.htm" class="nav-button next">→</a>
</div>

    <h1 class="book-title-chapter" id = 'top'>Manipulating Document Fragments and Templates</h1>
    <h3 class="book-subtitle-chapter">JavaScript DOM Programming</h3>   
    <!-- <h1 class ="chapter-title"></h1> -->
    <h2 id='what-are-document-fragments-and-why-use-them'>10.1 What Are Document Fragments and Why Use Them?</h2><p>When working with the DOM, inserting or modifying elements directly can cause the browser to perform costly <strong>reflows</strong> and <strong>repaints</strong>, especially when many nodes are involved. To optimize this, JavaScript provides <strong>Document Fragments</strong> — lightweight, in-memory containers that let you batch DOM updates efficiently before inserting them into the live document.</p><h4 id="what-is-a-document-fragment">What Is a Document Fragment?</h4><p>A <strong>Document Fragment</strong> is a special type of DOM node that acts as a <strong>temporary container</strong> for other DOM nodes. It behaves like a mini DOM subtree but is <strong>not part of the main document tree</strong>. Because it’s disconnected, changes to it do <strong>not trigger rendering</strong> or layout recalculations by the browser.</p><p>Think of a Document Fragment like a <strong>draft workspace</strong> where you can assemble multiple DOM elements without affecting the visible page. Once ready, you can insert the entire fragment into the document <strong>all at once</strong>, causing only a single reflow and repaint.</p><h4 id="why-use-document-fragments">Why Use Document Fragments?</h4><ol>
 <li><p><strong>Performance Improvement:</strong> Adding multiple elements individually causes the browser to update the layout repeatedly. Using a fragment defers this until all elements are ready to be inserted in one go, reducing overhead.</p></li>
 <li><p><strong>Cleaner Code:</strong> Fragments let you build complex element groups before adding them to the DOM, making your code easier to organize and maintain.</p></li>
 <li><p><strong>Avoid Intermediate States:</strong> Since fragments are detached, users won’t see partially constructed UI elements during script execution.</p></li>
</ol><h4 id="analogy-building-a-puzzle">Analogy: Building a Puzzle</h4><p>Imagine building a puzzle piece by piece on the table (the live DOM). Every time you place a piece, you slightly disturb the whole picture (the page layout). Instead, imagine assembling the pieces first on a tray (the Document Fragment). When the puzzle is complete, you place the tray on the table all at once — the picture appears instantly and cleanly with only one disturbance.</p><h4 id="basic-example-using-a-document-fragment">Basic Example: Using a Document Fragment</h4><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">// Create a new Document Fragment
const fragment = document.createDocumentFragment();

// Create and append elements to the fragment
for (let i = 1; i &lt;= 5; i++) {
  const li = document.createElement('li');
  li.textContent = `Item ${i}`;
  fragment.appendChild(li);
}

// Append the entire fragment to an existing &lt;ul&gt; in the DOM
const list = document.querySelector('ul');
list.appendChild(fragment);</code></pre>
</div><p>In this example:</p><ul>
 <li>Five <code>&lt;li&gt;</code> items are created and added to the fragment.</li>
 <li>The fragment is appended once to the <code>&lt;ul&gt;</code>.</li>
 <li>The browser performs a <strong>single reflow/repaint</strong>, making it more efficient than appending each <code>&lt;li&gt;</code> individually.</li>
</ul><div class="snippet-container" id="8vkNI">
 <div id="GHJZd_Dialog" class="dialog-backdrop">
  <div class="dialog">
   <h2>Dialog 1</h2>
   <div class="controls"><button onclick="renderIframe(this,'dVXC8_Textarea','GHJZd_IFrame')">Run</button> <button onclick="closeAll()">Close</button>
   </div>
   <div class="dialog-content"><textarea id="dVXC8_Textarea" class="textarea_dialog" placeholder="Type HTML here...">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;Document Fragment Example&lt;/title&gt;
  &lt;style&gt;
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    ul {
      padding-left: 20px;
    }
    li {
      margin-bottom: 5px;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

  &lt;h2&gt;List of Items&lt;/h2&gt;
  &lt;ul id="itemList"&gt;&lt;/ul&gt;

  &lt;script&gt;
    // Create a new Document Fragment
    const fragment = document.createDocumentFragment();

    // Create and append elements to the fragment
    for (let i = 1; i &lt;= 5; i++) {
      const li = document.createElement('li');
      li.textContent = `Item ${i}`;
      fragment.appendChild(li);
    }

    // Append the entire fragment to the existing &lt;ul&gt;
    const list = document.getElementById('itemList');
    list.appendChild(fragment);
  &lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</textarea> <iframe id="GHJZd_IFrame" class="iframe_dialog"></iframe>
   </div>
  </div>
 </div>
 <div class="snippet-header" onclick="toggleSnippetAndRefresh('8vkNI','dVXC8')">
  Click to Try it <!--<span onclick="toggleSnippetAndRefresh('8vkNI','dVXC8')">Click
			to Try it</span> --> <!-- <span onclick="openDialog('GHJZd_Dialog')">Dialog</span> -->
 </div>
 <div class="snippet-body"><textarea id="dVXC8">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;Document Fragment Example&lt;/title&gt;
  &lt;style&gt;
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    ul {
      padding-left: 20px;
    }
    li {
      margin-bottom: 5px;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

  &lt;h2&gt;List of Items&lt;/h2&gt;
  &lt;ul id="itemList"&gt;&lt;/ul&gt;

  &lt;script&gt;
    // Create a new Document Fragment
    const fragment = document.createDocumentFragment();

    // Create and append elements to the fragment
    for (let i = 1; i &lt;= 5; i++) {
      const li = document.createElement('li');
      li.textContent = `Item ${i}`;
      fragment.appendChild(li);
    }

    // Append the entire fragment to the existing &lt;ul&gt;
    const list = document.getElementById('itemList');
    list.appendChild(fragment);
  &lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</textarea> <br> <button onclick="renderIframe(this,'dVXC8','GHJZd')">Run</button>
  <div id="GHJZd_FloatingLog" class="floatingLog" aria-live="polite" role="alert"></div> <iframe id="GHJZd" class="result_iframe" style="display: none;"></iframe>
  <script>
			{
				let editor = CodeMirror.fromTextArea(document
						.getElementById("dVXC8"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    const mode = localStorage.getItem("mode") || "light";  
			    const newTheme = mode === "dark" ? "material" : "default";
			    editor.setOption("theme", newTheme);
			    
				codeMirrorMap.set("dVXC8", editor);

				let editor1 = CodeMirror.fromTextArea(document.getElementById("dVXC8_Textarea"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    editor1.setOption("theme", newTheme);				
				
				codeMirrorMap.set("dVXC8_Textarea", editor1);
			}
		    function openDialog(id) {
		        closeAll();
		        document.getElementById(id).style.display = 'flex';
		        setTimeout(() => {
		        	 codeMirrorMap.get("dVXC8_Textarea").refresh();
		        }, 100); // 100ms 
		      }

		      function closeAll() {
		        document.querySelectorAll('.dialog-backdrop').forEach(el => {
		          el.style.display = 'none';
		        });
		      }			
		</script>
 </div>
</div><h4 id="summary">Summary</h4><ul>
 <li><strong>Document Fragments</strong> are invisible, lightweight containers used to hold DOM nodes temporarily.</li>
 <li>They help improve performance by batching DOM insertions.</li>
 <li>They prevent intermediate rendering, ensuring cleaner updates.</li>
 <li>Use them whenever adding multiple nodes to the DOM to optimize rendering and provide smoother user experiences.</li>
</ul><p>In the next section, we'll explore how <code>&lt;template&gt;</code> elements complement Document Fragments by providing reusable HTML snippets for cloning content efficiently.</p><div class = "chapter-navi-section">
<a href="#top" class="nav-button prev">↑</a>
<a href='javascript-dom-programming.htm#manipulating-document-fragments-and-templates' class="nav-button toc-link">Index</a>
<a href="#bottom" class="nav-button next">↓</a>
</div>
<h2 id='using-template-elements-for-cloning-content'>10.2 Using <code>&lt;template&gt;</code> Elements for Cloning Content</h2><p>When building dynamic web applications, you often need to create multiple copies of the same HTML structure—like list items, cards, or form groups. Writing this HTML repeatedly or constructing it entirely with JavaScript can be cumbersome and error-prone. The <strong><code>&lt;template&gt;</code> element</strong> solves this problem by allowing you to define reusable chunks of HTML that are <strong>inert and not rendered</strong> until you decide to use them.</p><h4 id="what-is-the-template-element">What Is the <code>template</code> Element?</h4><p>The <code>&lt;template&gt;</code> tag is a special HTML element designed to hold <strong>markup fragments</strong> that are:</p><ul>
 <li><strong>Not displayed</strong> on the page when the HTML loads.</li>
 <li><strong>Not part of the active DOM</strong> until you clone and insert their content.</li>
 <li>Used as <strong>blueprints</strong> for creating DOM nodes dynamically.</li>
</ul><p>This means you can keep your HTML markup clean and separate from JavaScript logic, and instantiate copies of the template as needed.</p><h4 id="how-does-a-template-work">How Does a Template Work?</h4><p>Inside a <code>&lt;template&gt;</code>, the HTML markup exists but is inactive. When you want to use it, you:</p><ol>
 <li>Select the <code>&lt;template&gt;</code> element from the DOM.</li>
 <li>Access its <code>.content</code> property, which is a Document Fragment containing the template’s nodes.</li>
 <li>Clone this content with <code>cloneNode(true)</code> to create a fresh, live copy.</li>
 <li>Insert the cloned nodes into the visible DOM.</li>
</ol><p>Since the template itself never renders, it acts like a <strong>hidden mold</strong> for repeated content.</p><h4 id="practical-use-cases-for-template">Practical Use Cases for <code>template</code></h4><ul>
 <li>Rendering lists or tables with repeated rows or items.</li>
 <li>Creating cards, modals, or UI components dynamically.</li>
 <li>Injecting forms or complex elements based on user interaction.</li>
</ul><h4 id="basic-example-rendering-list-items-with-a-template">Basic Example: Rendering List Items with a Template</h4><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-html">&lt;!-- Define the template in HTML --&gt;
&lt;template id="item-template"&gt;
  &lt;li class="item"&gt;
    &lt;span class="item-name"&gt;&lt;/span&gt;
    &lt;button class="remove-btn"&gt;Remove&lt;/button&gt;
  &lt;/li&gt;
&lt;/template&gt;

&lt;ul id="item-list"&gt;&lt;/ul&gt;

&lt;script&gt;
  // Sample data to render
  const items = ['Apple', 'Banana', 'Cherry'];

  // Select the template and list container
  const template = document.getElementById('item-template');
  const list = document.getElementById('item-list');

  items.forEach(name =&gt; {
    // Clone the template content deeply
    const clone = template.content.cloneNode(true);

    // Customize the cloned content
    clone.querySelector('.item-name').textContent = name;

    // Append the clone to the list
    list.appendChild(clone);
  });
&lt;/script&gt;</code></pre>
</div><p>In this example:</p><ul>
 <li>The <code>&lt;template&gt;</code> defines the structure of each list item.</li>
 <li>The JavaScript clones the template content for each data item.</li>
 <li>The cloned nodes are updated with the item name and inserted into the DOM.</li>
 <li>This keeps the markup separate and the code clean and efficient.</li>
</ul><div class="snippet-container" id="lkuKO">
 <div id="p7PBx_Dialog" class="dialog-backdrop">
  <div class="dialog">
   <h2>Dialog 1</h2>
   <div class="controls"><button onclick="renderIframe(this,'7cfMC_Textarea','p7PBx_IFrame')">Run</button> <button onclick="closeAll()">Close</button>
   </div>
   <div class="dialog-content"><textarea id="7cfMC_Textarea" class="textarea_dialog" placeholder="Type HTML here...">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Template Example&lt;/title&gt;
  &lt;style&gt;
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }

    ul {
      padding-left: 20px;
    }

    .item {
      display: flex;
      align-items: center;
      margin-bottom: 8px;
    }

    .item-name {
      flex-grow: 1;
    }

    .remove-btn {
      margin-left: 10px;
      padding: 4px 8px;
      cursor: pointer;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

  &lt;h2&gt;Fruit List&lt;/h2&gt;

  &lt;!-- Template Definition --&gt;
  &lt;template id="item-template"&gt;
    &lt;li class="item"&gt;
      &lt;span class="item-name"&gt;&lt;/span&gt;
      &lt;button class="remove-btn"&gt;Remove&lt;/button&gt;
    &lt;/li&gt;
  &lt;/template&gt;

  &lt;!-- List Container --&gt;
  &lt;ul id="item-list"&gt;&lt;/ul&gt;

  &lt;script&gt;
    // Sample data
    const items = ['Apple', 'Banana', 'Cherry'];

    const template = document.getElementById('item-template');
    const list = document.getElementById('item-list');

    items.forEach(name =&gt; {
      const clone = template.content.cloneNode(true);
      clone.querySelector('.item-name').textContent = name;

      // Optional: add functionality to remove item
      clone.querySelector('.remove-btn').addEventListener('click', (e) =&gt; {
        e.target.closest('li').remove();
      });

      list.appendChild(clone);
    });
  &lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</textarea> <iframe id="p7PBx_IFrame" class="iframe_dialog"></iframe>
   </div>
  </div>
 </div>
 <div class="snippet-header" onclick="toggleSnippetAndRefresh('lkuKO','7cfMC')">
  Click to Try it <!--<span onclick="toggleSnippetAndRefresh('lkuKO','7cfMC')">Click
			to Try it</span> --> <!-- <span onclick="openDialog('p7PBx_Dialog')">Dialog</span> -->
 </div>
 <div class="snippet-body"><textarea id="7cfMC">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Template Example&lt;/title&gt;
  &lt;style&gt;
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }

    ul {
      padding-left: 20px;
    }

    .item {
      display: flex;
      align-items: center;
      margin-bottom: 8px;
    }

    .item-name {
      flex-grow: 1;
    }

    .remove-btn {
      margin-left: 10px;
      padding: 4px 8px;
      cursor: pointer;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

  &lt;h2&gt;Fruit List&lt;/h2&gt;

  &lt;!-- Template Definition --&gt;
  &lt;template id="item-template"&gt;
    &lt;li class="item"&gt;
      &lt;span class="item-name"&gt;&lt;/span&gt;
      &lt;button class="remove-btn"&gt;Remove&lt;/button&gt;
    &lt;/li&gt;
  &lt;/template&gt;

  &lt;!-- List Container --&gt;
  &lt;ul id="item-list"&gt;&lt;/ul&gt;

  &lt;script&gt;
    // Sample data
    const items = ['Apple', 'Banana', 'Cherry'];

    const template = document.getElementById('item-template');
    const list = document.getElementById('item-list');

    items.forEach(name =&gt; {
      const clone = template.content.cloneNode(true);
      clone.querySelector('.item-name').textContent = name;

      // Optional: add functionality to remove item
      clone.querySelector('.remove-btn').addEventListener('click', (e) =&gt; {
        e.target.closest('li').remove();
      });

      list.appendChild(clone);
    });
  &lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</textarea> <br> <button onclick="renderIframe(this,'7cfMC','p7PBx')">Run</button>
  <div id="p7PBx_FloatingLog" class="floatingLog" aria-live="polite" role="alert"></div> <iframe id="p7PBx" class="result_iframe" style="display: none;"></iframe>
  <script>
			{
				let editor = CodeMirror.fromTextArea(document
						.getElementById("7cfMC"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    const mode = localStorage.getItem("mode") || "light";  
			    const newTheme = mode === "dark" ? "material" : "default";
			    editor.setOption("theme", newTheme);
			    
				codeMirrorMap.set("7cfMC", editor);

				let editor1 = CodeMirror.fromTextArea(document.getElementById("7cfMC_Textarea"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    editor1.setOption("theme", newTheme);				
				
				codeMirrorMap.set("7cfMC_Textarea", editor1);
			}
		    function openDialog(id) {
		        closeAll();
		        document.getElementById(id).style.display = 'flex';
		        setTimeout(() => {
		        	 codeMirrorMap.get("7cfMC_Textarea").refresh();
		        }, 100); // 100ms 
		      }

		      function closeAll() {
		        document.querySelectorAll('.dialog-backdrop').forEach(el => {
		          el.style.display = 'none';
		        });
		      }			
		</script>
 </div>
</div><h4 id="key-points-about-templates">Key Points About Templates</h4><ul>
 <li>Templates <strong>do not render their content</strong> until cloned and inserted.</li>
 <li><code>.content</code> is a Document Fragment, allowing efficient manipulation.</li>
 <li><code>cloneNode(true)</code> makes a deep clone, copying all child nodes.</li>
 <li>Templates help maintain separation of concerns by isolating markup.</li>
</ul><h4 id="summary">Summary</h4><p>Using <code>&lt;template&gt;</code> elements allows you to define reusable HTML fragments that remain dormant until needed. They enable you to efficiently render repeated UI elements, keep your HTML organized, and improve performance by leveraging Document Fragments under the hood.</p><p>Next, we will explore a practical example combining Document Fragments and templates for efficient list rendering.</p><div class = "chapter-navi-section">
<a href="#top" class="nav-button prev">↑</a>
<a href='javascript-dom-programming.htm#manipulating-document-fragments-and-templates' class="nav-button toc-link">Index</a>
<a href="#bottom" class="nav-button next">↓</a>
</div>
<h2 id='practical-example-efficient-list-rendering-with-templates'>10.3 Practical Example: Efficient List Rendering with Templates</h2><p>In this section, we'll combine the power of <strong><code>&lt;template&gt;</code> elements</strong> and <strong>Document Fragments</strong> to efficiently render a dynamic list from an array of data. Using these together helps minimize costly DOM updates, leading to better performance—especially when rendering many items.</p><h4 id="the-scenario">The Scenario</h4><p>Suppose we want to display a list of tasks dynamically. We'll:</p><ul>
 <li>Use a <code>&lt;template&gt;</code> to define the HTML structure for each task.</li>
 <li>Clone and customize the template for each task.</li>
 <li>Use a Document Fragment to batch all new nodes before inserting them into the DOM at once.</li>
</ul><h4 id="complete-example-code">Complete Example Code</h4><p>HTML:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-html">&lt;h2&gt;Task List&lt;/h2&gt;
  &lt;ul id="task-list"&gt;&lt;/ul&gt;

  &lt;!-- Template defining structure for each task --&gt;
  &lt;template id="task-template"&gt;
    &lt;li class="task-item"&gt;
      &lt;span class="task-name"&gt;&lt;/span&gt;
      &lt;button class="remove-btn"&gt;Remove&lt;/button&gt;
    &lt;/li&gt;
  &lt;/template&gt;</code></pre>
</div><p>Javascript:</p><div class="code-block"><button class="copy-button" onclick="copyCode(this)">▯</button>
 <pre><code class="language-js">// Sample array of tasks
    const tasks = [
      { id: 1, name: 'Buy groceries' },
      { id: 2, name: 'Clean the house' },
      { id: 3, name: 'Finish project' }
    ];

    // Select the template and the list container
    const template = document.getElementById('task-template');
    const taskList = document.getElementById('task-list');

    // Create a document fragment to batch DOM insertion
    const fragment = document.createDocumentFragment();

    tasks.forEach(task =&gt; {
      // Clone the template content
      const clone = template.content.cloneNode(true);
      const taskItem = clone.querySelector('.task-item'); // This is the &lt;li&gt;

      // Set the task name
      taskItem.querySelector('.task-name').textContent = task.name;

      // Attach event listener
      taskItem.querySelector('.remove-btn').addEventListener('click', () =&gt; {
        taskItem.remove(); // Remove this specific task item
      });

      // Append the taskItem to the fragment
      fragment.appendChild(taskItem);
    });

    // Insert all items into the DOM
    taskList.appendChild(fragment);</code></pre>
</div><div class="snippet-container" id="bIIN8">
 <div id="YSuFe_Dialog" class="dialog-backdrop">
  <div class="dialog">
   <h2>Dialog 1</h2>
   <div class="controls"><button onclick="renderIframe(this,'uPVi0_Textarea','YSuFe_IFrame')">Run</button> <button onclick="closeAll()">Close</button>
   </div>
   <div class="dialog-content"><textarea id="uPVi0_Textarea" class="textarea_dialog" placeholder="Type HTML here...">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;Efficient List Rendering&lt;/title&gt;
  &lt;style&gt;
    .task-item {
      margin: 5px 0;
      padding: 8px;
      background: #f0f0f0;
      border-radius: 4px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .remove-btn {
      background: #e74c3c;
      border: none;
      color: white;
      padding: 4px 8px;
      cursor: pointer;
      border-radius: 3px;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h2&gt;Task List&lt;/h2&gt;
  &lt;ul id="task-list"&gt;&lt;/ul&gt;

  &lt;!-- Template defining structure for each task --&gt;
  &lt;template id="task-template"&gt;
    &lt;li class="task-item"&gt;
      &lt;span class="task-name"&gt;&lt;/span&gt;
      &lt;button class="remove-btn"&gt;Remove&lt;/button&gt;
    &lt;/li&gt;
  &lt;/template&gt;

  &lt;script&gt;
    // Sample array of tasks
    const tasks = [
      { id: 1, name: 'Buy groceries' },
      { id: 2, name: 'Clean the house' },
      { id: 3, name: 'Finish project' }
    ];

    // Select the template and the list container
    const template = document.getElementById('task-template');
    const taskList = document.getElementById('task-list');

    // Create a document fragment to batch DOM insertion
    const fragment = document.createDocumentFragment();

    tasks.forEach(task =&gt; {
      // Clone the template content
      const clone = template.content.cloneNode(true);
      const taskItem = clone.querySelector('.task-item'); // This is the &lt;li&gt;

      // Set the task name
      taskItem.querySelector('.task-name').textContent = task.name;

      // Attach event listener
      taskItem.querySelector('.remove-btn').addEventListener('click', () =&gt; {
        taskItem.remove(); // Remove this specific task item
      });

      // Append the taskItem to the fragment
      fragment.appendChild(taskItem);
    });

    // Insert all items into the DOM
    taskList.appendChild(fragment);
  &lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</textarea> <iframe id="YSuFe_IFrame" class="iframe_dialog"></iframe>
   </div>
  </div>
 </div>
 <div class="snippet-header" onclick="toggleSnippetAndRefresh('bIIN8','uPVi0')">
  Click to Try it <!--<span onclick="toggleSnippetAndRefresh('bIIN8','uPVi0')">Click
			to Try it</span> --> <!-- <span onclick="openDialog('YSuFe_Dialog')">Dialog</span> -->
 </div>
 <div class="snippet-body"><textarea id="uPVi0">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;title&gt;Efficient List Rendering&lt;/title&gt;
  &lt;style&gt;
    .task-item {
      margin: 5px 0;
      padding: 8px;
      background: #f0f0f0;
      border-radius: 4px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .remove-btn {
      background: #e74c3c;
      border: none;
      color: white;
      padding: 4px 8px;
      cursor: pointer;
      border-radius: 3px;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h2&gt;Task List&lt;/h2&gt;
  &lt;ul id="task-list"&gt;&lt;/ul&gt;

  &lt;!-- Template defining structure for each task --&gt;
  &lt;template id="task-template"&gt;
    &lt;li class="task-item"&gt;
      &lt;span class="task-name"&gt;&lt;/span&gt;
      &lt;button class="remove-btn"&gt;Remove&lt;/button&gt;
    &lt;/li&gt;
  &lt;/template&gt;

  &lt;script&gt;
    // Sample array of tasks
    const tasks = [
      { id: 1, name: 'Buy groceries' },
      { id: 2, name: 'Clean the house' },
      { id: 3, name: 'Finish project' }
    ];

    // Select the template and the list container
    const template = document.getElementById('task-template');
    const taskList = document.getElementById('task-list');

    // Create a document fragment to batch DOM insertion
    const fragment = document.createDocumentFragment();

    tasks.forEach(task =&gt; {
      // Clone the template content
      const clone = template.content.cloneNode(true);
      const taskItem = clone.querySelector('.task-item'); // This is the &lt;li&gt;

      // Set the task name
      taskItem.querySelector('.task-name').textContent = task.name;

      // Attach event listener
      taskItem.querySelector('.remove-btn').addEventListener('click', () =&gt; {
        taskItem.remove(); // Remove this specific task item
      });

      // Append the taskItem to the fragment
      fragment.appendChild(taskItem);
    });

    // Insert all items into the DOM
    taskList.appendChild(fragment);
  &lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</textarea> <br> <button onclick="renderIframe(this,'uPVi0','YSuFe')">Run</button>
  <div id="YSuFe_FloatingLog" class="floatingLog" aria-live="polite" role="alert"></div> <iframe id="YSuFe" class="result_iframe" style="display: none;"></iframe>
  <script>
			{
				let editor = CodeMirror.fromTextArea(document
						.getElementById("uPVi0"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    const mode = localStorage.getItem("mode") || "light";  
			    const newTheme = mode === "dark" ? "material" : "default";
			    editor.setOption("theme", newTheme);
			    
				codeMirrorMap.set("uPVi0", editor);

				let editor1 = CodeMirror.fromTextArea(document.getElementById("uPVi0_Textarea"), {
					mode : "htmlmixed",
					lineNumbers : false,
					tabSize : 2
				});
			    editor1.setOption("theme", newTheme);				
				
				codeMirrorMap.set("uPVi0_Textarea", editor1);
			}
		    function openDialog(id) {
		        closeAll();
		        document.getElementById(id).style.display = 'flex';
		        setTimeout(() => {
		        	 codeMirrorMap.get("uPVi0_Textarea").refresh();
		        }, 100); // 100ms 
		      }

		      function closeAll() {
		        document.querySelectorAll('.dialog-backdrop').forEach(el => {
		          el.style.display = 'none';
		        });
		      }			
		</script>
 </div>
</div><h4 id="step-by-step-explanation">Step-by-Step Explanation</h4><ol>
 <li><p><strong>Template Definition</strong>: The <code>&lt;template&gt;</code> contains the HTML for each task list item—a <code>&lt;li&gt;</code> with a task name span and a remove button.</p></li>
 <li><p><strong>Selecting Elements</strong>: We grab references to the template and the list container (<code>&lt;ul&gt;</code>).</p></li>
 <li><p><strong>Creating a Document Fragment</strong>: The fragment acts as a temporary container for all cloned and customized task nodes. This prevents multiple reflows caused by adding each element directly to the DOM.</p></li>
 <li><p><strong>Cloning and Binding Data</strong>: For each task object, we clone the template content deeply (<code>cloneNode(true)</code>), then update the <code>.task-name</code> span's text to the task's name.</p></li>
 <li><p><strong>Adding Event Listeners</strong>: We add a click listener to the "Remove" button inside each clone. When clicked, it removes the corresponding task item from the DOM.</p></li>
 <li><p><strong>Batch Append</strong>: After cloning and customizing all tasks, we append the entire fragment to the list container in one operation. This is much more efficient than inserting each item individually.</p></li>
</ol><h4 id="encouragement-for-experimentation">Encouragement for Experimentation</h4><ul>
 <li><strong>Edit Functionality</strong>: Add an edit button that allows modifying task names inline.</li>
 <li><strong>Dynamic Data</strong>: Update the <code>tasks</code> array dynamically and re-render the list efficiently.</li>
 <li><strong>Persistence</strong>: Save tasks to <code>localStorage</code> so the list persists between page reloads.</li>
 <li><strong>Styling</strong>: Add CSS classes dynamically using <code>classList</code> to highlight completed tasks.</li>
 <li><strong>Animations</strong>: Use CSS transitions to smoothly fade out removed items.</li>
</ul><h4 id="why-this-approach">Why This Approach?</h4><ul>
 <li><strong>Performance</strong>: Minimizes browser reflows and repaints by inserting multiple elements at once.</li>
 <li><strong>Maintainability</strong>: Keeps HTML markup declarative and separate from JS logic.</li>
 <li><strong>Scalability</strong>: Easily handles large datasets without significant performance hits.</li>
 <li><strong>User Experience</strong>: Enables smooth, dynamic UI updates.</li>
</ul><p>This example demonstrates how combining templates with document fragments is a best practice for rendering dynamic lists efficiently, keeping your code clean and your app performant.</p><div class = "chapter-navi-section">
<a href="javascript-dom-programming-dom-storage-and-state-persistence.htm" class="nav-button prev">←</a>
<a href='javascript-dom-programming.htm#manipulating-document-fragments-and-templates' class="nav-button toc-link">Index</a>
<a href="javascript-dom-programming-working-with-shadow-dom.htm" class="nav-button next">→</a>
</div>
<section class="download-section">
  <div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 16px;color: #333;top: 20px;">JavaScript DOM Programming</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 60px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAADUklEQVR4Xu2dv47TQBDGI0RDczY9rwMlrwEFBweC/t4EXRwaXuI6WiSaOLkCIZ6BCqTgPRFr8zkbnPF4Zuydn/RVuzsz33eSlX/2LRYRm1Xxe1MVOzY19eL6/6NzfqCw/ilEvXc2Mwh7pNiuyks8O1T1snyNfVLgWQ5hjxbcyCHskaJelVd4drCW5Vvsk6JzlkHYo6XXph5Q6hwEfUZASDhLqUOZ+Ri96vTa1ANKHQ+aAKWOB02AUseDJkCp40EToNTxoAlQ6njQBCh1PGgClDrZBs0l7JEi23eGXMIeKTbVxSs8O1Trm4tL7JMCz3IIe7Rsq+IXbh6iUA97nALPDxXWP4W29w5xMVwbG67rOBVR76LNAA9aiKyCbq49L0QbRmgGHXuul8VLXB+F3IPGtdGIm0o21gpay+89Gs01gtbwecDPz08eSQ8hHTT6C55xjwh3q+IZDhO0u148wL0cSAR93cyOfoKCV9wryu528RCHmpuCR/StRvOy7w8OOHUFT+jTDHdV+RwHnpqCB/SVFRLXaGfhQYvhQQvhQQvhQQvhQf8DXyZNXehPnW+fisc45FwUvKFfNXC4uQn9qvD1Y1maG4qB2NP3xiOui1NX5Zv9QNuq+IDrU6Xx8n7vq16WV7guTvxKYH1TvsP1qWLOl7mBmDDny9xATJjzZW4gJsz5MjcQE+Z8mRuICXO+zA3EhDlf5gZiwpwvcwMxYc6XuYGYMOfL3EBMmPNlbiAmzPkyNxAT5nyZG4gJc778Y1Ih/IN/QeKh5ij0q8acv5z9YenL2T045NSF/rIhfiWQ9Q9oxsaDFsKDFsKDFsKDFsKDjqj9ZqFx8dvfRubWb+gcn+Yv/hSHuh9swrcoh9nRT5DaLcpf/KZ7GXAIXB8D6aADGj5btJprBB3Q8nvQGNfGRCvogLjntT+8SubhVVohBzSDDoh6F20GeNBCzCZo7Qeh4vmhwvqnEPWOmzmEPVJk9Vhj3Mgh7JHi4LLApTMuL52zDMIeLb029YBSh+v6G85S6lBmPkavOr029YBSx4MmQKnjQROg1PGgCVDqeNAEKHU8aAKUOh40AUodD5oApU62QXMJe6TI9p0hl7BHitz+XTX3j2DO+gHKkfODhPVPsRnZ+1+tJg8Iaaje6wAAAABJRU5ErkJggg=="/>
  </div>
  <div class="download-info">
    <h2 id='bottom'>Download This Ebook</h2>
    <p class="format-label">Available formats:</p>
    <div class="download-buttons">
      <a href="javascript-dom-programming.pdf" class="download-button">📄 PDF</a>
      <a href="javascript-dom-programming.epub" class="download-button">📘 EPUB</a>
    </div>
  </div>
</section><div class='related-books'>
<h2>Javascript Web Front Books</h2>
<div class='related-book-list'>
<a href="javascript-canvas-programming.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 16px;color: #333;top: 10px;">JavaScript Canvas Programming</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 80px;height: 80px;top: 70px;" src='data:image/png;base64,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'/>
  </div>
</a>


<a href="javascript-dom-programming.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 16px;color: #333;top: 20px;">JavaScript DOM Programming</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 60px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAADUklEQVR4Xu2dv47TQBDGI0RDczY9rwMlrwEFBweC/t4EXRwaXuI6WiSaOLkCIZ6BCqTgPRFr8zkbnPF4Zuydn/RVuzsz33eSlX/2LRYRm1Xxe1MVOzY19eL6/6NzfqCw/ilEvXc2Mwh7pNiuyks8O1T1snyNfVLgWQ5hjxbcyCHskaJelVd4drCW5Vvsk6JzlkHYo6XXph5Q6hwEfUZASDhLqUOZ+Ri96vTa1ANKHQ+aAKWOB02AUseDJkCp40EToNTxoAlQ6njQBCh1PGgClDrZBs0l7JEi23eGXMIeKTbVxSs8O1Trm4tL7JMCz3IIe7Rsq+IXbh6iUA97nALPDxXWP4W29w5xMVwbG67rOBVR76LNAA9aiKyCbq49L0QbRmgGHXuul8VLXB+F3IPGtdGIm0o21gpay+89Gs01gtbwecDPz08eSQ8hHTT6C55xjwh3q+IZDhO0u148wL0cSAR93cyOfoKCV9wryu528RCHmpuCR/StRvOy7w8OOHUFT+jTDHdV+RwHnpqCB/SVFRLXaGfhQYvhQQvhQQvhQQvhQf8DXyZNXehPnW+fisc45FwUvKFfNXC4uQn9qvD1Y1maG4qB2NP3xiOui1NX5Zv9QNuq+IDrU6Xx8n7vq16WV7guTvxKYH1TvsP1qWLOl7mBmDDny9xATJjzZW4gJsz5MjcQE+Z8mRuICXO+zA3EhDlf5gZiwpwvcwMxYc6XuYGYMOfL3EBMmPNlbiAmzPkyNxAT5nyZG4gJc778Y1Ih/IN/QeKh5ij0q8acv5z9YenL2T045NSF/rIhfiWQ9Q9oxsaDFsKDFsKDFsKDFsKDjqj9ZqFx8dvfRubWb+gcn+Yv/hSHuh9swrcoh9nRT5DaLcpf/KZ7GXAIXB8D6aADGj5btJprBB3Q8nvQGNfGRCvogLjntT+8SubhVVohBzSDDoh6F20GeNBCzCZo7Qeh4vmhwvqnEPWOmzmEPVJk9Vhj3Mgh7JHi4LLApTMuL52zDMIeLb029YBSh+v6G85S6lBmPkavOr029YBSx4MmQKnjQROg1PGgCVDqeNAEKHU8aAKUOh40AUodD5oApU62QXMJe6TI9p0hl7BHitz+XTX3j2DO+gHKkfODhPVPsRnZ+1+tJg8Iaaje6wAAAABJRU5ErkJggg=="/>
  </div>
</a>


<a href="javascript-data-visualization.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 16px;color: #333;top: 20px;">JavaScript Data Visualization</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 60px;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAC0UlEQVR4Xu3dMWsUURSG4fwr2U6zJI0WKZSAaa0EG7tU2giWimLETrQQQRCxUDsbK3+IYOWCiFU06IQz356ZuffOvXdm4A28ze585OxDsLDZnR3zs1pf+rHavXhKWdpY2/Mf50HKEMgV+4cs/1z8/v6OMiTYm9Zfsz5M42r9VQNdLqArBXSlgK4U0JUCulKLgrb39aW7ObQY6PXl/S3Qrs6e1f3ULQZaMYfS/dTZ2xYDvff6g9tS7ge6YEBXCuhKAV0poCsFdKWArtQk0G9e3Tt9dnLc2+dPD1sboCOzv2Ool8/vujsFBtpJMYfydgoMtFMqWOpuLtnbgC6YvQ3ogtnbgC6YvQ3ogtnbgC6YvQ3ogtnbgC6YvQ3ogtnboqCvHR20xn11/UKF6gNL3Y1JP0dXV68fbG01+3wUtP6yvp4+OXZ3CtUHlrpL7ew/tvRz9KV7zT4LtGmW0O+/fnRr3l86tH4u/Xwhv88+C7QJ6MhdakBH7lIDOnKXGtCRu9SAjtylBnTkLjWgI3e67evnt7fnG6BH7EJqdkCP2IXU7IAesft169DN2wE9YqfAQDt35NgpMNDOHTl2Cgy0c0eOnQID7dxhXwvJ2ykw0M4d9rWQvJ0CA+3cYV8LydspMNDOHfa1C/cfuQ3tFBho5w77mgID/f99oCeGDsnbKXBp6JDUR7PPAm12QO8CvVXzfhe0QoWC6fOhOwUOhX7w4rGbt+vKPgu02QE9YqfAi4Meai7QITU7oEfsQmp2s4S+cfumW/P+XKDvXFm7ebtZQusBeshcoL8c7rt5O6BH7BQYaOeOHDsFBtq5I8dOgYF27sixU2CgnTty7BQYaOeOHDsFBtq5I8dOgRcHPVQXdEhT7Wb536RDAQ30Vs1uNtAUF9CVArpSQFcK6EoBXSmgK9WG5qtQi2RNV803KsuLlDn7RcpgF6qF3Pz8fWOjD1JyrS9g/wOlHj3Oru4PcQAAAABJRU5ErkJggg=="/>
  </div>
</a>


<a href="jquery-in-depth.htm">
<div class="book-cover" style="background-color: #f9f6f1;border: 1px solid #ccc;"> 
    <div class="book-cover-title" style="font-size: 18px;color: #333;top: 20px;">jQuery In-Depth</div>
    <div class="book-cover-author">readbytes</div>
    <div class="book-cover-bottom-stripe" style="background-color: #333;"></div>
    <img class="book-cover-icon" style="width: 90px;height: 90px;top: 65px;" src='data:image/png;base64,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'/>
  </div>
</a>



<a href='javascript.htm'><div class='book-cover' style='background-color: #f9f6f1;color: #111111;border: 1px solid #ccc;display: flex;justify-content: center;align-items: center;text-align: center;'>More Javascript Books</div></a>
</div>
</div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
  
  <script>
    function copyCode(button) {
      const code = button.nextElementSibling.innerText;
      navigator.clipboard.writeText(code).then(() => {
        button.textContent = 'Copied!';
        setTimeout(() => { button.textContent = 'Copy'; }, 1500);
      });
    }
  </script>  
<div id="floatingLog" aria-live="polite" role="alert"></div>
<footer class="page-footer">
    <nav>
      <a href="https://readbytes.github.io">Home</a> | 
      Email:<script language="JavaScript" type="text/javascript">
var part1 = 'yinpeng';var part6 = '263';var part2 = Math.pow(2,6);var part3 = String.fromCharCode(part2);var part4 = 'hotmail dot com';var part5 = part1 + String.fromCharCode(part2) + part4;document.write(part1 + part6 + part3 + part4);
</script>
    </nav>
  <p>© 2025 — All rights reserved.</p>    
  </footer>

</body>
</html>